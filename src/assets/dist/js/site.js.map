{"version":3,"mappings":"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","names":["nav","mainNav","mobileIcon","useElement","openCloseMenu","virtualRecruiter","virtualRecruiterField","registerEventListeners","event","updateRedirectParam","verifiedInput","checked","value","redirectParamInput","form","isMobileModule","isMobile","mobileRE","notMobileRE","tabletRE","opts","ua","result","assign","target","i","source","key","defaultConverter","init","converter","defaultAttributes","set","name","attributes","stringifiedAttributes","attributeName","get","cookies","jar","parts","found","api","exitBanner","modalId","modalWindow","modalExists","mobile","modalHasBeenDismissed","Cookies","initModal","assignEventListeners","setTrackingParams","checkIfBootstrapIsLoaded","buildYesBtnLink","referralVal","utmSource","yesBtnUrl","_isPlaceholder","a","_curry1","fn","f1","_curry2","f2","b","_b","_a","_curry3","f3","c","_c","_has","prop","obj","type","val","_isObject","x","_isInteger","n","_isString","_nth","offset","list","idx","_cloneRegExp","pattern","_clone","deep","map","_ObjectMap","_isPrimitive","copy","copiedValue","cachedCopy","param","hashedKey","bucket","p","element","clone","_path","pathAr","mergeWithKey","l","r","k","mergeDeepWithKey","lObj","rObj","lVal","rVal","mergeDeepWith","path","pickBy","test","isFunction","isString","isNull","isUndefined","isNullOrUndefined","isDefined","isDefinedAndNotNull","isDefinedNotNullAndNotEmptyString","isTypeOfError","getValueByPath","keyPath","pathParts","hasValueByPath","isObjectAndNotNull","isObjectLiteralAndNotNull","mergeDeepRightObjectArrays","leftValue","rightValue","mergedArray","index","mergeDeepRight","leftObject","rightObject","isNonEmptyObject","removeUndefinedValues","removeUndefinedAndNullValues","trim","removeDoubleSpaces","tryStringify","retVal","bytesToBase64","bytes","binString","toBase64","pageArgumentsToCallOptions","category","properties","options","callback","payload","trackArgumentsToCallOptions","identifyArgumentsToCallOptions","userId","traits","aliasArgumentsToCallOptions","to","from","groupArgumentsToCallOptions","groupId","CAPABILITIES_MANAGER","CONFIG_MANAGER","EVENT_MANAGER","PLUGINS_MANAGER","USER_SESSION_MANAGER","ERROR_HANDLER","PLUGIN_ENGINE","STORE_MANAGER","READY_API","EVENT_REPOSITORY","EXTERNAL_SRC_LOADER","HTTP_CLIENT","RS_APP","ANALYTICS_CORE","APP_NAME","APP_VERSION","APP_NAMESPACE","MODULE_TYPE","ADBLOCK_PAGE_CATEGORY","ADBLOCK_PAGE_NAME","ADBLOCK_PAGE_PATH","GLOBAL_PRELOAD_BUFFER","CONSENT_TRACK_EVENT_NAME","QUERY_PARAM_TRAIT_PREFIX","QUERY_PARAM_PROPERTY_PREFIX","QUERY_PARAM_ANONYMOUS_ID_KEY","QUERY_PARAM_USER_ID_KEY","QUERY_PARAM_TRACK_EVENT_NAME_KEY","DEFAULT_XHR_TIMEOUT_MS","DEFAULT_COOKIE_MAX_AGE_MS","DEFAULT_SESSION_TIMEOUT_MS","MIN_SESSION_TIMEOUT_MS","DEFAULT_DATA_PLANE_EVENTS_BUFFER_TIMEOUT_MS","DEBOUNCED_TIMEOUT_MS","createExposedGlobals","analyticsInstanceId","setExposedGlobal","keyName","getExposedGlobal","debounce","func","thisArg","delay","timeoutId","args","getEventDataFromQueryString","params","dataTypeNamePrefix","data","dataKey","retrieveEventsFromQueryString","argumentsArray","eventArgumentToQueryParamMap","queryObject","getPreloadedLoadEvent","preloadedEventsArray","loadMethodName","loadEvent","promotePreloadedConsentEventsToTop","consentMethodName","consentEvents","bufferedEvent","nonConsentEvents","retrievePreloadBufferEvents","instance","consumePreloadBufferedEvent","analyticsInstance","methodName","callOptions","DEFAULT_EXT_SRC_LOAD_TIMEOUT_MS","LOG_CONTEXT_SEPARATOR","SCRIPT_ALREADY_EXISTS_ERROR","id","SCRIPT_LOAD_ERROR","url","SCRIPT_LOAD_TIMEOUT_ERROR","timeout","CIRCULAR_REFERENCE_WARNING","context","JSON_STRINGIFY_WARNING","JSON_STRINGIFY","getCircularReplacer","excludeNull","excludeKeys","logger","ancestors","stringifyWithoutCircular","err","getMutatedError","issue","finalError","EXTERNAL_SOURCE_LOAD_ORIGIN","createScriptElement","async","onload","onerror","extraAttributes","scriptElement","insertScript","newScriptElement","_d","headElements","scriptElements","headElement","htmlElement","jsFileLoader","resolve","reject","timeoutID","ExternalSrcLoader","errorHandler","__publicField","config","isFireAndForget","error","t","s","h","f","o","v","e","u","E","y","_","g","BufferQueue","item","LOG_LEVEL_MAP","DEFAULT_LOG_LEVEL","LOG_MSG_PREFIX","LOG_MSG_PREFIX_STYLE","LOG_MSG_STYLE","Logger","minLogLevel","scope","logProvider","logMethod","scopeVal","logLevel","msg","originalMsg","styledLogArgs","defaultLogger","SUPPORTED_STORAGE_TYPES","DEFAULT_STORAGE_TYPE","SOURCE_CONFIG_OPTION_ERROR","SOURCE_CONFIG_RESOLUTION_ERROR","SOURCE_DISABLED_ERROR","XHR_PAYLOAD_PREP_ERROR","EVENT_OBJECT_GENERATION_ERROR","PLUGIN_EXT_POINT_MISSING_ERROR","PLUGIN_EXT_POINT_INVALID_ERROR","COMPONENT_BASE_URL_ERROR","component","UNSUPPORTED_CONSENT_MANAGER_ERROR","selectedConsentManager","consentManagersToPluginNameMap","REPORTING_PLUGIN_INIT_FAILURE_ERROR","NOTIFY_FAILURE_ERROR","PLUGIN_NAME_MISSING_ERROR","PLUGIN_ALREADY_EXISTS_ERROR","pluginName","PLUGIN_NOT_FOUND_ERROR","PLUGIN_ENGINE_BUG_ERROR","PLUGIN_DEPS_ERROR","notExistDeps","PLUGIN_INVOCATION_ERROR","extPoint","STORAGE_UNAVAILABILITY_ERROR_PREFIX","storageType","SOURCE_CONFIG_FETCH_ERROR","reason","WRITE_KEY_VALIDATION_ERROR","writeKey","DATA_PLANE_URL_VALIDATION_ERROR","dataPlaneUrl","READY_API_CALLBACK_ERROR","XHR_DELIVERY_ERROR","prefix","status","statusText","XHR_REQUEST_ERROR","XHR_SEND_ERROR","STORE_DATA_SAVE_ERROR","STORE_DATA_FETCH_ERROR","DATA_SERVER_REQUEST_FAIL_ERROR","FAILED_SETTING_COOKIE_FROM_SERVER_ERROR","FAILED_SETTING_COOKIE_FROM_SERVER_GLOBAL_ERROR","STORAGE_TYPE_VALIDATION_WARNING","defaultStorageType","UNSUPPORTED_ERROR_REPORTING_PROVIDER_WARNING","selectedErrorReportingProvider","errorReportingProvidersToPluginNameMap","defaultProvider","UNSUPPORTED_STORAGE_ENCRYPTION_VERSION_WARNING","selectedStorageEncryptionVersion","storageEncryptionVersionsToPluginNameMap","defaultVersion","STORAGE_DATA_MIGRATION_OVERRIDE_WARNING","storageEncryptionVersion","RESERVED_KEYWORD_WARNING","property","parentKeyPath","reservedElements","UNSUPPORTED_BEACON_API_WARNING","TIMEOUT_NOT_NUMBER_WARNING","defaultValue","TIMEOUT_ZERO_WARNING","TIMEOUT_NOT_RECOMMENDED_WARNING","minTimeout","INVALID_SESSION_ID_WARNING","sessionId","minSessionIdLength","STORAGE_QUOTA_EXCEEDED_WARNING","STORAGE_UNAVAILABLE_WARNING","entry","selectedStorageType","finalStorageType","WRITE_KEY_NOT_A_STRING_ERROR","EMPTY_GROUP_CALL_ERROR","READY_CALLBACK_INVOKE_ERROR","API_CALLBACK_INVOKE_ERROR","NATIVE_DEST_PLUGIN_INITIALIZE_ERROR","DATAPLANE_PLUGIN_INITIALIZE_ERROR","DMT_PLUGIN_INITIALIZE_ERROR","NATIVE_DEST_PLUGIN_ENQUEUE_ERROR","DATAPLANE_PLUGIN_ENQUEUE_ERROR","INVALID_CONFIG_URL_WARNING","configUrl","POLYFILL_SCRIPT_LOAD_ERROR","scriptId","UNSUPPORTED_PRE_CONSENT_STORAGE_STRATEGY","selectedStrategy","defaultStrategy","UNSUPPORTED_PRE_CONSENT_EVENTS_DELIVERY_TYPE","selectedDeliveryType","defaultDeliveryType","generateMisconfiguredPluginsWarning","configurationStatus","missingPlugins","shouldAddMissingPlugins","isSinglePlugin","pluginsString","baseWarning","INVALID_POLYFILL_URL_WARNING","customPolyfillUrl","CDN_INT_DIR","CDN_PLUGINS_DIR","URL_PATTERN","BUILD_TYPE","SDK_CDN_BASE_URL","CDN_ARCH_VERSION_DIR","DEST_SDK_BASE_URL","PLUGINS_BASE_URL","DEFAULT_CONFIG_BE_URL","DEFAULT_ERROR_REPORTING_PROVIDER","DEFAULT_STORAGE_ENCRYPTION_VERSION","DEFAULT_DATA_PLANE_EVENTS_TRANSPORT","ConsentManagersToPluginNameMap","ErrorReportingProvidersToPluginNameMap","StorageEncryptionVersionsToPluginNameMap","DataPlaneEventsTransportToPluginNameMap","DEFAULT_DATA_SERVICE_ENDPOINT","defaultLoadOptions","loadOptionsState","DEFAULT_USER_SESSION_VALUES","SERVER_SIDE_COOKIES_DEBOUNCE_TIME","defaultSessionConfiguration","sessionState","capabilitiesState","reportingState","sourceConfigState","lifecycleState","consentsState","metricsState","contextState","nativeDestinationsState","eventBufferState","pluginsState","storageState","serverSideCookiesState","dataPlaneEventsState","defaultStateValues","state","PluginEngine","plugin","errorMessage","pos","pluginItem","lifeCycleName","dependency","allowMultiple","extensionPointName","noCall","throws","extensionPointNameParts","pluginMethodPath","method","defaultPluginEngine","FAILED_REQUEST_ERR_MSG_PREFIX","ERROR_MESSAGES_TO_BE_FILTERED","LOAD_ORIGIN","processError","eventTarget","isAllowedToBeNotified","ErrorHandler","pluginEngine","externalSrcLoader","errReportingInitVal","client","customMessage","shouldAlwaysThrow","errorType","normalizedError","breadcrumb","defaultErrorHandler","isNonCloudDestination","destination","isHybridModeDestination","getNonCloudDestinations","destinations","pluginNamesList","remotesMap","loadJS","resolvedUrl","script","merge","obj1","obj2","mergedObj","wrapShareModule","remoteFrom","__federation_method_ensure","remoteId","remote","__vitePreload","lib","shareScope","__federation_method_wrapDefault","module","need","__federation_method_getRemote","remoteName","componentName","factory","getFederatedModuleImport","federatedModulesBuildPluginImports","activePluginNames","remotePlugins","lazyLoadImport","getMandatoryPluginsMap","getOptionalPluginsMap","getRemotePluginsMap","pluginsInventory","remotePluginsInventory","PluginsManager","engine","pluginsToLoadFromConfig","pluginGroupsToProcess","addMissingPlugins","group","pluginsToConfigure","pluginsToLoad","availablePlugins","activePlugins","failedPlugins","localPlugin","remotePluginsList","remotePluginKey","remotePluginModule","plugins","responseTextToJson","responseText","onError","DEFAULT_XHR_REQUEST_OPTIONS","createXhrRequestOptions","basicAuthHeader","requestOptions","xhrRequest","xhr","xhrReject","xhrError","headerName","HttpClient","isRawResponse","noBtoa","authVal","defaultHttpClient","COOKIE_STORAGE","LOCAL_STORAGE","SESSION_STORAGE","MEMORY_STORAGE","NO_STORAGE","userIdKey","userTraitsKey","anonymousUserIdKey","groupIdKey","groupTraitsKey","pageInitialReferrerKey","pageInitialReferringDomainKey","sessionInfoKey","authTokenKey","COOKIE_KEYS","STORAGE_TEST_COOKIE","STORAGE_TEST_LOCAL_STORAGE","STORAGE_TEST_SESSION_STORAGE","STORAGE_TEST_TOP_LEVEL_DOMAIN","CLIENT_DATA_STORE_COOKIE","CLIENT_DATA_STORE_LS","CLIENT_DATA_STORE_MEMORY","CLIENT_DATA_STORE_SESSION","USER_SESSION_KEYS","storageClientDataStoreNameMap","COOKIE_DATA_ENCODING_ERROR","encode","decode","parse","str","pairs","pair","pairItem","optionsConfig","cookieString","all","cookieStringValue","cookie","detectAdBlockers","baseUrl","httpClient","details","hasCrypto$1","hasUAClientHints","hasBeacon","isIE11","getUserAgentClientHint","level","isDatasetAvailable","testElement","legacyJSEngineRequiredPolyfills","isLegacyJSEngine","requiredCapabilitiesList","needsPolyfill","isCapabilityMissing","getScreenDetails","screenDetails","isStorageQuotaExceeded","matchingNames","matchingCodes","isQuotaExceededError","isStorageAvailable","storageInstance","storage","testData","msgPrefix","legacyGetHostname","href","levelsFunc","host","last","levels","domain","cname","getDefaultCookieOptions","topDomain","getDefaultLocalStorageOptions","getDefaultSessionStorageOptions","getDefaultInMemoryStorageOptions","_CookieStorage","CookieStorage","InMemoryStorage","defaultInMemoryStorage","commonjsGlobal","getDefaultExportFromCjs","store$1","exports","global","isJSON","stringify","deserialize","isArray","dealIncognito","_KEY","_VALUE","inMemoryStorage","Store","ret","dt","len","d","arr","_Store","store","argm","storeExports","LocalStorage","defaultLocalStorage","SessionStorage","keys","defaultSessionStorage","getStorageEngine","configureCookieStorageEngine","cookieStorageOptions","configureLocalStorageEngine","configureInMemoryStorageEngine","configureSessionStorageEngine","configureStorageEngines","localStorageOptions","inMemoryStorageOptions","sessionStorageOptions","pluginsManager","validKeys","noKeyValidation","noCompoundKey","compoundKey","validKeyName","validKey","mode","formattedValue","getStorageTypeFromPreConsentIfApplicable","sessionKey","overriddenStorageType","StoreManager","loadOptions","globalStorageType","entriesOptions","postConsentStorageOpts","trulyAnonymousTracking","storageEntries","storageKey","configuredStorageType","_e","_f","storeConfig","storageEngine","removeDuplicateSlashes","isValidURL","validateWriteKey","validateDataPlaneUrl","validateLoadArgs","isValidSourceConfig","res","isValidStorageType","getTopDomainUrl","urlObj","protocol","getDataServiceUrl","endpoint","formattedEndpoint","filterEnabledDestination","nativeDestinations","removeTrailingSlashes","getDomain","getReferringDomain","referrer","extractUTMParameters","UTM_PREFIX","sParam","utmParam","getUrlWithoutHash","urlWithoutHash","isSDKRunningInChromeExtension","DEFAULT_PRE_CONSENT_STORAGE_STRATEGY","DEFAULT_PRE_CONSENT_EVENTS_DELIVERY_TYPE","isErrorReportingEnabled","sourceConfig","getErrorReportingProviderNameFromConfig","isMetricsReportingEnabled","DEFAULT_INTEGRATIONS_CONFIG","getValidPostConsentOptions","validOptions","clonedOptions","isValidConsentsData","getConsentManagerInfo","consentManagementOpts","provider","consentManagerPluginName","getConsentManagementData","allowedConsentIds","deniedConsentIds","initialized","enabled","consentsData","getSDKUrl","scripts","sdkFileNameRegex","src","updateReportingState","errReportingProvider","errReportingProviderPlugin","updateStorageStateFromLoadOptions","useServerSideCookies","dataServiceEndpoint","storageOptsFromLoad","encryptionPluginName","configuredMigrationValue","finalMigrationVal","cookieOptions","dataServiceUrl","curHost","dataServiceHost","updateConsentsStateFromLoadOptions","preConsentOpts","storageStrategy","StorageStrategies","eventsDeliveryType","deliveryTypes","updateConsentsState","resp","resolutionStrategy","cmpMetadata","updateDataPlaneEventsStateFromLoadOptions","defaultEventsQueuePluginName","eventsQueuePluginName","getSourceConfigURL","lockIntegrationsVersion","lockPluginsVersion","defSearchParams","origin","searchParams","pathname","hash","configUrlInstance","getSDKComponentBaseURL","componentType","pathSuffix","baseURL","currentVersion","lockVersion","customURL","sdkComponentURL","sdkURL","getIntegrationsCDNPath","customIntegrationsCDNPath","getPluginsCDNPath","customPluginsCDNPath","ConfigManager","destSDKBaseURL","pluginsSDKBaseURL","intgCdnUrl","pluginsCDNPath","response","sourceConfigFunc","pRes","getTimezone","timezone","getReferrer","getCanonicalUrl","tags","canonicalUrl","tag","getUserAgent","userAgent","brave","matchedArr","getLanguage","getDefaultPageProperties","tabUrl","pageUrl","search","title","POLYFILL_URL","POLYFILL_LOAD_TIMEOUT","POLYFILL_SCRIPT_ID","CapabilitiesManager","uach","polyfillUrl","isDefaultPolyfillService","polyfillCallbackName","polyfillCallback","random","SIZE","HEX$1","IDX$1","BUFFER$1","v4$1","tmp","out","IDX","HEX","BUFFER","v4","num","hasCrypto","generateUUID","getCurrentTimeFormatted","CHANNEL","TOP_LEVEL_ELEMENTS","CONTEXT_RESERVED_ELEMENTS","RESERVED_ELEMENTS","isNumber","hasMinLength","minimumLength","isPositiveInteger","MIN_SESSION_ID_LENGTH","hasSessionExpired","expiresAt","timestamp","generateSessionId","isManualSessionIdValid","generateAutoTrackingSession","sessionTimeout","generateManualTrackingSession","isStorageTypeValidForStoringData","generateAnonymousId","getContextPageProperties","pageProps","curPageProps","ctxPageProps","getUpdatedPageProperties","optionsPageProps","checkForReservedElementsInObject","checkForReservedElements","rudderEvent","contextualTraits","updateTopLevelEventElements","getMergedContext","rudderContext","tempContext","shouldUseGlobalIntegrationsConfigInEvents","processOptions","getEventIntegrationsConfig","integrationsConfig","finalIntgConfig","getEnrichedEvent","commonEventData","processedEvent","RudderEventFactory","props","enrichedEvent","groupEvent","eventObj","EventManager","eventRepository","userSessionManager","UserSessionManager","storeManager","externalAnonymousIdCookieName","anonymousIdOptions","externalAnonymousId","sessionInfo","configuredSessionTrackingInfo","initialSessionInfo","persistedInitialReferrer","persistedInitialReferringDomain","initialReferrer","entryName","entries","storageTypesForMigration","currentStorage","curStore","persistentStoreNames","stores","storeName","storageEntry","migratedVal","autoTrack","configuredSessionTimeout","cookiesData","encryptedCookieData","cData","encryptedValue","_g","_h","cb","cookieValue","before","each","cookieName","anonymousId","rudderAmpLinkerParam","finalAnonymousId","persistedAnonymousId","resetAnonymousId","noNewSessionStart","session","manualTrack","referringDomain","token","defaultOptionalPluginsList","normalizeLoadOptions","loadOptionsFromState","normalizedLoadOpts","DATA_PLANE_QUEUE_EXT_POINT_PREFIX","DESTINATIONS_QUEUE_EXT_POINT_PREFIX","DMT_EXT_POINT_PREFIX","getOverriddenIntegrationOptions","eventIntgConfig","destinationsIntgConfig","intgName","getFinalEvent","finalEvent","overriddenIntgOpts","shouldBufferEventsForPreConsent","EventRepository","bufferEventsBeforeConsent","shouldBufferDpEvents","dest","dpQEvent","dQEvent","dispatchSDKEvent","customEvent","Analytics","clonedDataPlaneUrl","clonedLoadOptions","bufferedEvents","eventToProcess","totalDestinationsToLoad","isBufferedInvocation","previousId","trackOptions","pageOptions","_RudderAnalytics","instanceId","RudderAnalytics","checkIfHtmxIsLoaded","count","updateAnonymousIdField","anonymousIdField","rudderanalytics","socialShareForm","roleOption","setCookie","oneYearFromNow","inputs","currentURLNoParams","shareURL","input","messageElement","citySearchValidation","jobSearchForm","cityContainer","cityInput","stateInput","zipInput","jobSearchBtn","isTooltipDisplayed","hasBeenDismissed","toolTipEl","toolTipDismissBtn","handleInputChange","city","zip","disableSearchButton","enableSearchButton","toggleTooltip"],"sources":["../../site/src/js/scripts/nav.js","../../site/src/js/scripts/virtualRecruiter.js","../../../../node_modules/is-mobile/index.js","../../../../node_modules/js-cookie/dist/js.cookie.mjs","../../site/src/js/scripts/exitBanner.js","../../../../node_modules/@rudderstack/analytics-js/dist/npm/modern/esm/index.js","../../site/src/js/scripts/helpers/htmx.js","../../site/src/js/scripts/rudderStack.js","../../site/src/js/scripts/socialShareForm.js","../../site/src/js/scripts/citySearchValidation.js"],"sourcesContent":["function nav() {\n  const mainNav = document.getElementById(\"nav\");\n  const mobileIcon = document.getElementById(\"mobile-icon\");\n  const useElement = document.querySelector(\"#mobile-icon > svg > use\");\n\n  function openCloseMenu() {\n    mainNav.classList.toggle(\"block\");\n    mainNav.classList.toggle(\"active\");\n    useElement.setAttribute(\"xlink:href\", \"#close\");\n    mobileIcon.title = \"Close Menu\";\n\n    // Check if the main nav is clicked closed\n    if (!mainNav.classList.contains(\"block\") && !mainNav.classList.contains(\"active\")) {\n      useElement.setAttribute(\"xlink:href\", \"#solid-bars\");\n      mobileIcon.title = \"Open Menu\";\n    }\n  }\n\n  mobileIcon?.addEventListener(\"click\", openCloseMenu);\n}\n\nexport default nav();\n","function virtualRecruiter() {\n  document.addEventListener(\"DOMContentLoaded\", function () {\n    const virtualRecruiterField = document.querySelector(\"[data-field-handle='virtualRecruiter']\");\n    const isVirtualRecruiterEnabled = virtualRecruiterField !== null;\n\n    if (isVirtualRecruiterEnabled) {\n      const form = document.querySelector(\".fui-form\");\n      const verifiedInput = virtualRecruiterField.querySelector(\"input[type='checkbox']\");\n      const redirectParamInput = form.querySelector(\"[data-field-handle='vrRedirect'] input\");\n\n      registerEventListeners();\n\n      function registerEventListeners() {\n        // Whenever the \"Verified\" field is conditionally hidden or shown, update the redirect input\n        virtualRecruiterField.addEventListener(\"onAfterFormieEvaluateConditions\", function (event) {\n          // Is the target field conditionally hidden? Then it's always not-checked. The \"Verified\" field\n          // could actually be checked, but hidden - we want it to evaluate as if they haven't opted-in.\n          if (event.target.conditionallyHidden) {\n            updateRedirectParam(false);\n          } else {\n            // Otherwise, best to check the state of the \"Verified\" field. Manually trigger the change event\n            verifiedInput.dispatchEvent(new Event(\"change\", { bubbles: true }));\n          }\n        });\n\n        // Whenever the \"Verified\" field is toggled on or off, update the redirect input\n        verifiedInput.addEventListener(\"change\", (event) => {\n          updateRedirectParam(event.target.checked);\n        });\n      }\n\n      function updateRedirectParam(checked) {\n        // Get whether the \"Verified\" input is checked, or conditionally hidden - or not\n        const value = checked ? \"thankyou\" : \"sorry\";\n        // Update the \"Redirect Param\" field\n        redirectParamInput.value = value;\n      }\n    }\n  }, false);\n}\n\nexport default virtualRecruiter();\n","'use strict'\n\nmodule.exports = isMobile\nmodule.exports.isMobile = isMobile\nmodule.exports.default = isMobile\n\nconst mobileRE = /(android|bb\\d+|meego).+mobile|armv7l|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i\nconst notMobileRE = /CrOS/\n\nconst tabletRE = /android|ipad|playbook|silk/i\n\nfunction isMobile (opts) {\n  if (!opts) opts = {}\n  let ua = opts.ua\n  if (!ua && typeof navigator !== 'undefined') ua = navigator.userAgent\n  if (ua && ua.headers && typeof ua.headers['user-agent'] === 'string') {\n    ua = ua.headers['user-agent']\n  }\n  if (typeof ua !== 'string') return false\n\n  let result =\n    (mobileRE.test(ua) && !notMobileRE.test(ua)) ||\n    (!!opts.tablet && tabletRE.test(ua))\n\n  if (\n    !result &&\n    opts.tablet &&\n    opts.featureDetect &&\n    navigator &&\n    navigator.maxTouchPoints > 1 &&\n    ua.indexOf('Macintosh') !== -1 &&\n    ua.indexOf('Safari') !== -1\n  ) {\n    result = true\n  }\n\n  return result\n}\n","/*! js-cookie v3.0.5 | MIT */\n/* eslint-disable no-var */\nfunction assign (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n    for (var key in source) {\n      target[key] = source[key];\n    }\n  }\n  return target\n}\n/* eslint-enable no-var */\n\n/* eslint-disable no-var */\nvar defaultConverter = {\n  read: function (value) {\n    if (value[0] === '\"') {\n      value = value.slice(1, -1);\n    }\n    return value.replace(/(%[\\dA-F]{2})+/gi, decodeURIComponent)\n  },\n  write: function (value) {\n    return encodeURIComponent(value).replace(\n      /%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,\n      decodeURIComponent\n    )\n  }\n};\n/* eslint-enable no-var */\n\n/* eslint-disable no-var */\n\nfunction init (converter, defaultAttributes) {\n  function set (name, value, attributes) {\n    if (typeof document === 'undefined') {\n      return\n    }\n\n    attributes = assign({}, defaultAttributes, attributes);\n\n    if (typeof attributes.expires === 'number') {\n      attributes.expires = new Date(Date.now() + attributes.expires * 864e5);\n    }\n    if (attributes.expires) {\n      attributes.expires = attributes.expires.toUTCString();\n    }\n\n    name = encodeURIComponent(name)\n      .replace(/%(2[346B]|5E|60|7C)/g, decodeURIComponent)\n      .replace(/[()]/g, escape);\n\n    var stringifiedAttributes = '';\n    for (var attributeName in attributes) {\n      if (!attributes[attributeName]) {\n        continue\n      }\n\n      stringifiedAttributes += '; ' + attributeName;\n\n      if (attributes[attributeName] === true) {\n        continue\n      }\n\n      // Considers RFC 6265 section 5.2:\n      // ...\n      // 3.  If the remaining unparsed-attributes contains a %x3B (\";\")\n      //     character:\n      // Consume the characters of the unparsed-attributes up to,\n      // not including, the first %x3B (\";\") character.\n      // ...\n      stringifiedAttributes += '=' + attributes[attributeName].split(';')[0];\n    }\n\n    return (document.cookie =\n      name + '=' + converter.write(value, name) + stringifiedAttributes)\n  }\n\n  function get (name) {\n    if (typeof document === 'undefined' || (arguments.length && !name)) {\n      return\n    }\n\n    // To prevent the for loop in the first place assign an empty array\n    // in case there are no cookies at all.\n    var cookies = document.cookie ? document.cookie.split('; ') : [];\n    var jar = {};\n    for (var i = 0; i < cookies.length; i++) {\n      var parts = cookies[i].split('=');\n      var value = parts.slice(1).join('=');\n\n      try {\n        var found = decodeURIComponent(parts[0]);\n        jar[found] = converter.read(value, found);\n\n        if (name === found) {\n          break\n        }\n      } catch (e) {}\n    }\n\n    return name ? jar[name] : jar\n  }\n\n  return Object.create(\n    {\n      set,\n      get,\n      remove: function (name, attributes) {\n        set(\n          name,\n          '',\n          assign({}, attributes, {\n            expires: -1\n          })\n        );\n      },\n      withAttributes: function (attributes) {\n        return init(this.converter, assign({}, this.attributes, attributes))\n      },\n      withConverter: function (converter) {\n        return init(assign({}, this.converter, converter), this.attributes)\n      }\n    },\n    {\n      attributes: { value: Object.freeze(defaultAttributes) },\n      converter: { value: Object.freeze(converter) }\n    }\n  )\n}\n\nvar api = init(defaultConverter, { path: '/' });\n/* eslint-enable no-var */\n\nexport { api as default };\n","import mobile from \"is-mobile\";\nimport Cookies from \"js-cookie\";\n\nfunction exitBanner() {\n  const modalId = \"exitModal\";\n  const modalWindow = document.querySelector(`#${modalId}`);\n  const modalExists = !!modalWindow;\n  const isMobile = mobile();\n  const modalHasBeenDismissed = !!Cookies.get(`modal.${modalId}`);\n\n  function initModal() {\n    // eslint-disable-next-line no-undef\n    const modal = new bootstrap.Modal(`#${modalId}`);\n    modal.show();\n    // Set cookie - don't show again for 1 day\n    Cookies.set(`modal.${modalId}`, \"1\", { expires: 1 });\n  }\n\n  function assignEventListeners() {\n    if (isMobile) {\n      setTimeout(initModal, 6000);\n    } else {\n      document.addEventListener(\"mouseleave\", initModal, { once: true });\n    }\n  }\n\n  function init() {\n    assignEventListeners();\n    setTrackingParams();\n  }\n\n  function checkIfBootstrapIsLoaded(i = 0) {\n    setTimeout(() => {\n      if (typeof window.bootstrap !== \"undefined\") {\n        init();\n      } else if (i < 10) {\n        checkIfBootstrapIsLoaded(i + 1);\n      }\n    }, 500);\n  }\n\n  if (modalExists && !modalHasBeenDismissed) {\n    checkIfBootstrapIsLoaded();\n  }\n\n  function setTrackingParams() {\n    const referrer = modalWindow.dataset.referrer;\n    const subst = \"_eb\";\n    const result = referrer + subst;\n\n    buildYesBtnLink(result);\n  }\n\n  function buildYesBtnLink(referralVal) {\n    const utmSource = modalWindow.dataset.utmSource;\n    const yesBtnUrl = new URL(\"#quickApp\", location);\n    yesBtnUrl.searchParams.set(\"utm_source\", utmSource);\n    yesBtnUrl.searchParams.set(\"utm_campaign\", referralVal);\n    yesBtnUrl.searchParams.set(\"utm_medium\", \"eb\");\n    yesBtnUrl.searchParams.set(\"r\", referralVal);\n\n    document.getElementById(\"exitbannerLink\").href = yesBtnUrl.href;\n  }\n}\n\nexport default exitBanner();\n","function _isPlaceholder(a){return a!=null&&typeof a==='object'&&a['@@functional/placeholder']===true;}\n\n/**\n * Optimized internal one-arity curry function.\n *\n * @private\n * @category Function\n * @param {Function} fn The function to curry.\n * @return {Function} The curried function.\n */function _curry1(fn){return function f1(a){if(arguments.length===0||_isPlaceholder(a)){return f1;}else {return fn.apply(this,arguments);}};}\n\n/**\n * Optimized internal two-arity curry function.\n *\n * @private\n * @category Function\n * @param {Function} fn The function to curry.\n * @return {Function} The curried function.\n */function _curry2(fn){return function f2(a,b){switch(arguments.length){case 0:return f2;case 1:return _isPlaceholder(a)?f2:_curry1(function(_b){return fn(a,_b);});default:return _isPlaceholder(a)&&_isPlaceholder(b)?f2:_isPlaceholder(a)?_curry1(function(_a){return fn(_a,b);}):_isPlaceholder(b)?_curry1(function(_b){return fn(a,_b);}):fn(a,b);}};}\n\n/**\n * Optimized internal three-arity curry function.\n *\n * @private\n * @category Function\n * @param {Function} fn The function to curry.\n * @return {Function} The curried function.\n */function _curry3(fn){return function f3(a,b,c){switch(arguments.length){case 0:return f3;case 1:return _isPlaceholder(a)?f3:_curry2(function(_b,_c){return fn(a,_b,_c);});case 2:return _isPlaceholder(a)&&_isPlaceholder(b)?f3:_isPlaceholder(a)?_curry2(function(_a,_c){return fn(_a,b,_c);}):_isPlaceholder(b)?_curry2(function(_b,_c){return fn(a,_b,_c);}):_curry1(function(_c){return fn(a,b,_c);});default:return _isPlaceholder(a)&&_isPlaceholder(b)&&_isPlaceholder(c)?f3:_isPlaceholder(a)&&_isPlaceholder(b)?_curry2(function(_a,_b){return fn(_a,_b,c);}):_isPlaceholder(a)&&_isPlaceholder(c)?_curry2(function(_a,_c){return fn(_a,b,_c);}):_isPlaceholder(b)&&_isPlaceholder(c)?_curry2(function(_b,_c){return fn(a,_b,_c);}):_isPlaceholder(a)?_curry1(function(_a){return fn(_a,b,c);}):_isPlaceholder(b)?_curry1(function(_b){return fn(a,_b,c);}):_isPlaceholder(c)?_curry1(function(_c){return fn(a,b,_c);}):fn(a,b,c);}};}\n\nfunction _has(prop,obj){return Object.prototype.hasOwnProperty.call(obj,prop);}\n\n/**\n * Gives a single-word string description of the (native) type of a value,\n * returning such answers as 'Object', 'Number', 'Array', or 'Null'. Does not\n * attempt to distinguish user Object types any further, reporting them all as\n * 'Object'.\n *\n * @func\n * @memberOf R\n * @since v0.8.0\n * @category Type\n * @sig * -> String\n * @param {*} val The value to test\n * @return {String}\n * @example\n *\n *      R.type({}); //=> \"Object\"\n *      R.type(1); //=> \"Number\"\n *      R.type(false); //=> \"Boolean\"\n *      R.type('s'); //=> \"String\"\n *      R.type(null); //=> \"Null\"\n *      R.type([]); //=> \"Array\"\n *      R.type(/[A-z]/); //=> \"RegExp\"\n *      R.type(() => {}); //=> \"Function\"\n *      R.type(async () => {}); //=> \"AsyncFunction\"\n *      R.type(undefined); //=> \"Undefined\"\n *      R.type(BigInt(123)); //=> \"BigInt\"\n */var type=/*#__PURE__*/_curry1(function type(val){return val===null?'Null':val===undefined?'Undefined':Object.prototype.toString.call(val).slice(8,-1);});\n\nfunction _isObject(x){return Object.prototype.toString.call(x)==='[object Object]';}\n\n/**\n * Determine if the passed argument is an integer.\n *\n * @private\n * @param {*} n\n * @category Type\n * @return {Boolean}\n */const _isInteger = Number.isInteger||function _isInteger(n){return n<<0===n;};\n\nfunction _isString(x){return Object.prototype.toString.call(x)==='[object String]';}\n\nfunction _nth(offset,list){var idx=offset<0?list.length+offset:offset;return _isString(list)?list.charAt(idx):list[idx];}\n\nfunction _cloneRegExp(pattern){return new RegExp(pattern.source,pattern.flags?pattern.flags:(pattern.global?'g':'')+(pattern.ignoreCase?'i':'')+(pattern.multiline?'m':'')+(pattern.sticky?'y':'')+(pattern.unicode?'u':'')+(pattern.dotAll?'s':''));}\n\n/**\n * Copies an object.\n *\n * @private\n * @param {*} value The value to be copied\n * @param {Boolean} deep Whether or not to perform deep cloning.\n * @return {*} The copied value.\n */function _clone(value,deep,map){map||(map=new _ObjectMap());// this avoids the slower switch with a quick if decision removing some milliseconds in each run.\nif(_isPrimitive(value)){return value;}var copy=function copy(copiedValue){// Check for circular and same references on the object graph and return its corresponding clone.\nvar cachedCopy=map.get(value);if(cachedCopy){return cachedCopy;}map.set(value,copiedValue);for(var key in value){if(Object.prototype.hasOwnProperty.call(value,key)){copiedValue[key]=_clone(value[key],true,map);}}return copiedValue;};switch(type(value)){case'Object':return copy(Object.create(Object.getPrototypeOf(value)));case'Array':return copy(Array(value.length));case'Date':return new Date(value.valueOf());case'RegExp':return _cloneRegExp(value);case'Int8Array':case'Uint8Array':case'Uint8ClampedArray':case'Int16Array':case'Uint16Array':case'Int32Array':case'Uint32Array':case'Float32Array':case'Float64Array':case'BigInt64Array':case'BigUint64Array':return value.slice();default:return value;}}function _isPrimitive(param){var type=typeof param;return param==null||type!='object'&&type!='function';}var _ObjectMap=/*#__PURE__*/function(){function _ObjectMap(){this.map={};this.length=0;}_ObjectMap.prototype.set=function(key,value){var hashedKey=this.hash(key);var bucket=this.map[hashedKey];if(!bucket){this.map[hashedKey]=bucket=[];}bucket.push([key,value]);this.length+=1;};_ObjectMap.prototype.hash=function(key){var hashedKey=[];for(var value in key){hashedKey.push(Object.prototype.toString.call(key[value]));}return hashedKey.join();};_ObjectMap.prototype.get=function(key){/**\n     * depending on the number of objects to be cloned is faster to just iterate over the items in the map just because the hash function is so costly,\n     * on my tests this number is 180, anything above that using the hash function is faster.\n     */if(this.length<=180){for(var p in this.map){var bucket=this.map[p];for(var i=0;i<bucket.length;i+=1){var element=bucket[i];if(element[0]===key){return element[1];}}}return;}var hashedKey=this.hash(key);var bucket=this.map[hashedKey];if(!bucket){return;}for(var i=0;i<bucket.length;i+=1){var element=bucket[i];if(element[0]===key){return element[1];}}};return _ObjectMap;}();\n\n/**\n * Creates a deep copy of the source that can be used in place of the source\n * object without retaining any references to it.\n * The source object may contain (nested) `Array`s and `Object`s,\n * `Number`s, `String`s, `Boolean`s and `Date`s.\n * `Function`s are assigned by reference rather than copied.\n *\n * Dispatches to a `clone` method if present.\n *\n * Note that if the source object has multiple nodes that share a reference,\n * the returned object will have the same structure, but the references will\n * be pointed to the location within the cloned value.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Object\n * @sig {*} -> {*}\n * @param {*} value The object or array to clone\n * @return {*} A deeply cloned copy of `val`\n * @example\n *\n *      const objects = [{}, {}, {}];\n *      const objectsClone = R.clone(objects);\n *      objects === objectsClone; //=> false\n *      objects[0] === objectsClone[0]; //=> false\n */var clone=/*#__PURE__*/_curry1(function clone(value){return value!=null&&typeof value.clone==='function'?value.clone():_clone(value);});\n\nfunction _path(pathAr,obj){var val=obj;for(var i=0;i<pathAr.length;i+=1){if(val==null){return undefined;}var p=pathAr[i];if(_isInteger(p)){val=_nth(p,val);}else {val=val[p];}}return val;}\n\n/**\n * Creates a new object with the own properties of the two provided objects. If\n * a key exists in both objects, the provided function is applied to the key\n * and the values associated with the key in each object, with the result being\n * used as the value associated with the key in the returned object.\n *\n * @func\n * @memberOf R\n * @since v0.19.0\n * @category Object\n * @sig ((String, a, a) -> a) -> {a} -> {a} -> {a}\n * @param {Function} fn\n * @param {Object} l\n * @param {Object} r\n * @return {Object}\n * @see R.mergeDeepWithKey, R.merge, R.mergeWith\n * @example\n *\n *      let concatValues = (k, l, r) => k == 'values' ? R.concat(l, r) : r\n *      R.mergeWithKey(concatValues,\n *                     { a: true, thing: 'foo', values: [10, 20] },\n *                     { b: true, thing: 'bar', values: [15, 35] });\n *      //=> { a: true, b: true, thing: 'bar', values: [10, 20, 15, 35] }\n * @symb R.mergeWithKey(f, { x: 1, y: 2 }, { y: 5, z: 3 }) = { x: 1, y: f('y', 2, 5), z: 3 }\n */var mergeWithKey=/*#__PURE__*/_curry3(function mergeWithKey(fn,l,r){var result={};var k;l=l||{};r=r||{};for(k in l){if(_has(k,l)){result[k]=_has(k,r)?fn(k,l[k],r[k]):l[k];}}for(k in r){if(_has(k,r)&&!_has(k,result)){result[k]=r[k];}}return result;});\n\n/**\n * Creates a new object with the own properties of the two provided objects.\n * If a key exists in both objects:\n * - and both associated values are also objects then the values will be\n *   recursively merged.\n * - otherwise the provided function is applied to the key and associated values\n *   using the resulting value as the new value associated with the key.\n * If a key only exists in one object, the value will be associated with the key\n * of the resulting object.\n *\n * @func\n * @memberOf R\n * @since v0.24.0\n * @category Object\n * @sig ((String, a, a) -> a) -> {a} -> {a} -> {a}\n * @param {Function} fn\n * @param {Object} lObj\n * @param {Object} rObj\n * @return {Object}\n * @see R.mergeWithKey, R.mergeDeepWith\n * @example\n *\n *      let concatValues = (k, l, r) => k == 'values' ? R.concat(l, r) : r\n *      R.mergeDeepWithKey(concatValues,\n *                         { a: true, c: { thing: 'foo', values: [10, 20] }},\n *                         { b: true, c: { thing: 'bar', values: [15, 35] }});\n *      //=> { a: true, b: true, c: { thing: 'bar', values: [10, 20, 15, 35] }}\n */var mergeDeepWithKey=/*#__PURE__*/_curry3(function mergeDeepWithKey(fn,lObj,rObj){return mergeWithKey(function(k,lVal,rVal){if(_isObject(lVal)&&_isObject(rVal)){return mergeDeepWithKey(fn,lVal,rVal);}else {return fn(k,lVal,rVal);}},lObj,rObj);});\n\n/**\n * Creates a new object with the own properties of the two provided objects.\n * If a key exists in both objects:\n * - and both associated values are also objects then the values will be\n *   recursively merged.\n * - otherwise the provided function is applied to associated values using the\n *   resulting value as the new value associated with the key.\n * If a key only exists in one object, the value will be associated with the key\n * of the resulting object.\n *\n * @func\n * @memberOf R\n * @since v0.24.0\n * @category Object\n * @sig ((a, a) -> a) -> {a} -> {a} -> {a}\n * @param {Function} fn\n * @param {Object} lObj\n * @param {Object} rObj\n * @return {Object}\n * @see R.mergeWith, R.mergeDeepWithKey\n * @example\n *\n *      R.mergeDeepWith(R.concat,\n *                      { a: true, c: { values: [10, 20] }},\n *                      { b: true, c: { values: [15, 35] }});\n *      //=> { a: true, b: true, c: { values: [10, 20, 15, 35] }}\n */var mergeDeepWith=/*#__PURE__*/_curry3(function mergeDeepWith(fn,lObj,rObj){return mergeDeepWithKey(function(k,lVal,rVal){return fn(lVal,rVal);},lObj,rObj);});\n\n/**\n * Retrieves the value at a given path. The nodes of the path can be arbitrary strings or non-negative integers.\n * For anything else, the value is unspecified. Integer paths are meant to index arrays, strings are meant for objects.\n *\n * @func\n * @memberOf R\n * @since v0.2.0\n * @category Object\n * @typedefn Idx = String | Int | Symbol\n * @sig [Idx] -> {a} -> a | Undefined\n * @sig Idx = String | NonNegativeInt\n * @param {Array} path The path to use.\n * @param {Object} obj The object or array to retrieve the nested property from.\n * @return {*} The data at `path`.\n * @see R.prop, R.nth, R.assocPath, R.dissocPath\n * @example\n *\n *      R.path(['a', 'b'], {a: {b: 2}}); //=> 2\n *      R.path(['a', 'b'], {c: {b: 2}}); //=> undefined\n *      R.path(['a', 'b', 0], {a: {b: [1, 2, 3]}}); //=> 1\n *      R.path(['a', 'b', -2], {a: {b: [1, 2, 3]}}); //=> 2\n *      R.path([2], {'2': 2}); //=> 2\n *      R.path([-2], {'-2': 'a'}); //=> undefined\n */var path=/*#__PURE__*/_curry2(_path);\n\n/**\n * Returns a partial copy of an object containing only the keys that satisfy\n * the supplied predicate.\n *\n * @func\n * @memberOf R\n * @since v0.8.0\n * @category Object\n * @sig ((v, k) -> Boolean) -> {k: v} -> {k: v}\n * @param {Function} pred A predicate to determine whether or not a key\n *        should be included on the output object.\n * @param {Object} obj The object to copy from\n * @return {Object} A new object with only properties that satisfy `pred`\n *         on it.\n * @see R.pick, R.filter\n * @example\n *\n *      const isUpperCase = (val, key) => key.toUpperCase() === key;\n *      R.pickBy(isUpperCase, {a: 1, b: 2, A: 3, B: 4}); //=> {A: 3, B: 4}\n */var pickBy=/*#__PURE__*/_curry2(function pickBy(test,obj){var result={};for(var prop in obj){if(test(obj[prop],prop,obj)){result[prop]=obj[prop];}}return result;});\n\n/**\n * A function to check given value is a function\n * @param value input value\n * @returns boolean\n */ // eslint-disable-next-line @typescript-eslint/ban-types\nconst isFunction=value=>typeof value==='function'&&Boolean(value.constructor&&value.call&&value.apply);/**\n * A function to check given value is a string\n * @param value input value\n * @returns boolean\n */const isString=value=>typeof value==='string';/**\n * A function to check given value is null or not\n * @param value input value\n * @returns boolean\n */const isNull=value=>value===null;/**\n * A function to check given value is undefined\n * @param value input value\n * @returns boolean\n */const isUndefined=value=>typeof value==='undefined';/**\n * A function to check given value is null or undefined\n * @param value input value\n * @returns boolean\n */const isNullOrUndefined=value=>isNull(value)||isUndefined(value);/**\n * A function to check given value is defined\n * @param value input value\n * @returns boolean\n */const isDefined=value=>!isUndefined(value);/**\n * A function to check given value is defined and not null\n * @param value input value\n * @returns boolean\n */const isDefinedAndNotNull=value=>!isNullOrUndefined(value);/**\n * A function to check given value is defined and not null\n * @param value input value\n * @returns boolean\n */const isDefinedNotNullAndNotEmptyString=value=>isDefinedAndNotNull(value)&&value!=='';/**\n * Determines if the input is an instance of Error\n * @param obj input value\n * @returns true if the input is an instance of Error and false otherwise\n */const isTypeOfError=obj=>obj instanceof Error;\n\nconst getValueByPath=(obj,keyPath)=>{const pathParts=keyPath.split('.');return path(pathParts,obj);};const hasValueByPath=(obj,path)=>Boolean(getValueByPath(obj,path));/**\n * Checks if the input is an object literal or built-in object type and not null\n * @param value Input value\n * @returns true if the input is an object and not null\n */const isObjectAndNotNull=value=>!isNull(value)&&typeof value==='object'&&!Array.isArray(value);/**\n * Checks if the input is an object literal and not null\n * @param value Input value\n * @returns true if the input is an object and not null\n */const isObjectLiteralAndNotNull=value=>!isNull(value)&&Object.prototype.toString.call(value)==='[object Object]';const mergeDeepRightObjectArrays=(leftValue,rightValue)=>{if(!Array.isArray(leftValue)||!Array.isArray(rightValue)){return clone(rightValue);}const mergedArray=clone(leftValue);rightValue.forEach((value,index)=>{mergedArray[index]=Array.isArray(value)||isObjectAndNotNull(value)?// eslint-disable-next-line @typescript-eslint/no-use-before-define\nmergeDeepRight(mergedArray[index],value):value;});return mergedArray;};const mergeDeepRight=(leftObject,rightObject)=>mergeDeepWith(mergeDeepRightObjectArrays,leftObject,rightObject);/**\n Checks if the input is a non-empty object literal type and not undefined or null\n * @param value input any\n * @returns boolean\n */const isNonEmptyObject=value=>isObjectLiteralAndNotNull(value)&&Object.keys(value).length>0;/**\n * A utility to recursively remove undefined values from an object\n * @param obj input object\n * @returns a new object\n */const removeUndefinedValues=obj=>{const result=pickBy(isDefined,obj);Object.keys(result).forEach(key=>{const value=result[key];if(isObjectLiteralAndNotNull(value)){result[key]=removeUndefinedValues(value);}});return result;};/**\n * A utility to recursively remove undefined and null values from an object\n * @param obj input object\n * @returns a new object\n */const removeUndefinedAndNullValues=obj=>{const result=pickBy(isDefinedAndNotNull,obj);Object.keys(result).forEach(key=>{const value=result[key];if(isObjectLiteralAndNotNull(value)){result[key]=removeUndefinedAndNullValues(value);}});return result;};\n\nconst trim=value=>value.replace(/^\\s+|\\s+$/gm,'');const removeDoubleSpaces=value=>value.replace(/ {2,}/g,' ');/**\n * A function to convert values to string\n * @param val input value\n * @returns stringified value\n */const tryStringify=val=>{let retVal=val;if(!isString(val)&&!isNullOrUndefined(val)){try{retVal=JSON.stringify(val);}catch(e){retVal=null;}}return retVal;};// The following text encoding and decoding is done before base64 encoding to prevent\n/**\n * Converts a bytes array to base64 encoded string\n * @param bytes bytes array to be converted to base64\n * @returns base64 encoded string\n */const bytesToBase64=bytes=>{const binString=Array.from(bytes,x=>String.fromCodePoint(x)).join('');return globalThis.btoa(binString);};/**\n * Encodes a string to base64 even with unicode characters\n * @param value input string\n * @returns base64 encoded string\n */const toBase64=value=>bytesToBase64(new TextEncoder().encode(value));\n\n//   if yes make them null instead of omitting in overloaded cases\n/*\n * Normalise the overloaded arguments of the page call facade\n */const pageArgumentsToCallOptions=(category,name,properties,options,callback)=>{const payload={category:category,name:name,properties:properties,options:options};if(isFunction(callback)){payload.callback=callback;}if(isFunction(options)){payload.category=category;payload.name=name;payload.properties=properties;delete payload.options;payload.callback=options;}if(isFunction(properties)){payload.category=category;payload.name=name;delete payload.properties;delete payload.options;payload.callback=properties;}if(isFunction(name)){payload.category=category;delete payload.name;delete payload.properties;delete payload.options;payload.callback=name;}if(isFunction(category)){delete payload.category;delete payload.name;delete payload.properties;delete payload.options;payload.callback=category;}if(isObjectLiteralAndNotNull(category)){delete payload.name;delete payload.category;payload.properties=category;payload.options=name;}else if(isObjectLiteralAndNotNull(name)){delete payload.name;payload.properties=name;payload.options=!isFunction(properties)?properties:null;}// if the category argument alone is provided b/w category and name,\n// use it as name and set category to undefined\nif(isString(category)&&!isString(name)){delete payload.category;payload.name=category;}// Rest of the code is just to clean up undefined values\n// and set some proper defaults\n// Also, to clone the incoming object type arguments\nif(!isDefined(payload.category)){delete payload.category;}if(!isDefined(payload.name)){delete payload.name;}payload.properties=payload.properties?clone(payload.properties):{};if(isDefined(payload.options)){payload.options=clone(payload.options);}else {delete payload.options;}// add name and category to properties\npayload.properties=mergeDeepRight(isObjectLiteralAndNotNull(payload.properties)?payload.properties:{},{name:isString(payload.name)?payload.name:null,category:isString(payload.category)?payload.category:null});return payload;};/*\n * Normalise the overloaded arguments of the track call facade\n */const trackArgumentsToCallOptions=(event,properties,options,callback)=>{const payload={name:event,properties:properties,options:options};if(isFunction(callback)){payload.callback=callback;}if(isFunction(options)){payload.properties=properties;delete payload.options;payload.callback=options;}if(isFunction(properties)){delete payload.properties;delete payload.options;payload.callback=properties;}// Rest of the code is just to clean up undefined values\n// and set some proper defaults\n// Also, to clone the incoming object type arguments\npayload.properties=isDefinedAndNotNull(payload.properties)?clone(payload.properties):{};if(isDefined(payload.options)){payload.options=clone(payload.options);}else {delete payload.options;}return payload;};/*\n * Normalise the overloaded arguments of the identify call facade\n */const identifyArgumentsToCallOptions=(userId,traits,options,callback)=>{const payload={userId:userId,traits:traits,options:options};if(isFunction(callback)){payload.callback=callback;}if(isFunction(options)){payload.userId=userId;payload.traits=traits;delete payload.options;payload.callback=options;}if(isFunction(traits)){payload.userId=userId;delete payload.traits;delete payload.options;payload.callback=traits;}if(isObjectLiteralAndNotNull(userId)||isNull(userId)){// Explicitly set null to prevent resetting the existing value\n// in the Analytics class\npayload.userId=null;payload.traits=userId;payload.options=traits;}// Rest of the code is just to clean up undefined values\n// and set some proper defaults\n// Also, to clone the incoming object type arguments\nif(isDefined(payload.userId)){payload.userId=tryStringify(payload.userId);}else {delete payload.userId;}if(isObjectLiteralAndNotNull(payload.traits)){payload.traits=clone(payload.traits);}else {delete payload.traits;}if(isDefined(payload.options)){payload.options=clone(payload.options);}else {delete payload.options;}return payload;};/*\n * Normalise the overloaded arguments of the alias call facade\n */const aliasArgumentsToCallOptions=(to,from,options,callback)=>{const payload={to:to,from:from,options:options};if(isFunction(callback)){payload.callback=callback;}if(isFunction(options)){payload.to=to;payload.from=from;delete payload.options;payload.callback=options;}if(isFunction(from)){payload.to=to;delete payload.from;delete payload.options;payload.callback=from;}else if(isObjectLiteralAndNotNull(from)||isNull(from)){payload.to=to;delete payload.from;payload.options=from;}if(isFunction(to)){delete payload.to;delete payload.from;delete payload.options;payload.callback=to;}else if(isObjectLiteralAndNotNull(to)||isNull(to)){delete payload.to;delete payload.from;payload.options=to;}// Rest of the code is just to clean up undefined values\n// and set some proper defaults\n// Also, to clone the incoming object type arguments\nif(isDefined(payload.to)){payload.to=tryStringify(payload.to);}else {delete payload.to;}if(isDefined(payload.from)){payload.from=tryStringify(payload.from);}else {delete payload.from;}if(isDefined(payload.options)){payload.options=clone(payload.options);}else {delete payload.options;}return payload;};/*\n * Normalise the overloaded arguments of the group call facade\n */const groupArgumentsToCallOptions=(groupId,traits,options,callback)=>{const payload={groupId:groupId,traits:traits,options:options};if(isFunction(callback)){payload.callback=callback;}if(isFunction(options)){payload.groupId=groupId;payload.traits=traits;delete payload.options;payload.callback=options;}if(isFunction(traits)){payload.groupId=groupId;delete payload.traits;delete payload.options;payload.callback=traits;}// TODO: why do we enable overload for group that only passes callback? is there any use case?\nif(isFunction(groupId)){// Explicitly set null to prevent resetting the existing value\npayload.groupId=null;delete payload.traits;delete payload.options;payload.callback=groupId;}else if(isObjectLiteralAndNotNull(groupId)||isNull(groupId)){// Explicitly set null to prevent resetting the existing value\n// in the Analytics class\npayload.groupId=null;payload.traits=groupId;payload.options=!isFunction(traits)?traits:null;}// Rest of the code is just to clean up undefined values\n// and set some proper defaults\n// Also, to clone the incoming object type arguments\nif(isDefined(payload.groupId)){payload.groupId=tryStringify(payload.groupId);}else {delete payload.groupId;}payload.traits=isObjectLiteralAndNotNull(payload.traits)?clone(payload.traits):{};if(isDefined(payload.options)){payload.options=clone(payload.options);}else {delete payload.options;}return payload;};\n\nconst CAPABILITIES_MANAGER='CapabilitiesManager';const CONFIG_MANAGER='ConfigManager';const EVENT_MANAGER='EventManager';const PLUGINS_MANAGER='PluginsManager';const USER_SESSION_MANAGER='UserSessionManager';const ERROR_HANDLER='ErrorHandler';const PLUGIN_ENGINE='PluginEngine';const STORE_MANAGER='StoreManager';const READY_API='readyApi';const EVENT_REPOSITORY='EventRepository';const EXTERNAL_SRC_LOADER='ExternalSrcLoader';const HTTP_CLIENT='HttpClient';const RS_APP='RudderStackApplication';const ANALYTICS_CORE='AnalyticsCore';\n\nconst APP_NAME='RudderLabs JavaScript SDK';const APP_VERSION='3.5.2';const APP_NAMESPACE='com.rudderlabs.javascript';const MODULE_TYPE='npm';const ADBLOCK_PAGE_CATEGORY='RudderJS-Initiated';const ADBLOCK_PAGE_NAME='ad-block page request';const ADBLOCK_PAGE_PATH='/ad-blocked';const GLOBAL_PRELOAD_BUFFER='preloadedEventsBuffer';const CONSENT_TRACK_EVENT_NAME='Consent Management Interaction';\n\nconst QUERY_PARAM_TRAIT_PREFIX='ajs_trait_';const QUERY_PARAM_PROPERTY_PREFIX='ajs_prop_';const QUERY_PARAM_ANONYMOUS_ID_KEY='ajs_aid';const QUERY_PARAM_USER_ID_KEY='ajs_uid';const QUERY_PARAM_TRACK_EVENT_NAME_KEY='ajs_event';\n\nconst DEFAULT_XHR_TIMEOUT_MS=10*1000;// 10 seconds\nconst DEFAULT_COOKIE_MAX_AGE_MS=31536000*1000;// 1 year\nconst DEFAULT_SESSION_TIMEOUT_MS=30*60*1000;// 30 minutes\nconst MIN_SESSION_TIMEOUT_MS=10*1000;// 10 seconds\nconst DEFAULT_DATA_PLANE_EVENTS_BUFFER_TIMEOUT_MS=10*1000;// 10 seconds\nconst DEBOUNCED_TIMEOUT_MS=250;// 250 milliseconds\n\n/**\n * Create globally accessible RudderStackGlobals object\n */const createExposedGlobals=(analyticsInstanceId='app')=>{if(!globalThis.RudderStackGlobals){globalThis.RudderStackGlobals={};}if(!globalThis.RudderStackGlobals[analyticsInstanceId]){globalThis.RudderStackGlobals[analyticsInstanceId]={};}};/**\n * Add move values to globally accessible RudderStackGlobals object per analytics instance\n */const setExposedGlobal=(keyName,value,analyticsInstanceId='app')=>{createExposedGlobals(analyticsInstanceId);globalThis.RudderStackGlobals[analyticsInstanceId][keyName]=value;};/**\n * Get values from globally accessible RudderStackGlobals object by analytics instance\n */const getExposedGlobal=(keyName,analyticsInstanceId='app')=>{createExposedGlobals(analyticsInstanceId);return globalThis.RudderStackGlobals[analyticsInstanceId][keyName];};function debounce(func,thisArg,delay=DEBOUNCED_TIMEOUT_MS){let timeoutId;return (...args)=>{globalThis.clearTimeout(timeoutId);timeoutId=globalThis.setTimeout(()=>{func.apply(thisArg,args);},delay);};}\n\n/**\n * Parse query string params into object values for keys that start with a defined prefix\n */const getEventDataFromQueryString=(params,dataTypeNamePrefix)=>{const data={};params.forEach((value,key)=>{if(key.startsWith(dataTypeNamePrefix)){// remove prefix from key name\nconst dataKey=key.substring(dataTypeNamePrefix.length);// add new key value pair in generated object\ndata[dataKey]=params.get(key);}});return data;};/**\n * Parse query string into preload buffer events & push into existing array before any other events\n */const retrieveEventsFromQueryString=(argumentsArray=[])=>{// Mapping for trait and properties values based on key prefix\nconst eventArgumentToQueryParamMap={trait:QUERY_PARAM_TRAIT_PREFIX,properties:QUERY_PARAM_PROPERTY_PREFIX};const queryObject=new URLSearchParams(globalThis.location.search);// Add track events with name and properties\nif(queryObject.get(QUERY_PARAM_TRACK_EVENT_NAME_KEY)){argumentsArray.unshift(['track',queryObject.get(QUERY_PARAM_TRACK_EVENT_NAME_KEY),getEventDataFromQueryString(queryObject,eventArgumentToQueryParamMap.properties)]);}// Set userId and user traits\nif(queryObject.get(QUERY_PARAM_USER_ID_KEY)){argumentsArray.unshift(['identify',queryObject.get(QUERY_PARAM_USER_ID_KEY),getEventDataFromQueryString(queryObject,eventArgumentToQueryParamMap.trait)]);}// Set anonymousID\nif(queryObject.get(QUERY_PARAM_ANONYMOUS_ID_KEY)){argumentsArray.unshift(['setAnonymousId',queryObject.get(QUERY_PARAM_ANONYMOUS_ID_KEY)]);}};/**\n * Retrieve an existing buffered load method call and remove from the existing array\n */const getPreloadedLoadEvent=preloadedEventsArray=>{const loadMethodName='load';let loadEvent=[];/**\n   * Iterate the buffered API calls until we find load call and process it separately\n   */let i=0;while(i<preloadedEventsArray.length){if(preloadedEventsArray[i]&&preloadedEventsArray[i][0]===loadMethodName){loadEvent=clone(preloadedEventsArray[i]);preloadedEventsArray.splice(i,1);break;}i+=1;}return loadEvent;};/**\n * Promote consent events to the top of the preloaded events array\n * @param preloadedEventsArray Preloaded events array\n * @returns None\n */const promotePreloadedConsentEventsToTop=preloadedEventsArray=>{const consentMethodName='consent';const consentEvents=preloadedEventsArray.filter(bufferedEvent=>bufferedEvent[0]===consentMethodName);const nonConsentEvents=preloadedEventsArray.filter(bufferedEvent=>bufferedEvent[0]!==consentMethodName);// Remove all elements and add consent events first followed by non consent events\n// eslint-disable-next-line unicorn/no-useless-spread\npreloadedEventsArray.splice(0,preloadedEventsArray.length,...consentEvents,...nonConsentEvents);};/**\n * Retrieve any existing events that were triggered before SDK load and enqueue in buffer\n */const retrievePreloadBufferEvents=instance=>{const preloadedEventsArray=getExposedGlobal(GLOBAL_PRELOAD_BUFFER)||[];// Get events that are pre-populated via query string params\nretrieveEventsFromQueryString(preloadedEventsArray);// Enqueue the non load events in the buffer of the global rudder analytics singleton\nif(preloadedEventsArray.length>0){instance.enqueuePreloadBufferEvents(preloadedEventsArray);setExposedGlobal(GLOBAL_PRELOAD_BUFFER,[]);}};const consumePreloadBufferedEvent=(event,analyticsInstance)=>{const methodName=event.shift();let callOptions;if(isFunction(analyticsInstance[methodName])){switch(methodName){case'page':callOptions=pageArgumentsToCallOptions(...event);break;case'track':callOptions=trackArgumentsToCallOptions(...event);break;case'identify':callOptions=identifyArgumentsToCallOptions(...event);break;case'alias':callOptions=aliasArgumentsToCallOptions(...event);break;case'group':callOptions=groupArgumentsToCallOptions(...event);break;default:analyticsInstance[methodName](...event);break;}if(callOptions){analyticsInstance[methodName](callOptions);}}};\n\nconst DEFAULT_EXT_SRC_LOAD_TIMEOUT_MS=10*1000;// 10 seconds\n\nconst LOG_CONTEXT_SEPARATOR=':: ';const SCRIPT_ALREADY_EXISTS_ERROR=id=>`A script with the id \"${id}\" is already loaded. Skipping the loading of this script to prevent conflicts.`;const SCRIPT_LOAD_ERROR=(id,url)=>`Failed to load the script with the id \"${id}\" from URL \"${url}\".`;const SCRIPT_LOAD_TIMEOUT_ERROR=(id,url,timeout)=>`A timeout of ${timeout} ms occurred while trying to load the script with id \"${id}\" from URL \"${url}\".`;const CIRCULAR_REFERENCE_WARNING=(context,key)=>`${context}${LOG_CONTEXT_SEPARATOR}A circular reference has been detected in the object and the property \"${key}\" has been dropped from the output.`;const JSON_STRINGIFY_WARNING=`Failed to convert the value to a JSON string.`;\n\nconst JSON_STRINGIFY='JSONStringify';const getCircularReplacer=(excludeNull,excludeKeys,logger)=>{const ancestors=[];// Here we do not want to use arrow function to use \"this\" in function context\n// eslint-disable-next-line func-names\nreturn function(key,value){if(excludeKeys?.includes(key)){return undefined;}if(excludeNull&&isNullOrUndefined(value)){return undefined;}if(typeof value!=='object'||isNull(value)){return value;}// `this` is the object that value is contained in, i.e., its direct parent.\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore-next-line\nwhile(ancestors.length>0&&ancestors[ancestors.length-1]!==this){ancestors.pop();}if(ancestors.includes(value)){logger?.warn(CIRCULAR_REFERENCE_WARNING(JSON_STRINGIFY,key));return '[Circular Reference]';}ancestors.push(value);return value;};};/**\n * Utility method for JSON stringify object excluding null values & circular references\n *\n * @param {*} value input\n * @param {boolean} excludeNull if it should exclude nul or not\n * @param {function} logger optional logger methods for warning\n * @returns string\n */const stringifyWithoutCircular=(value,excludeNull,excludeKeys,logger)=>{try{return JSON.stringify(value,getCircularReplacer(excludeNull,excludeKeys,logger));}catch(err){logger?.warn(JSON_STRINGIFY_WARNING,err);return null;}};\n\n/**\n * Get mutated error with issue prepended to error message\n * @param err Original error\n * @param issue Issue to prepend to error message\n * @returns Instance of Error with message prepended with issue\n */const getMutatedError=(err,issue)=>{let finalError=err;if(!isTypeOfError(err)){finalError=new Error(`${issue}: ${stringifyWithoutCircular(err)}`);}else {finalError.message=`${issue}: ${err.message}`;}return finalError;};\n\nconst EXTERNAL_SOURCE_LOAD_ORIGIN='RS_JS_SDK';\n\n/**\n * Create the DOM element to load a script marked as RS SDK originated\n *\n * @param {*} url The URL of the script to be loaded\n * @param {*} id ID for the script tag\n * @param {*} async Whether to load the script in async mode. Defaults to `true` [optional]\n * @param {*} onload callback to invoke onload [optional]\n * @param {*} onerror callback to invoke onerror [optional]\n * @param {*} extraAttributes key/value pair with html attributes to add in html tag [optional]\n *\n * @returns HTMLScriptElement\n */const createScriptElement=(url,id,async=true,onload=null,onerror=null,extraAttributes={})=>{const scriptElement=document.createElement('script');scriptElement.type='text/javascript';scriptElement.onload=onload;scriptElement.onerror=onerror;scriptElement.src=url;scriptElement.id=id;scriptElement.async=async;Object.keys(extraAttributes).forEach(attributeName=>{scriptElement.setAttribute(attributeName,extraAttributes[attributeName]);});scriptElement.setAttribute('data-loader',EXTERNAL_SOURCE_LOAD_ORIGIN);return scriptElement;};/**\n * Add script DOM element to DOM\n *\n * @param {*} newScriptElement the script element to add\n *\n * @returns\n */const insertScript=newScriptElement=>{// First try to add it to the head\nconst headElements=document.getElementsByTagName('head');if(headElements.length>0){headElements[0]?.insertBefore(newScriptElement,headElements[0]?.firstChild);return;}// Else wise add it before the first script tag\nconst scriptElements=document.getElementsByTagName('script');if(scriptElements.length>0&&scriptElements[0]?.parentNode){scriptElements[0]?.parentNode.insertBefore(newScriptElement,scriptElements[0]);return;}// Create a new head element and add the script as fallback\nconst headElement=document.createElement('head');headElement.appendChild(newScriptElement);const htmlElement=document.getElementsByTagName('html')[0];htmlElement?.insertBefore(headElement,htmlElement.firstChild);};/**\n * Loads external js file as a script html tag\n *\n * @param {*} url The URL of the script to be loaded\n * @param {*} id ID for the script tag\n * @param {*} timeout loading timeout\n * @param {*} async Whether to load the script in async mode. Defaults to `true` [optional]\n * @param {*} extraAttributes key/value pair with html attributes to add in html tag [optional]\n *\n * @returns\n */const jsFileLoader=(url,id,timeout,async=true,extraAttributes)=>new Promise((resolve,reject)=>{const scriptExists=document.getElementById(id);if(scriptExists){reject(new Error(SCRIPT_ALREADY_EXISTS_ERROR(id)));}try{let timeoutID;const onload=()=>{globalThis.clearTimeout(timeoutID);resolve(id);};const onerror=()=>{globalThis.clearTimeout(timeoutID);reject(new Error(SCRIPT_LOAD_ERROR(id,url)));};// Create the DOM element to load the script and add it to the DOM\ninsertScript(createScriptElement(url,id,async,onload,onerror,extraAttributes));// Reject on timeout\ntimeoutID=globalThis.setTimeout(()=>{reject(new Error(SCRIPT_LOAD_TIMEOUT_ERROR(id,url,timeout)));},timeout);}catch(err){reject(getMutatedError(err,SCRIPT_LOAD_ERROR(id,url)));}});\n\n/**\n * Service to load external resources/files\n */class ExternalSrcLoader{hasErrorHandler=false;constructor(errorHandler,logger,timeout=DEFAULT_EXT_SRC_LOAD_TIMEOUT_MS){this.errorHandler=errorHandler;this.logger=logger;this.timeout=timeout;this.hasErrorHandler=Boolean(this.errorHandler);this.onError=this.onError.bind(this);}/**\n   * Load external resource of type javascript\n   */loadJSFile(config){const{url,id,timeout,async,callback,extraAttributes}=config;const isFireAndForget=!isFunction(callback);jsFileLoader(url,id,timeout||this.timeout,async,extraAttributes).then(id=>{if(!isFireAndForget){callback(id);}}).catch(err=>{this.onError(err);if(!isFireAndForget){callback();}});}/**\n   * Handle errors\n   */onError(error){if(this.hasErrorHandler){this.errorHandler?.onError(error,EXTERNAL_SRC_LOADER);}else {throw error;}}}\n\nvar i=Symbol.for(\"preact-signals\");function t(){if(!(s>1)){var i,t=!1;while(void 0!==h){var r=h;h=void 0;f++;while(void 0!==r){var o=r.o;r.o=void 0;r.f&=-3;if(!(8&r.f)&&c(r))try{r.c();}catch(r){if(!t){i=r;t=!0;}}r=o;}}f=0;s--;if(t)throw i;}else s--;}function r(i){if(s>0)return i();s++;try{return i();}finally{t();}}var o=void 0;var h=void 0,s=0,f=0,v=0;function e(i){if(void 0!==o){var t=i.n;if(void 0===t||t.t!==o){t={i:0,S:i,p:o.s,n:void 0,t:o,e:void 0,x:void 0,r:t};if(void 0!==o.s)o.s.n=t;o.s=t;i.n=t;if(32&o.f)i.S(t);return t;}else if(-1===t.i){t.i=0;if(void 0!==t.n){t.n.p=t.p;if(void 0!==t.p)t.p.n=t.n;t.p=o.s;t.n=void 0;o.s.n=t;o.s=t;}return t;}}}function u(i){this.v=i;this.i=0;this.n=void 0;this.t=void 0;}u.prototype.brand=i;u.prototype.h=function(){return !0;};u.prototype.S=function(i){if(this.t!==i&&void 0===i.e){i.x=this.t;if(void 0!==this.t)this.t.e=i;this.t=i;}};u.prototype.U=function(i){if(void 0!==this.t){var t=i.e,r=i.x;if(void 0!==t){t.x=r;i.e=void 0;}if(void 0!==r){r.e=t;i.x=void 0;}if(i===this.t)this.t=r;}};u.prototype.subscribe=function(i){var t=this;return E(function(){var r=t.value,n=o;o=void 0;try{i(r);}finally{o=n;}});};u.prototype.valueOf=function(){return this.value;};u.prototype.toString=function(){return this.value+\"\";};u.prototype.toJSON=function(){return this.value;};u.prototype.peek=function(){var i=o;o=void 0;try{return this.value;}finally{o=i;}};Object.defineProperty(u.prototype,\"value\",{get:function(){var i=e(this);if(void 0!==i)i.i=this.i;return this.v;},set:function(i){if(i!==this.v){if(f>100)throw new Error(\"Cycle detected\");this.v=i;this.i++;v++;s++;try{for(var r=this.t;void 0!==r;r=r.x)r.t.N();}finally{t();}}}});function d(i){return new u(i);}function c(i){for(var t=i.s;void 0!==t;t=t.n)if(t.S.i!==t.i||!t.S.h()||t.S.i!==t.i)return !0;return !1;}function a(i){for(var t=i.s;void 0!==t;t=t.n){var r=t.S.n;if(void 0!==r)t.r=r;t.S.n=t;t.i=-1;if(void 0===t.n){i.s=t;break;}}}function l(i){var t=i.s,r=void 0;while(void 0!==t){var o=t.p;if(-1===t.i){t.S.U(t);if(void 0!==o)o.n=t.n;if(void 0!==t.n)t.n.p=o;}else r=t;t.S.n=t.r;if(void 0!==t.r)t.r=void 0;t=o;}i.s=r;}function y(i){u.call(this,void 0);this.x=i;this.s=void 0;this.g=v-1;this.f=4;}(y.prototype=new u()).h=function(){this.f&=-3;if(1&this.f)return !1;if(32==(36&this.f))return !0;this.f&=-5;if(this.g===v)return !0;this.g=v;this.f|=1;if(this.i>0&&!c(this)){this.f&=-2;return !0;}var i=o;try{a(this);o=this;var t=this.x();if(16&this.f||this.v!==t||0===this.i){this.v=t;this.f&=-17;this.i++;}}catch(i){this.v=i;this.f|=16;this.i++;}o=i;l(this);this.f&=-2;return !0;};y.prototype.S=function(i){if(void 0===this.t){this.f|=36;for(var t=this.s;void 0!==t;t=t.n)t.S.S(t);}u.prototype.S.call(this,i);};y.prototype.U=function(i){if(void 0!==this.t){u.prototype.U.call(this,i);if(void 0===this.t){this.f&=-33;for(var t=this.s;void 0!==t;t=t.n)t.S.U(t);}}};y.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var i=this.t;void 0!==i;i=i.x)i.t.N();}};Object.defineProperty(y.prototype,\"value\",{get:function(){if(1&this.f)throw new Error(\"Cycle detected\");var i=e(this);this.h();if(void 0!==i)i.i=this.i;if(16&this.f)throw this.v;return this.v;}});function _(i){var r=i.u;i.u=void 0;if(\"function\"==typeof r){s++;var n=o;o=void 0;try{r();}catch(t){i.f&=-2;i.f|=8;g(i);throw t;}finally{o=n;t();}}}function g(i){for(var t=i.s;void 0!==t;t=t.n)t.S.U(t);i.x=void 0;i.s=void 0;_(i);}function p(i){if(o!==this)throw new Error(\"Out-of-order effect\");l(this);o=i;this.f&=-2;if(8&this.f)g(this);t();}function b(i){this.x=i;this.u=void 0;this.s=void 0;this.o=void 0;this.f=32;}b.prototype.c=function(){var i=this.S();try{if(8&this.f)return;if(void 0===this.x)return;var t=this.x();if(\"function\"==typeof t)this.u=t;}finally{i();}};b.prototype.S=function(){if(1&this.f)throw new Error(\"Cycle detected\");this.f|=1;this.f&=-9;_(this);a(this);s++;var i=o;o=this;return p.bind(this,i);};b.prototype.N=function(){if(!(2&this.f)){this.f|=2;this.o=h;h=this;}};b.prototype.d=function(){this.f|=8;if(!(1&this.f))g(this);};function E(i){var t=new b(i);try{t.c();}catch(i){t.d();throw i;}return t.d.bind(t);}\n\n/**\n * A buffer queue to serve as a store for any type of data\n */class BufferQueue{constructor(){this.items=[];}enqueue(item){this.items.push(item);}dequeue(){if(this.items.length===0){return null;}return this.items.shift();}isEmpty(){return this.items.length===0;}size(){return this.items.length;}clear(){this.items=[];}}\n\nconst LOG_LEVEL_MAP={LOG:0,INFO:1,DEBUG:2,WARN:3,ERROR:4,NONE:5};const DEFAULT_LOG_LEVEL='ERROR';const LOG_MSG_PREFIX='RS SDK';const LOG_MSG_PREFIX_STYLE='font-weight: bold; background: black; color: white;';const LOG_MSG_STYLE='font-weight: normal;';/**\n * Service to log messages/data to output provider, default is console\n */class Logger{constructor(minLogLevel=DEFAULT_LOG_LEVEL,scope='',logProvider=console){this.minLogLevel=LOG_LEVEL_MAP[minLogLevel];this.scope=scope;this.logProvider=logProvider;}log(...data){this.outputLog('LOG',data);}info(...data){this.outputLog('INFO',data);}debug(...data){this.outputLog('DEBUG',data);}warn(...data){this.outputLog('WARN',data);}error(...data){this.outputLog('ERROR',data);}outputLog(logMethod,data){if(this.minLogLevel<=LOG_LEVEL_MAP[logMethod]){this.logProvider[logMethod.toLowerCase()]?.(...this.formatLogData(data));}}setScope(scopeVal){this.scope=scopeVal||this.scope;}// TODO: should we allow to change the level via global variable on run time\n//  to assist on the fly debugging?\nsetMinLogLevel(logLevel){this.minLogLevel=LOG_LEVEL_MAP[logLevel];if(isUndefined(this.minLogLevel)){this.minLogLevel=LOG_LEVEL_MAP[DEFAULT_LOG_LEVEL];}}/**\n   * Formats the console message using `scope` and styles\n   */formatLogData(data){if(Array.isArray(data)&&data.length>0){// prefix SDK identifier\nlet msg=`%c ${LOG_MSG_PREFIX}`;// format the log message using `scope`\nif(this.scope){msg=`${msg} - ${this.scope}`;}// trim whitespaces for original message\nconst originalMsg=isString(data[0])?data[0].trim():'';// prepare the final message\nmsg=`${msg} %c ${originalMsg}`;const styledLogArgs=[msg,LOG_MSG_PREFIX_STYLE,// add style for the prefix\nLOG_MSG_STYLE// reset the style for the actual message\n];// add first it if it was not a string msg\nif(!isString(data[0])){styledLogArgs.push(data[0]);}// append rest of the original arguments\nstyledLogArgs.push(...data.slice(1));return styledLogArgs;}return data;}}const defaultLogger=new Logger();\n\n// default is v3\nconst SUPPORTED_STORAGE_TYPES=['localStorage','memoryStorage','cookieStorage','sessionStorage','none'];const DEFAULT_STORAGE_TYPE='cookieStorage';\n\nconst SOURCE_CONFIG_OPTION_ERROR=`\"getSourceConfig\" must be a function. Please make sure that it is defined and returns a valid source configuration object.`;const SOURCE_CONFIG_RESOLUTION_ERROR=`Unable to process/parse source configuration response.`;const SOURCE_DISABLED_ERROR=`The source is disabled. Please enable the source in the dashboard to send events.`;const XHR_PAYLOAD_PREP_ERROR=`Failed to prepare data for the request.`;const EVENT_OBJECT_GENERATION_ERROR=`Failed to generate the event object.`;const PLUGIN_EXT_POINT_MISSING_ERROR=`Failed to invoke plugin because the extension point name is missing.`;const PLUGIN_EXT_POINT_INVALID_ERROR=`Failed to invoke plugin because the extension point name is invalid.`;const COMPONENT_BASE_URL_ERROR=component=>`Failed to load the SDK as the base URL for ${component} is not valid.`;// ERROR\nconst UNSUPPORTED_CONSENT_MANAGER_ERROR=(context,selectedConsentManager,consentManagersToPluginNameMap)=>`${context}${LOG_CONTEXT_SEPARATOR}The consent manager \"${selectedConsentManager}\" is not supported. Please choose one of the following supported consent managers: \"${Object.keys(consentManagersToPluginNameMap)}\".`;const REPORTING_PLUGIN_INIT_FAILURE_ERROR=context=>`${context}${LOG_CONTEXT_SEPARATOR}Failed to initialize the error reporting plugin.`;const NOTIFY_FAILURE_ERROR=context=>`${context}${LOG_CONTEXT_SEPARATOR}Failed to notify the error.`;const PLUGIN_NAME_MISSING_ERROR=context=>`${context}${LOG_CONTEXT_SEPARATOR}Plugin name is missing.`;const PLUGIN_ALREADY_EXISTS_ERROR=(context,pluginName)=>`${context}${LOG_CONTEXT_SEPARATOR}Plugin \"${pluginName}\" already exists.`;const PLUGIN_NOT_FOUND_ERROR=(context,pluginName)=>`${context}${LOG_CONTEXT_SEPARATOR}Plugin \"${pluginName}\" not found.`;const PLUGIN_ENGINE_BUG_ERROR=(context,pluginName)=>`${context}${LOG_CONTEXT_SEPARATOR}Plugin \"${pluginName}\" not found in plugins but found in byName. This indicates a bug in the plugin engine. Please report this issue to the development team.`;const PLUGIN_DEPS_ERROR=(context,pluginName,notExistDeps)=>`${context}${LOG_CONTEXT_SEPARATOR}Plugin \"${pluginName}\" could not be loaded because some of its dependencies \"${notExistDeps}\" do not exist.`;const PLUGIN_INVOCATION_ERROR=(context,extPoint,pluginName)=>`${context}${LOG_CONTEXT_SEPARATOR}Failed to invoke the \"${extPoint}\" extension point of plugin \"${pluginName}\".`;const STORAGE_UNAVAILABILITY_ERROR_PREFIX=(context,storageType)=>`${context}${LOG_CONTEXT_SEPARATOR}The \"${storageType}\" storage type is `;const SOURCE_CONFIG_FETCH_ERROR=reason=>`Failed to fetch the source config. Reason: ${reason}`;const WRITE_KEY_VALIDATION_ERROR=writeKey=>`The write key \"${writeKey}\" is invalid. It must be a non-empty string. Please check that the write key is correct and try again.`;const DATA_PLANE_URL_VALIDATION_ERROR=dataPlaneUrl=>`The data plane URL \"${dataPlaneUrl}\" is invalid. It must be a valid URL string. Please check that the data plane URL is correct and try again.`;const READY_API_CALLBACK_ERROR=context=>`${context}${LOG_CONTEXT_SEPARATOR}The callback is not a function.`;const XHR_DELIVERY_ERROR=(prefix,status,statusText,url)=>`${prefix} with status: ${status}, ${statusText} for URL: ${url}.`;const XHR_REQUEST_ERROR=(prefix,e,url)=>`${prefix} due to timeout or no connection (${e?e.type:''}) for URL: ${url}.`;const XHR_SEND_ERROR=(prefix,url)=>`${prefix} for URL: ${url}`;const STORE_DATA_SAVE_ERROR=key=>`Failed to save the value for \"${key}\" to storage`;const STORE_DATA_FETCH_ERROR=key=>`Failed to retrieve or parse data for \"${key}\" from storage`;const DATA_SERVER_REQUEST_FAIL_ERROR=status=>`The server responded with status ${status} while setting the cookies. As a fallback, the cookies will be set client side.`;const FAILED_SETTING_COOKIE_FROM_SERVER_ERROR=key=>`The server failed to set the ${key} cookie. As a fallback, the cookies will be set client side.`;const FAILED_SETTING_COOKIE_FROM_SERVER_GLOBAL_ERROR=`Failed to set/remove cookies via server. As a fallback, the cookies will be managed client side.`;// WARNING\nconst STORAGE_TYPE_VALIDATION_WARNING=(context,storageType,defaultStorageType)=>`${context}${LOG_CONTEXT_SEPARATOR}The storage type \"${storageType}\" is not supported. Please choose one of the following supported types: \"${SUPPORTED_STORAGE_TYPES}\". The default type \"${defaultStorageType}\" will be used instead.`;const UNSUPPORTED_ERROR_REPORTING_PROVIDER_WARNING=(context,selectedErrorReportingProvider,errorReportingProvidersToPluginNameMap,defaultProvider)=>`${context}${LOG_CONTEXT_SEPARATOR}The error reporting provider \"${selectedErrorReportingProvider}\" is not supported. Please choose one of the following supported providers: \"${Object.keys(errorReportingProvidersToPluginNameMap)}\". The default provider \"${defaultProvider}\" will be used instead.`;const UNSUPPORTED_STORAGE_ENCRYPTION_VERSION_WARNING=(context,selectedStorageEncryptionVersion,storageEncryptionVersionsToPluginNameMap,defaultVersion)=>`${context}${LOG_CONTEXT_SEPARATOR}The storage encryption version \"${selectedStorageEncryptionVersion}\" is not supported. Please choose one of the following supported versions: \"${Object.keys(storageEncryptionVersionsToPluginNameMap)}\". The default version \"${defaultVersion}\" will be used instead.`;const STORAGE_DATA_MIGRATION_OVERRIDE_WARNING=(context,storageEncryptionVersion,defaultVersion)=>`${context}${LOG_CONTEXT_SEPARATOR}The storage data migration has been disabled because the configured storage encryption version (${storageEncryptionVersion}) is not the latest (${defaultVersion}). To enable storage data migration, please update the storage encryption version to the latest version.`;const RESERVED_KEYWORD_WARNING=(context,property,parentKeyPath,reservedElements)=>`${context}${LOG_CONTEXT_SEPARATOR}The \"${property}\" property defined under \"${parentKeyPath}\" is a reserved keyword. Please choose a different property name to avoid conflicts with reserved keywords (${reservedElements}).`;const UNSUPPORTED_BEACON_API_WARNING=context=>`${context}${LOG_CONTEXT_SEPARATOR}The Beacon API is not supported by your browser. The events will be sent using XHR instead.`;const TIMEOUT_NOT_NUMBER_WARNING=(context,timeout,defaultValue)=>`${context}${LOG_CONTEXT_SEPARATOR}The session timeout value \"${timeout}\" is not a number. The default timeout of ${defaultValue} ms will be used instead.`;const TIMEOUT_ZERO_WARNING=context=>`${context}${LOG_CONTEXT_SEPARATOR}The session timeout value is 0, which disables the automatic session tracking feature. If you want to enable session tracking, please provide a positive integer value for the timeout.`;const TIMEOUT_NOT_RECOMMENDED_WARNING=(context,timeout,minTimeout)=>`${context}${LOG_CONTEXT_SEPARATOR}The session timeout value ${timeout} ms is less than the recommended minimum of ${minTimeout} ms. Please consider increasing the timeout value to ensure optimal performance and reliability.`;const INVALID_SESSION_ID_WARNING=(context,sessionId,minSessionIdLength)=>`${context}${LOG_CONTEXT_SEPARATOR}The provided session ID (${sessionId}) is either invalid, not a positive integer, or not at least \"${minSessionIdLength}\" digits long. A new session ID will be auto-generated instead.`;const STORAGE_QUOTA_EXCEEDED_WARNING=context=>`${context}${LOG_CONTEXT_SEPARATOR}The storage is either full or unavailable, so the data will not be persisted. Switching to in-memory storage.`;const STORAGE_UNAVAILABLE_WARNING=(context,entry,selectedStorageType,finalStorageType)=>`${context}${LOG_CONTEXT_SEPARATOR}The storage type \"${selectedStorageType}\" is not available for entry \"${entry}\". The SDK will initialize the entry with \"${finalStorageType}\" storage type instead.`;const WRITE_KEY_NOT_A_STRING_ERROR=(context,writeKey)=>`${context}${LOG_CONTEXT_SEPARATOR}The write key \"${writeKey}\" is not a string. Please check that the write key is correct and try again.`;const EMPTY_GROUP_CALL_ERROR=context=>`${context}${LOG_CONTEXT_SEPARATOR}The group() method must be called with at least one argument.`;const READY_CALLBACK_INVOKE_ERROR=`Failed to invoke the ready callback`;const API_CALLBACK_INVOKE_ERROR=`API Callback Invocation Failed`;const NATIVE_DEST_PLUGIN_INITIALIZE_ERROR=`NativeDestinationQueuePlugin initialization failed`;const DATAPLANE_PLUGIN_INITIALIZE_ERROR=`XhrQueuePlugin initialization failed`;const DMT_PLUGIN_INITIALIZE_ERROR=`DeviceModeTransformationPlugin initialization failed`;const NATIVE_DEST_PLUGIN_ENQUEUE_ERROR=`NativeDestinationQueuePlugin event enqueue failed`;const DATAPLANE_PLUGIN_ENQUEUE_ERROR=`XhrQueuePlugin event enqueue failed`;const INVALID_CONFIG_URL_WARNING=(context,configUrl)=>`${context}${LOG_CONTEXT_SEPARATOR}The provided source config URL \"${configUrl}\" is invalid. Using the default source config URL instead.`;const POLYFILL_SCRIPT_LOAD_ERROR=(scriptId,url)=>`Failed to load the polyfill script with ID \"${scriptId}\" from URL ${url}.`;const UNSUPPORTED_PRE_CONSENT_STORAGE_STRATEGY=(context,selectedStrategy,defaultStrategy)=>`${context}${LOG_CONTEXT_SEPARATOR}The pre-consent storage strategy \"${selectedStrategy}\" is not supported. Please choose one of the following supported strategies: \"none, session, anonymousId\". The default strategy \"${defaultStrategy}\" will be used instead.`;const UNSUPPORTED_PRE_CONSENT_EVENTS_DELIVERY_TYPE=(context,selectedDeliveryType,defaultDeliveryType)=>`${context}${LOG_CONTEXT_SEPARATOR}The pre-consent events delivery type \"${selectedDeliveryType}\" is not supported. Please choose one of the following supported types: \"immediate, buffer\". The default type \"${defaultDeliveryType}\" will be used instead.`;const generateMisconfiguredPluginsWarning=(context,configurationStatus,missingPlugins,shouldAddMissingPlugins)=>{const isSinglePlugin=missingPlugins.length===1;const pluginsString=isSinglePlugin?` '${missingPlugins[0]}' plugin was`:` ['${missingPlugins.join(\"', '\")}'] plugins were`;const baseWarning=`${context}${LOG_CONTEXT_SEPARATOR}${configurationStatus}, but${pluginsString} not configured to load.`;if(shouldAddMissingPlugins){return `${baseWarning} So, ${isSinglePlugin?'the plugin':'those plugins'} will be loaded automatically.`;}return `${baseWarning} Ignore if this was intentional. Otherwise, consider adding ${isSinglePlugin?'it':'them'} to the 'plugins' load API option.`;};const INVALID_POLYFILL_URL_WARNING=(context,customPolyfillUrl)=>`${context}${LOG_CONTEXT_SEPARATOR}The provided polyfill URL \"${customPolyfillUrl}\" is invalid. The default polyfill URL will be used instead.`;// DEBUG\n\nconst CDN_INT_DIR='js-integrations';const CDN_PLUGINS_DIR='plugins';const URL_PATTERN=new RegExp('^(https?:\\\\/\\\\/)'+// protocol\n'('+'((([a-zA-Z\\\\d]([a-zA-Z\\\\d-]*[a-zA-Z\\\\d])*)\\\\.)+[a-zA-Z]{2,}|'+// domain name\n'localhost|'+// localhost\n'((25[0-5]|2[0-4][0-9]|[0-1]?[0-9]?[0-9]?)\\\\.){3}'+// OR IP (v4) address first 3 octets\n'(25[0-5]|2[0-4][0-9]|[0-1]?[0-9]?[0-9]?))'+// last octet of IP address\n')'+'(\\\\:\\\\d+)?'+// port\n'(\\\\/[-a-zA-Z\\\\d%_.~+]*)*'+// path\n'(\\\\?[;&a-zA-Z\\\\d%_.~+=-]*)?'+// query string\n'(\\\\#[-a-zA-Z\\\\d_]*)?$')// fragment locator\n;\n\nconst BUILD_TYPE='modern';const SDK_CDN_BASE_URL='https://cdn.rudderlabs.com';const CDN_ARCH_VERSION_DIR='v3';const DEST_SDK_BASE_URL=`${SDK_CDN_BASE_URL}/${CDN_ARCH_VERSION_DIR}/${BUILD_TYPE}/${CDN_INT_DIR}`;const PLUGINS_BASE_URL=`${SDK_CDN_BASE_URL}/${CDN_ARCH_VERSION_DIR}/${BUILD_TYPE}/${CDN_PLUGINS_DIR}`;const DEFAULT_CONFIG_BE_URL='https://api.rudderstack.com';\n\nconst DEFAULT_ERROR_REPORTING_PROVIDER='bugsnag';const DEFAULT_STORAGE_ENCRYPTION_VERSION='v3';const DEFAULT_DATA_PLANE_EVENTS_TRANSPORT='xhr';const ConsentManagersToPluginNameMap={oneTrust:'OneTrustConsentManager',ketch:'KetchConsentManager',custom:'CustomConsentManager'};const ErrorReportingProvidersToPluginNameMap={[DEFAULT_ERROR_REPORTING_PROVIDER]:'Bugsnag'};const StorageEncryptionVersionsToPluginNameMap={[DEFAULT_STORAGE_ENCRYPTION_VERSION]:'StorageEncryption',legacy:'StorageEncryptionLegacy'};const DataPlaneEventsTransportToPluginNameMap={[DEFAULT_DATA_PLANE_EVENTS_TRANSPORT]:'XhrQueue',beacon:'BeaconQueue'};const DEFAULT_DATA_SERVICE_ENDPOINT='rsaRequest';\n\nconst defaultLoadOptions={logLevel:'ERROR',configUrl:DEFAULT_CONFIG_BE_URL,loadIntegration:true,sessions:{autoTrack:true,timeout:DEFAULT_SESSION_TIMEOUT_MS},sameSiteCookie:'Lax',polyfillIfRequired:true,integrations:{All:true},useBeacon:false,beaconQueueOptions:{},destinationsQueueOptions:{},queueOptions:{},lockIntegrationsVersion:false,lockPluginsVersion:false,uaChTrackLevel:'none',plugins:[],useGlobalIntegrationsConfigInEvents:false,bufferDataPlaneEventsUntilReady:false,dataPlaneEventsBufferTimeout:DEFAULT_DATA_PLANE_EVENTS_BUFFER_TIMEOUT_MS,storage:{encryption:{version:DEFAULT_STORAGE_ENCRYPTION_VERSION},migrate:true},sendAdblockPageOptions:{},useServerSideCookies:false};const loadOptionsState=d(clone(defaultLoadOptions));\n\nconst DEFAULT_USER_SESSION_VALUES={userId:'',userTraits:{},anonymousId:'',groupId:'',groupTraits:{},initialReferrer:'',initialReferringDomain:'',sessionInfo:{},authToken:null};const SERVER_SIDE_COOKIES_DEBOUNCE_TIME=10;// milliseconds\n\nconst defaultSessionConfiguration={autoTrack:true,timeout:DEFAULT_SESSION_TIMEOUT_MS};const sessionState={userId:d(DEFAULT_USER_SESSION_VALUES.userId),userTraits:d(DEFAULT_USER_SESSION_VALUES.userTraits),anonymousId:d(DEFAULT_USER_SESSION_VALUES.anonymousId),groupId:d(DEFAULT_USER_SESSION_VALUES.groupId),groupTraits:d(DEFAULT_USER_SESSION_VALUES.groupTraits),initialReferrer:d(DEFAULT_USER_SESSION_VALUES.initialReferrer),initialReferringDomain:d(DEFAULT_USER_SESSION_VALUES.initialReferringDomain),sessionInfo:d(DEFAULT_USER_SESSION_VALUES.sessionInfo),authToken:d(DEFAULT_USER_SESSION_VALUES.authToken)};\n\nconst capabilitiesState={isOnline:d(true),storage:{isLocalStorageAvailable:d(false),isCookieStorageAvailable:d(false),isSessionStorageAvailable:d(false)},isBeaconAvailable:d(false),isLegacyDOM:d(false),isUaCHAvailable:d(false),isCryptoAvailable:d(false),isIE11:d(false),isAdBlocked:d(false)};\n\nconst reportingState={isErrorReportingEnabled:d(false),isMetricsReportingEnabled:d(false),errorReportingProviderPluginName:d(undefined),isErrorReportingPluginLoaded:d(false)};\n\nconst sourceConfigState=d(undefined);\n\nconst lifecycleState={activeDataplaneUrl:d(undefined),integrationsCDNPath:d(DEST_SDK_BASE_URL),pluginsCDNPath:d(PLUGINS_BASE_URL),sourceConfigUrl:d(undefined),status:d(undefined),initialized:d(false),logLevel:d('ERROR'),loaded:d(false),readyCallbacks:d([]),writeKey:d(undefined),dataPlaneUrl:d(undefined)};\n\nconst consentsState={enabled:d(false),initialized:d(false),data:d({}),activeConsentManagerPluginName:d(undefined),preConsent:d({enabled:false}),postConsent:d({}),resolutionStrategy:d('and'),provider:d(undefined),metadata:d(undefined)};\n\nconst metricsState={retries:d(0),dropped:d(0),sent:d(0),queued:d(0),triggered:d(0)};\n\nconst contextState={app:d({name:APP_NAME,namespace:APP_NAMESPACE,version:APP_VERSION,installType:MODULE_TYPE}),traits:d(null),library:d({name:APP_NAME,version:APP_VERSION,snippetVersion:globalThis.RudderSnippetVersion}),userAgent:d(''),device:d(null),network:d(null),os:d({name:'',version:''}),locale:d(null),screen:d({density:0,width:0,height:0,innerWidth:0,innerHeight:0}),'ua-ch':d(undefined),timezone:d(undefined)};\n\nconst nativeDestinationsState={configuredDestinations:d([]),activeDestinations:d([]),loadOnlyIntegrations:d({}),failedDestinations:d([]),loadIntegration:d(true),initializedDestinations:d([]),clientDestinationsReady:d(false),integrationsConfig:d({})};\n\nconst eventBufferState={toBeProcessedArray:d([]),readyCallbacksArray:d([])};\n\nconst pluginsState={ready:d(false),loadedPlugins:d([]),failedPlugins:d([]),pluginsToLoadFromConfig:d([]),activePlugins:d([]),totalPluginsToLoad:d(0)};\n\nconst storageState={encryptionPluginName:d(undefined),migrate:d(false),type:d(undefined),cookie:d(undefined),entries:d({}),trulyAnonymousTracking:d(false)};\n\nconst serverSideCookiesState={isEnabledServerSideCookies:d(false),dataServiceUrl:d(undefined)};\n\nconst dataPlaneEventsState={eventsQueuePluginName:d(undefined),deliveryEnabled:d(true)// Delivery should always happen\n};\n\nconst defaultStateValues={capabilities:capabilitiesState,consents:consentsState,context:contextState,eventBuffer:eventBufferState,lifecycle:lifecycleState,loadOptions:loadOptionsState,metrics:metricsState,nativeDestinations:nativeDestinationsState,plugins:pluginsState,reporting:reportingState,session:sessionState,source:sourceConfigState,storage:storageState,serverCookies:serverSideCookiesState,dataPlaneEvents:dataPlaneEventsState};const state={...clone(defaultStateValues)};\n\n//  to next or return the value if it is the last one instead of an array per\n//  plugin that is the normal invoke\n// TODO: add invoke method for extension point that we know only one plugin can be used. add invokeMultiple and invokeSingle methods\nclass PluginEngine{plugins=[];byName={};cache={};config={throws:true};constructor(options={},logger){this.config={throws:true,...options};this.logger=logger;}register(plugin,state){if(!plugin.name){const errorMessage=PLUGIN_NAME_MISSING_ERROR(PLUGIN_ENGINE);if(this.config.throws){throw new Error(errorMessage);}else {this.logger?.error(errorMessage,plugin);}}if(this.byName[plugin.name]){const errorMessage=PLUGIN_ALREADY_EXISTS_ERROR(PLUGIN_ENGINE,plugin.name);if(this.config.throws){throw new Error(errorMessage);}else {this.logger?.error(errorMessage);}}this.cache={};this.plugins=this.plugins.slice();let pos=this.plugins.length;this.plugins.forEach((pluginItem,index)=>{if(pluginItem.deps?.includes(plugin.name)){pos=Math.min(pos,index);}});this.plugins.splice(pos,0,plugin);this.byName[plugin.name]=plugin;if(isFunction(plugin.initialize)){plugin.initialize(state);}}unregister(name){const plugin=this.byName[name];if(!plugin){const errorMessage=PLUGIN_NOT_FOUND_ERROR(PLUGIN_ENGINE,name);if(this.config.throws){throw new Error(errorMessage);}else {this.logger?.error(errorMessage);}}const index=this.plugins.indexOf(plugin);if(index===-1){const errorMessage=PLUGIN_ENGINE_BUG_ERROR(PLUGIN_ENGINE,name);if(this.config.throws){throw new Error(errorMessage);}else {this.logger?.error(errorMessage);}}this.cache={};delete this.byName[name];this.plugins=this.plugins.slice();this.plugins.splice(index,1);}getPlugin(name){return this.byName[name];}getPlugins(extPoint){const lifeCycleName=extPoint??'.';if(!this.cache[lifeCycleName]){this.cache[lifeCycleName]=this.plugins.filter(plugin=>{if(plugin.deps?.some(dependency=>!this.byName[dependency])){// If deps not exist, then not load it.\nconst notExistDeps=plugin.deps.filter(dependency=>!this.byName[dependency]);this.logger?.error(PLUGIN_DEPS_ERROR(PLUGIN_ENGINE,plugin.name,notExistDeps));return false;}return lifeCycleName==='.'?true:hasValueByPath(plugin,lifeCycleName);});}return this.cache[lifeCycleName];}// This method allows to process this.plugins so that it could\n// do some unified pre-process before application starts.\nprocessRawPlugins(callback){callback(this.plugins);this.cache={};}invoke(extPoint,allowMultiple=true,...args){let extensionPointName=extPoint;if(!extensionPointName){throw new Error(PLUGIN_EXT_POINT_MISSING_ERROR);}const noCall=extensionPointName.startsWith('!');const throws=this.config.throws??extensionPointName.endsWith('!');// eslint-disable-next-line unicorn/better-regex\nextensionPointName=extensionPointName.replace(/(^!|!$)/g,'');if(!extensionPointName){throw new Error(PLUGIN_EXT_POINT_INVALID_ERROR);}const extensionPointNameParts=extensionPointName.split('.');extensionPointNameParts.pop();const pluginMethodPath=extensionPointNameParts.join('.');const pluginsToInvoke=allowMultiple?this.getPlugins(extensionPointName):[this.getPlugins(extensionPointName)[0]];return pluginsToInvoke.map(plugin=>{const method=getValueByPath(plugin,extensionPointName);if(!isFunction(method)||noCall){return method;}try{return method.apply(getValueByPath(plugin,pluginMethodPath),args);}catch(err){// When a plugin failed, doesn't break the app\nif(throws){throw err;}else {this.logger?.error(PLUGIN_INVOCATION_ERROR(PLUGIN_ENGINE,extensionPointName,plugin.name),err);}}return null;});}invokeSingle(extPoint,...args){return this.invoke(extPoint,false,...args)[0];}invokeMultiple(extPoint,...args){return this.invoke(extPoint,true,...args);}}const defaultPluginEngine=new PluginEngine({throws:true},defaultLogger);\n\nconst FAILED_REQUEST_ERR_MSG_PREFIX='The request failed';const ERROR_MESSAGES_TO_BE_FILTERED=[FAILED_REQUEST_ERR_MSG_PREFIX];\n\nconst LOAD_ORIGIN='RS_JS_SDK';\n\n/**\n * Utility method to normalise errors\n */const processError=error=>{let errorMessage;try{if(isString(error)){errorMessage=error;}else if(error instanceof Error){errorMessage=error.message;}else if(error instanceof ErrorEvent){errorMessage=error.message;}// TODO: remove this block once all device mode integrations start using the v3 script loader module (TS)\nelse if(error instanceof Event){const eventTarget=error.target;// Discard all the non-script loading errors\nif(eventTarget&&eventTarget.localName!=='script'){return '';}// Discard script errors that are not originated at SDK or from native SDKs\nif(eventTarget?.dataset&&(eventTarget.dataset.loader!==LOAD_ORIGIN||eventTarget.dataset.isnonnativesdk!=='true')){return '';}errorMessage=`Error in loading a third-party script from URL ${eventTarget?.src} with ID ${eventTarget?.id}.`;}else {errorMessage=error.message?error.message:stringifyWithoutCircular(error);}}catch(e){errorMessage=`Unknown error: ${e.message}`;}return errorMessage;};/**\n * A function to determine whether the error should be promoted to notify or not\n * @param {Error} error\n * @returns\n */const isAllowedToBeNotified=error=>{if(error.message){return !ERROR_MESSAGES_TO_BE_FILTERED.some(e=>error.message.includes(e));}return true;};\n\n/**\n * A service to handle errors\n */class ErrorHandler{// If no logger is passed errors will be thrown as unhandled error\nconstructor(logger,pluginEngine){this.logger=logger;this.pluginEngine=pluginEngine;this.errorBuffer=new BufferQueue();this.attachEffect();}attachEffect(){if(state.reporting.isErrorReportingPluginLoaded.value===true){while(this.errorBuffer.size()>0){this.errorBuffer.dequeue();}}}attachErrorListeners(){if('addEventListener'in globalThis){globalThis.addEventListener('error',event=>{this.onError(event,undefined,undefined,undefined,'unhandledException');});globalThis.addEventListener('unhandledrejection',event=>{this.onError(event,undefined,undefined,undefined,'unhandledPromiseRejection');});}else {this.logger?.debug(`Failed to attach global error listeners.`);}}init(externalSrcLoader){if(!this.pluginEngine){return;}try{const extPoint='errorReporting.init';const errReportingInitVal=this.pluginEngine.invokeSingle(extPoint,state,this.pluginEngine,externalSrcLoader,this.logger);if(errReportingInitVal instanceof Promise){errReportingInitVal.then(client=>{this.errReportingClient=client;}).catch(err=>{this.logger?.error(REPORTING_PLUGIN_INIT_FAILURE_ERROR(ERROR_HANDLER),err);});}}catch(err){this.onError(err,ERROR_HANDLER);}}onError(error,context='',customMessage='',shouldAlwaysThrow=false,errorType='handled'){// Error handling is already implemented in processError method\nlet errorMessage=processError(error);// If no error message after we normalize, then we swallow/ignore the errors\nif(!errorMessage){return;}// eslint-disable-next-line @typescript-eslint/no-unused-vars\nerrorMessage=removeDoubleSpaces(`${context}${LOG_CONTEXT_SEPARATOR}${customMessage} ${errorMessage}`);let normalizedError=new Error(errorMessage);if(isTypeOfError(error)){normalizedError=Object.create(error,{message:{value:errorMessage}});}if(errorType==='handled'){// TODO: Remove the below line once the new Reporting plugin is ready\nthis.notifyError(normalizedError);if(this.logger){this.logger.error(errorMessage);if(shouldAlwaysThrow){throw normalizedError;}}else {throw normalizedError;}}// eslint-disable-next-line sonarjs/no-all-duplicated-branches\nif(state.reporting.isErrorReportingEnabled.value&&!state.reporting.isErrorReportingPluginLoaded.value);}/**\n   * Add breadcrumbs to add insight of a user's journey before an error\n   * occurred and send to external error monitoring service via a plugin\n   *\n   * @param {string} breadcrumb breadcrumbs message\n   */leaveBreadcrumb(breadcrumb){if(this.pluginEngine){try{this.pluginEngine.invokeSingle('errorReporting.breadcrumb',this.pluginEngine,this.errReportingClient,breadcrumb,this.logger);}catch(err){this.onError(err,ERROR_HANDLER,'errorReporting.breadcrumb');}}}/**\n   * Send handled errors to external error monitoring service via a plugin\n   *\n   * @param {Error} error Error instance from handled error\n   */notifyError(error){if(this.errReportingClient&&isAllowedToBeNotified(error)){try{this.pluginEngine?.invokeSingle('errorReporting.notify',this.pluginEngine,this.errReportingClient,error,state,this.logger);}catch(err){// Not calling onError here as we don't want to go into infinite loop\nthis.logger?.error(NOTIFY_FAILURE_ERROR(ERROR_HANDLER),err);}}}}const defaultErrorHandler=new ErrorHandler(defaultLogger,defaultPluginEngine);\n\n/**\n * A function to filter and return non cloud mode destinations\n * @param destination\n *\n * @returns boolean\n */const isNonCloudDestination=destination=>Boolean(destination.config.connectionMode!=='cloud'||destination.config.useNativeSDKToSend===true||// this is the older flag for hybrid mode destinations\ndestination.config.useNativeSDK===true);const isHybridModeDestination=destination=>Boolean(destination.config.connectionMode==='hybrid'||destination.config.useNativeSDKToSend===true);/**\n * A function to filter and return non cloud mode destinations\n * @param destinations\n *\n * @returns destinations\n */const getNonCloudDestinations=destinations=>destinations.filter(isNonCloudDestination);\n\n/**\n * List of plugin names that are loaded as dynamic imports in modern builds\n */const pluginNamesList=['BeaconQueue','Bugsnag','CustomConsentManager','DeviceModeDestinations','DeviceModeTransformation','ErrorReporting','ExternalAnonymousId','GoogleLinker','KetchConsentManager','NativeDestinationQueue','OneTrustConsentManager','StorageEncryption','StorageEncryptionLegacy','StorageMigrator','XhrQueue'];\n\nconst remotesMap = {\n'rudderAnalyticsRemotePlugins':{url:()=>Promise.resolve(window.RudderStackGlobals && window.RudderStackGlobals.app && window.RudderStackGlobals.app.pluginsCDNPath ? \"\" + window.RudderStackGlobals.app.pluginsCDNPath + \"/rsa-plugins.js\" : \"https://cdn.rudderlabs.com/v3/modern/plugins/rsa-plugins.js\"),format:'esm',from:'vite'}\n};\n                const loadJS = async (url, fn) => {\n                    const resolvedUrl = typeof url === 'function' ? await url() : url;\n                    const script = document.createElement('script');\n                    script.type = 'text/javascript';\n                    script.onload = fn;\n                    script.src = resolvedUrl;\n                    document.getElementsByTagName('head')[0].appendChild(script);\n                };\n                \n                function merge(obj1, obj2) {\n                  const mergedObj = Object.assign(obj1, obj2);\n                  for (const key of Object.keys(mergedObj)) {\n                    if (typeof mergedObj[key] === 'object' && typeof obj2[key] === 'object') {\n                      mergedObj[key] = merge(mergedObj[key], obj2[key]);\n                    }\n                  }\n                  return mergedObj;\n                }\n\n                const wrapShareModule = remoteFrom => {\n                  return merge({\n                    \n                  }, (globalThis.__federation_shared__ || {})['default'] || {});\n                };\n\n                async function __federation_method_ensure(remoteId) {\n                    const remote = remotesMap[remoteId];\n                    if (!remote.inited) {\n                        if ('var' === remote.format) {\n                            // loading js with script tag\n                            return new Promise(resolve => {\n                                const callback = () => {\n                                    if (!remote.inited) {\n                                        remote.lib = window[remoteId];\n                                        remote.lib.init(wrapShareModule(remote.from));\n                                        remote.inited = true;\n                                    }\n                                    resolve(remote.lib);\n                                };\n                                return loadJS(remote.url, callback);\n                            });\n                        } else if (['esm', 'systemjs'].includes(remote.format)) {\n                            // loading js with import(...)\n                            return new Promise((resolve, reject) => {\n                                const getUrl = typeof remote.url === 'function' ? remote.url : () => Promise.resolve(remote.url);\n                                getUrl().then(url => {\n                                    import(/* webpackIgnore: true */ /* @vite-ignore */ url).then(lib => {\n                                        if (!remote.inited) {\n                                            const shareScope = wrapShareModule(remote.from);\n                                            lib.init(shareScope);\n                                            remote.lib = lib;\n                                            remote.lib.init(shareScope);\n                                            remote.inited = true;\n                                        }\n                                        resolve(remote.lib);\n                                    }).catch(reject);\n                                });\n                            })\n                        }\n                    } else {\n                        return remote.lib;\n                    }\n                }\n\n                function __federation_method_wrapDefault(module, need) {\n                    if (!module?.default && need) {\n                        let obj = Object.create(null);\n                        obj.default = module;\n                        obj.__esModule = true;\n                        return obj;\n                    }\n                    return module;\n                }\n\n                function __federation_method_getRemote(remoteName, componentName) {\n                    return __federation_method_ensure(remoteName).then((remote) => remote.get(componentName).then(factory => factory()));\n                }\n\n/**\n * Get the lazy loaded dynamic import for a plugin name\n */const getFederatedModuleImport=pluginName=>{switch(pluginName){case'BeaconQueue':return ()=>__federation_method_getRemote(\"rudderAnalyticsRemotePlugins\" , \"./BeaconQueue\").then(module=>__federation_method_wrapDefault(module, true));case'Bugsnag':return ()=>__federation_method_getRemote(\"rudderAnalyticsRemotePlugins\" , \"./Bugsnag\").then(module=>__federation_method_wrapDefault(module, true));case'CustomConsentManager':return ()=>__federation_method_getRemote(\"rudderAnalyticsRemotePlugins\" , \"./CustomConsentManager\").then(module=>__federation_method_wrapDefault(module, true));case'DeviceModeDestinations':return ()=>__federation_method_getRemote(\"rudderAnalyticsRemotePlugins\" , \"./DeviceModeDestinations\").then(module=>__federation_method_wrapDefault(module, true));case'DeviceModeTransformation':return ()=>__federation_method_getRemote(\"rudderAnalyticsRemotePlugins\" , \"./DeviceModeTransformation\").then(module=>__federation_method_wrapDefault(module, true));case'ErrorReporting':return ()=>__federation_method_getRemote(\"rudderAnalyticsRemotePlugins\" , \"./ErrorReporting\").then(module=>__federation_method_wrapDefault(module, true));case'ExternalAnonymousId':return ()=>__federation_method_getRemote(\"rudderAnalyticsRemotePlugins\" , \"./ExternalAnonymousId\").then(module=>__federation_method_wrapDefault(module, true));case'GoogleLinker':return ()=>__federation_method_getRemote(\"rudderAnalyticsRemotePlugins\" , \"./GoogleLinker\").then(module=>__federation_method_wrapDefault(module, true));case'KetchConsentManager':return ()=>__federation_method_getRemote(\"rudderAnalyticsRemotePlugins\" , \"./KetchConsentManager\").then(module=>__federation_method_wrapDefault(module, true));case'NativeDestinationQueue':return ()=>__federation_method_getRemote(\"rudderAnalyticsRemotePlugins\" , \"./NativeDestinationQueue\").then(module=>__federation_method_wrapDefault(module, true));case'OneTrustConsentManager':return ()=>__federation_method_getRemote(\"rudderAnalyticsRemotePlugins\" , \"./OneTrustConsentManager\").then(module=>__federation_method_wrapDefault(module, true));case'StorageEncryption':return ()=>__federation_method_getRemote(\"rudderAnalyticsRemotePlugins\" , \"./StorageEncryption\").then(module=>__federation_method_wrapDefault(module, true));case'StorageEncryptionLegacy':return ()=>__federation_method_getRemote(\"rudderAnalyticsRemotePlugins\" , \"./StorageEncryptionLegacy\").then(module=>__federation_method_wrapDefault(module, true));case'StorageMigrator':return ()=>__federation_method_getRemote(\"rudderAnalyticsRemotePlugins\" , \"./StorageMigrator\").then(module=>__federation_method_wrapDefault(module, true));case'XhrQueue':return ()=>__federation_method_getRemote(\"rudderAnalyticsRemotePlugins\" , \"./XhrQueue\").then(module=>__federation_method_wrapDefault(module, true));default:return undefined;}};/**\n * Map of active plugin names to their dynamic import\n */const federatedModulesBuildPluginImports=activePluginNames=>{const remotePlugins={};activePluginNames.forEach(pluginName=>{if(pluginNamesList.includes(pluginName)){const lazyLoadImport=getFederatedModuleImport(pluginName);if(lazyLoadImport){remotePlugins[pluginName]=lazyLoadImport;}}});return remotePlugins;};\n\n/**\n * Map of mandatory plugin names and direct imports\n */const getMandatoryPluginsMap=()=>({});/**\n * Map of optional plugin names and direct imports for legacy builds\n */const getOptionalPluginsMap=()=>{{return {};}};/**\n * Map of optional plugin names and dynamic imports for modern builds\n */const getRemotePluginsMap=activePluginNames=>{return federatedModulesBuildPluginImports?.(activePluginNames)||{};};const pluginsInventory={...getMandatoryPluginsMap(),...getOptionalPluginsMap()};const remotePluginsInventory=activePluginNames=>({...getRemotePluginsMap(activePluginNames)});\n\n// TODO: add retry mechanism for getting remote plugins\n// TODO: add timeout error mechanism for marking remote plugins that failed to load as failed in state\nclass PluginsManager{constructor(engine,errorHandler,logger){this.engine=engine;this.errorHandler=errorHandler;this.logger=logger;this.onError=this.onError.bind(this);}/**\n   * Orchestrate the plugin loading and registering\n   */init(){state.lifecycle.status.value='pluginsLoading';// Expose pluginsCDNPath to global object, so it can be used in the promise that determines\n// remote plugin cdn path to support proxied plugin remotes\n{setExposedGlobal('pluginsCDNPath',state.lifecycle.pluginsCDNPath.value);}this.setActivePlugins();this.registerLocalPlugins();this.registerRemotePlugins();this.attachEffects();}/**\n   * Update state based on plugin loaded status\n   */ // eslint-disable-next-line class-methods-use-this\nattachEffects(){E(()=>{const isAllPluginsReady=state.plugins.activePlugins.value.length===0||state.plugins.loadedPlugins.value.length+state.plugins.failedPlugins.value.length===state.plugins.totalPluginsToLoad.value;if(isAllPluginsReady){r(()=>{state.plugins.ready.value=true;// TODO: decide what to do if a plugin fails to load for any reason.\n//  Should we stop here or should we progress?\nstate.lifecycle.status.value='pluginsReady';});}});}/**\n   * Determine the list of plugins that should be loaded based on sourceConfig & load options\n   */ // eslint-disable-next-line class-methods-use-this\ngetPluginsToLoadBasedOnConfig(){// This contains the default plugins if load option has been omitted by user\nlet pluginsToLoadFromConfig=state.plugins.pluginsToLoadFromConfig.value;if(!pluginsToLoadFromConfig){return [];}const pluginGroupsToProcess=[{configurationStatus:()=>isDefined(state.dataPlaneEvents.eventsQueuePluginName.value),configurationStatusStr:'Data plane events delivery is enabled',activePluginName:state.dataPlaneEvents.eventsQueuePluginName.value,supportedPlugins:Object.values(DataPlaneEventsTransportToPluginNameMap),shouldAddMissingPlugins:true},{configurationStatus:()=>isDefined(state.reporting.errorReportingProviderPluginName.value),configurationStatusStr:'Error reporting is enabled',activePluginName:state.reporting.errorReportingProviderPluginName.value,basePlugins:['ErrorReporting'],supportedPlugins:Object.values(ErrorReportingProvidersToPluginNameMap)},{configurationStatus:()=>getNonCloudDestinations(state.nativeDestinations.configuredDestinations.value).length>0,configurationStatusStr:'Device mode destinations are connected to the source',supportedPlugins:['DeviceModeDestinations','NativeDestinationQueue']},{configurationStatus:()=>getNonCloudDestinations(state.nativeDestinations.configuredDestinations.value).some(destination=>destination.shouldApplyDeviceModeTransformation),configurationStatusStr:'Device mode transformations are enabled for at least one destination',supportedPlugins:['DeviceModeTransformation']},{configurationStatus:()=>isDefined(state.consents.activeConsentManagerPluginName.value),configurationStatusStr:'Consent management is enabled',activePluginName:state.consents.activeConsentManagerPluginName.value,supportedPlugins:Object.values(ConsentManagersToPluginNameMap)},{configurationStatus:()=>isDefined(state.storage.encryptionPluginName.value),configurationStatusStr:'Storage encryption is enabled',activePluginName:state.storage.encryptionPluginName.value,supportedPlugins:Object.values(StorageEncryptionVersionsToPluginNameMap)},{configurationStatus:()=>state.storage.migrate.value,configurationStatusStr:'Storage migration is enabled',supportedPlugins:['StorageMigrator']}];const addMissingPlugins=false;pluginGroupsToProcess.forEach(group=>{if(group.configurationStatus()){pluginsToLoadFromConfig=pluginsToLoadFromConfig.filter(group.activePluginName?pluginName=>!(pluginName!==group.activePluginName&&group.supportedPlugins.includes(pluginName)):pluginName=>isDefined(pluginName)// pass through\n);this.addMissingPlugins(group,addMissingPlugins,pluginsToLoadFromConfig);}else {pluginsToLoadFromConfig=pluginsToLoadFromConfig.filter(group.basePlugins!==undefined?pluginName=>!(group.basePlugins.includes(pluginName)||group.supportedPlugins.includes(pluginName)):pluginName=>!group.supportedPlugins.includes(pluginName));}});return [...Object.keys(getMandatoryPluginsMap()),...pluginsToLoadFromConfig];}addMissingPlugins(group,addMissingPlugins,pluginsToLoadFromConfig){const shouldAddMissingPlugins=group.shouldAddMissingPlugins||addMissingPlugins;let pluginsToConfigure;if(group.activePluginName){pluginsToConfigure=[...(group.basePlugins||[]),group.activePluginName];}else {pluginsToConfigure=[...group.supportedPlugins];}const missingPlugins=pluginsToConfigure.filter(pluginName=>!pluginsToLoadFromConfig.includes(pluginName));if(missingPlugins.length>0){if(shouldAddMissingPlugins){pluginsToLoadFromConfig.push(...missingPlugins);}this.logger?.warn(generateMisconfiguredPluginsWarning(PLUGINS_MANAGER,group.configurationStatusStr,missingPlugins,shouldAddMissingPlugins));}}/**\n   * Determine the list of plugins that should be activated\n   */setActivePlugins(){const pluginsToLoad=this.getPluginsToLoadBasedOnConfig();// Merging available mandatory and optional plugin name list\nconst availablePlugins=[...Object.keys(pluginsInventory),...pluginNamesList];const activePlugins=[];const failedPlugins=[];pluginsToLoad.forEach(pluginName=>{if(availablePlugins.includes(pluginName)){activePlugins.push(pluginName);}else {failedPlugins.push(pluginName);}});if(failedPlugins.length>0){this.onError(new Error(`Ignoring loading of unknown plugins: ${failedPlugins.join(',')}. Mandatory plugins: ${Object.keys(getMandatoryPluginsMap()).join(',')}. Load option plugins: ${state.plugins.pluginsToLoadFromConfig.value.join(',')}`));}r(()=>{state.plugins.totalPluginsToLoad.value=pluginsToLoad.length;state.plugins.activePlugins.value=activePlugins;state.plugins.failedPlugins.value=failedPlugins;});}/**\n   * Register plugins that are direct imports to PluginEngine\n   */registerLocalPlugins(){Object.values(pluginsInventory).forEach(localPlugin=>{if(isFunction(localPlugin)&&state.plugins.activePlugins.value.includes(localPlugin().name)){this.register([localPlugin()]);}});}/**\n   * Register plugins that are dynamic imports to PluginEngine\n   */registerRemotePlugins(){const remotePluginsList=remotePluginsInventory(state.plugins.activePlugins.value);Promise.all(Object.keys(remotePluginsList).map(async remotePluginKey=>{await remotePluginsList[remotePluginKey]().then(remotePluginModule=>this.register([remotePluginModule.default()])).catch(err=>{// TODO: add retry here if dynamic import fails\nstate.plugins.failedPlugins.value=[...state.plugins.failedPlugins.value,remotePluginKey];this.onError(err,remotePluginKey);});})).catch(err=>{this.onError(err);});}/**\n   * Extension point invoke that allows multiple plugins to be registered to it with error handling\n   */invokeMultiple(extPoint,...args){try{return this.engine.invokeMultiple(extPoint,...args);}catch(e){this.onError(e,extPoint);return [];}}/**\n   * Extension point invoke that allows a single plugin to be registered to it with error handling\n   */invokeSingle(extPoint,...args){try{return this.engine.invokeSingle(extPoint,...args);}catch(e){this.onError(e,extPoint);return null;}}/**\n   * Plugin engine register with error handling\n   */register(plugins){plugins.forEach(plugin=>{try{this.engine.register(plugin,state);}catch(e){state.plugins.failedPlugins.value=[...state.plugins.failedPlugins.value,plugin.name];this.onError(e);}});}// TODO: Implement reset API instead\nunregisterLocalPlugins(){Object.values(pluginsInventory).forEach(localPlugin=>{try{this.engine.unregister(localPlugin().name);}catch(e){this.onError(e);}});}/**\n   * Handle errors\n   */onError(error,customMessage){if(this.errorHandler){this.errorHandler.onError(error,PLUGINS_MANAGER,customMessage);}else {throw error;}}}\n\n/**\n * Utility to parse XHR JSON response\n */const responseTextToJson=(responseText,onError)=>{try{return JSON.parse(responseText||'');}catch(err){const error=getMutatedError(err,'Failed to parse response data');if(isFunction(onError)){onError(error);}else {throw error;}}return undefined;};\n\nconst DEFAULT_XHR_REQUEST_OPTIONS={headers:{Accept:'application/json','Content-Type':'application/json;charset=UTF-8'},method:'GET'};/**\n * Utility to create request configuration based on default options\n */const createXhrRequestOptions=(url,options,basicAuthHeader)=>{const requestOptions=mergeDeepRight(DEFAULT_XHR_REQUEST_OPTIONS,options||{});if(basicAuthHeader){requestOptions.headers=mergeDeepRight(requestOptions.headers,{Authorization:basicAuthHeader});}requestOptions.url=url;return requestOptions;};/**\n * Utility implementation of XHR, fetch cannot be used as it requires explicit\n * origin allowed values and not wildcard for CORS requests with credentials and\n * this is not supported by our sourceConfig API\n */const xhrRequest=(options,timeout=DEFAULT_XHR_TIMEOUT_MS,logger)=>new Promise((resolve,reject)=>{let payload;if(options.sendRawData===true){payload=options.data;}else {payload=stringifyWithoutCircular(options.data,false,[],logger);if(isNull(payload)){reject({error:new Error(XHR_PAYLOAD_PREP_ERROR),undefined,options});// return and don't process further if the payload could not be stringified\nreturn;}}const xhr=new XMLHttpRequest();// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst xhrReject=e=>{reject({error:new Error(XHR_DELIVERY_ERROR(FAILED_REQUEST_ERR_MSG_PREFIX,xhr.status,xhr.statusText,options.url)),xhr,options});};const xhrError=e=>{reject({error:new Error(XHR_REQUEST_ERROR(FAILED_REQUEST_ERR_MSG_PREFIX,e,options.url)),xhr,options});};xhr.ontimeout=xhrError;xhr.onerror=xhrError;xhr.onload=()=>{if(xhr.status>=200&&xhr.status<400){resolve({response:xhr.responseText,xhr,options});}else {xhrReject();}};xhr.open(options.method,options.url);if(options.withCredentials===true){xhr.withCredentials=true;}// The timeout property may be set only in the time interval between a call to the open method\n// and the first call to the send method in legacy browsers\nxhr.timeout=timeout;Object.keys(options.headers).forEach(headerName=>{if(options.headers[headerName]){xhr.setRequestHeader(headerName,options.headers[headerName]);}});try{xhr.send(payload);}catch(err){reject({error:getMutatedError(err,XHR_SEND_ERROR(FAILED_REQUEST_ERR_MSG_PREFIX,options.url)),xhr,options});}});\n\n/**\n * Service to handle data communication with APIs\n */class HttpClient{hasErrorHandler=false;constructor(errorHandler,logger){this.errorHandler=errorHandler;this.logger=logger;this.hasErrorHandler=Boolean(this.errorHandler);this.onError=this.onError.bind(this);}/**\n   * Implement requests in a blocking way\n   */async getData(config){const{url,options,timeout,isRawResponse}=config;try{const data=await xhrRequest(createXhrRequestOptions(url,options,this.basicAuthHeader),timeout,this.logger);return {data:isRawResponse?data.response:responseTextToJson(data.response,this.onError),details:data};}catch(reason){this.onError(reason.error??reason);return {data:undefined,details:reason};}}/**\n   * Implement requests in a non-blocking way\n   */getAsyncData(config){const{callback,url,options,timeout,isRawResponse}=config;const isFireAndForget=!isFunction(callback);xhrRequest(createXhrRequestOptions(url,options,this.basicAuthHeader),timeout,this.logger).then(data=>{if(!isFireAndForget){callback(isRawResponse?data.response:responseTextToJson(data.response,this.onError),data);}}).catch(data=>{this.onError(data.error??data);if(!isFireAndForget){callback(undefined,data);}});}/**\n   * Handle errors\n   */onError(error){if(this.hasErrorHandler){this.errorHandler?.onError(error,HTTP_CLIENT);}else {throw error;}}/**\n   * Set basic authentication header (eg writekey)\n   */setAuthHeader(value,noBtoa=false){const authVal=noBtoa?value:toBase64(`${value}:`);this.basicAuthHeader=`Basic ${authVal}`;}/**\n   * Clear basic authentication header\n   */resetAuthHeader(){this.basicAuthHeader=undefined;}}const defaultHttpClient=new HttpClient(defaultErrorHandler,defaultLogger);\n\nconst COOKIE_STORAGE='cookieStorage';const LOCAL_STORAGE='localStorage';const SESSION_STORAGE='sessionStorage';const MEMORY_STORAGE='memoryStorage';const NO_STORAGE='none';\n\nconst userIdKey='rl_user_id';const userTraitsKey='rl_trait';const anonymousUserIdKey='rl_anonymous_id';const groupIdKey='rl_group_id';const groupTraitsKey='rl_group_trait';const pageInitialReferrerKey='rl_page_init_referrer';const pageInitialReferringDomainKey='rl_page_init_referring_domain';const sessionInfoKey='rl_session';const authTokenKey='rl_auth_token';const COOKIE_KEYS={userId:userIdKey,userTraits:userTraitsKey,anonymousId:anonymousUserIdKey,groupId:groupIdKey,groupTraits:groupTraitsKey,initialReferrer:pageInitialReferrerKey,initialReferringDomain:pageInitialReferringDomainKey,sessionInfo:sessionInfoKey,authToken:authTokenKey};\n\nconst STORAGE_TEST_COOKIE='test_rudder_cookie';const STORAGE_TEST_LOCAL_STORAGE='test_rudder_ls';const STORAGE_TEST_SESSION_STORAGE='test_rudder_ss';const STORAGE_TEST_TOP_LEVEL_DOMAIN='__tld__';const CLIENT_DATA_STORE_COOKIE='clientDataInCookie';const CLIENT_DATA_STORE_LS='clientDataInLocalStorage';const CLIENT_DATA_STORE_MEMORY='clientDataInMemory';const CLIENT_DATA_STORE_SESSION='clientDataInSessionStorage';const USER_SESSION_KEYS=['userId','userTraits','anonymousId','groupId','groupTraits','initialReferrer','initialReferringDomain','sessionInfo','authToken'];\n\nconst storageClientDataStoreNameMap={[COOKIE_STORAGE]:CLIENT_DATA_STORE_COOKIE,[LOCAL_STORAGE]:CLIENT_DATA_STORE_LS,[MEMORY_STORAGE]:CLIENT_DATA_STORE_MEMORY,[SESSION_STORAGE]:CLIENT_DATA_STORE_SESSION};\n\nconst COOKIE_DATA_ENCODING_ERROR=`Failed to encode the cookie data.`;\n\n/**\n * Encode.\n */const encode=(value,logger)=>{try{return encodeURIComponent(value);}catch(err){logger?.error(COOKIE_DATA_ENCODING_ERROR,err);return undefined;}};/**\n * Decode\n */const decode=value=>{try{return decodeURIComponent(value);}catch(err){// Do nothing as non-RS SDK cookies may not be URI encoded\nreturn undefined;}};/**\n * Parse cookie `str`\n */const parse=str=>{const obj={};const pairs=str.split(/\\s*;\\s*/);let pair;if(!pairs[0]){return obj;}// TODO: Decode only the cookies that are needed by the SDK\npairs.forEach(pairItem=>{pair=pairItem.split('=');const keyName=pair[0]?decode(pair[0]):undefined;if(keyName){obj[keyName]=pair[1]?decode(pair[1]):undefined;}});return obj;};/**\n * Set cookie `name` to `value`\n */const set=(name,value,optionsConfig,logger)=>{const options={...(optionsConfig||{})};let cookieString=`${encode(name,logger)}=${encode(value,logger)}`;if(isNull(value)){options.maxage=-1;}if(options.maxage){options.expires=new Date(+new Date()+options.maxage);}if(options.path){cookieString+=`; path=${options.path}`;}if(options.domain){cookieString+=`; domain=${options.domain}`;}if(options.expires){cookieString+=`; expires=${options.expires.toUTCString()}`;}if(options.samesite){cookieString+=`; samesite=${options.samesite}`;}if(options.secure){cookieString+=`; secure`;}globalThis.document.cookie=cookieString;};/**\n * Return all cookies\n */const all=()=>{const cookieStringValue=globalThis.document.cookie;return parse(cookieStringValue);};/**\n * Get cookie `name`\n */const get=name=>all()[name];/**\n * Set or get cookie `name` with `value` and `options` object\n */ // eslint-disable-next-line func-names\nconst cookie=function(name,value,options,logger){switch(arguments.length){case 4:case 3:case 2:return set(name,value,options,logger);case 1:if(name){return get(name);}return all();default:return all();}};\n\nconst detectAdBlockers=(errorHandler,logger)=>{// Apparently, '?view=ad' is a query param that is blocked by majority of adblockers\n// Use source config URL here as it is very unlikely to be blocked by adblockers\n// Only the extra query param should make it vulnerable to adblockers\n// This will work even if the users proxies it.\n// The edge case where this doesn't work is when HEAD method is not allowed by the server (user's)\nconst baseUrl=new URL(state.lifecycle.sourceConfigUrl.value);const url=`${baseUrl.origin}${baseUrl.pathname}?view=ad`;const httpClient=new HttpClient(errorHandler,logger);httpClient.setAuthHeader(state.lifecycle.writeKey.value);httpClient.getAsyncData({url,options:{// We actually don't need the response from the request, so we are using HEAD\nmethod:'HEAD',headers:{'Content-Type':undefined}},isRawResponse:true,callback:(result,details)=>{// not ad blocked if the request is successful or it is not internally redirected on the client side\n// Often adblockers instead of blocking the request, they redirect it to an internal URL\nstate.capabilities.isAdBlocked.value=details?.error!==undefined||details?.xhr?.responseURL!==url;}});};\n\nconst hasCrypto$1=()=>!isNullOrUndefined(globalThis.crypto)&&isFunction(globalThis.crypto.getRandomValues);// eslint-disable-next-line compat/compat -- We are checking for the existence of navigator.userAgentData\nconst hasUAClientHints=()=>!isNullOrUndefined(globalThis.navigator.userAgentData);const hasBeacon=()=>!isNullOrUndefined(globalThis.navigator.sendBeacon)&&isFunction(globalThis.navigator.sendBeacon);const isIE11=()=>Boolean(globalThis.navigator.userAgent.match(/Trident.*rv:11\\./));\n\nconst getUserAgentClientHint=(callback,level='none')=>{if(level==='none'){callback(undefined);}if(level==='default'){callback(navigator.userAgentData);}if(level==='full'){navigator.userAgentData?.getHighEntropyValues(['architecture','bitness','brands','mobile','model','platform','platformVersion','uaFullVersion','fullVersionList','wow64']).then(ua=>{callback(ua);}).catch(()=>{callback();});}};\n\nconst isDatasetAvailable=()=>{const testElement=globalThis.document.createElement('div');testElement.setAttribute('data-a-b','c');return testElement.dataset?testElement.dataset.aB==='c':false;};const legacyJSEngineRequiredPolyfills={// Ideally, we should separate the checks for URL and URLSearchParams but\n// the polyfill service serves them under the same feature name, \"URL\".\nURL:()=>!isFunction(globalThis.URL)||!isFunction(globalThis.URLSearchParams),Promise:()=>!isFunction(globalThis.Promise),'Number.isNaN':()=>!isFunction(globalThis.Number.isNaN),'Number.isInteger':()=>!isFunction(globalThis.Number.isInteger),'Array.from':()=>!isFunction(globalThis.Array.from),'Array.prototype.find':()=>!isFunction(globalThis.Array.prototype.find),'Array.prototype.includes':()=>!isFunction(globalThis.Array.prototype.includes),'String.prototype.endsWith':()=>!isFunction(globalThis.String.prototype.endsWith),'String.prototype.startsWith':()=>!isFunction(globalThis.String.prototype.startsWith),'String.prototype.includes':()=>!isFunction(globalThis.String.prototype.includes),'String.prototype.replaceAll':()=>!isFunction(globalThis.String.prototype.replaceAll),'String.fromCodePoint':()=>!isFunction(globalThis.String.fromCodePoint),'Object.entries':()=>!isFunction(globalThis.Object.entries),'Object.values':()=>!isFunction(globalThis.Object.values),'Object.assign':()=>!isFunction(globalThis.Object.assign),'Object.fromEntries':()=>!isFunction(globalThis.Object.fromEntries),'Element.prototype.dataset':()=>!isDatasetAvailable(),// Ideally, we should separate the checks for TextEncoder and TextDecoder but\n// the polyfill service serves them under the same feature name, \"TextEncoder\".\nTextEncoder:()=>!isFunction(globalThis.TextEncoder)||!isFunction(globalThis.TextDecoder),requestAnimationFrame:()=>!isFunction(globalThis.requestAnimationFrame)||!isFunction(globalThis.cancelAnimationFrame),CustomEvent:()=>!isFunction(globalThis.CustomEvent),'navigator.sendBeacon':()=>!isFunction(globalThis.navigator.sendBeacon),// Note, the polyfill service serves both ArrayBuffer and Uint8Array under the same feature name, \"ArrayBuffer\".\nArrayBuffer:()=>!isFunction(globalThis.Uint8Array),Set:()=>!isFunction(globalThis.Set),atob:()=>!isFunction(globalThis.atob)};const isLegacyJSEngine=()=>{const requiredCapabilitiesList=Object.keys(legacyJSEngineRequiredPolyfills);let needsPolyfill=false;/* eslint-disable-next-line unicorn/no-for-loop */for(let i=0;i<requiredCapabilitiesList.length;i++){const isCapabilityMissing=legacyJSEngineRequiredPolyfills[requiredCapabilitiesList[i]];if(isFunction(isCapabilityMissing)&&isCapabilityMissing()){needsPolyfill=true;break;}}return needsPolyfill;};\n\nconst getScreenDetails=()=>{let screenDetails={density:0,width:0,height:0,innerWidth:0,innerHeight:0};screenDetails={width:globalThis.screen.width,height:globalThis.screen.height,density:globalThis.devicePixelRatio,innerWidth:globalThis.innerWidth,innerHeight:globalThis.innerHeight};return screenDetails;};\n\nconst isStorageQuotaExceeded=e=>{const matchingNames=['QuotaExceededError','NS_ERROR_DOM_QUOTA_REACHED'];// [everything except Firefox, Firefox]\nconst matchingCodes=[22,1014];// [everything except Firefox, Firefox]\nconst isQuotaExceededError=matchingNames.includes(e.name)||matchingCodes.includes(e.code);return e instanceof DOMException&&isQuotaExceededError;};// TODO: also check for SecurityErrors\n//  https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage#exceptions\nconst isStorageAvailable=(type=LOCAL_STORAGE,storageInstance,logger)=>{let storage;let testData;try{switch(type){case MEMORY_STORAGE:return true;case COOKIE_STORAGE:storage=storageInstance;testData=STORAGE_TEST_COOKIE;break;case LOCAL_STORAGE:storage=storageInstance??globalThis.localStorage;testData=STORAGE_TEST_LOCAL_STORAGE;// was STORAGE_TEST_LOCAL_STORAGE in ours and generateUUID() in segment retry one\nbreak;case SESSION_STORAGE:storage=storageInstance??globalThis.sessionStorage;testData=STORAGE_TEST_SESSION_STORAGE;break;default:return false;}if(!storage){return false;}storage.setItem(testData,'true');if(storage.getItem(testData)){storage.removeItem(testData);return true;}return false;}catch(err){const msgPrefix=STORAGE_UNAVAILABILITY_ERROR_PREFIX(CAPABILITIES_MANAGER,type);let reason='unavailable';if(isStorageQuotaExceeded(err)){reason='full';}logger?.warn(`${msgPrefix}${reason}.`,err);return false;}};\n\nconst legacyGetHostname=href=>{const l=document.createElement('a');l.href=href;return l.hostname;};/**\n * Levels returns all levels of the given url\n *\n * The method returns an empty array when the hostname is an ip.\n */const levelsFunc=url=>{// This is called before the polyfills load thus new URL cannot be used\nconst host=typeof globalThis.URL!=='function'?legacyGetHostname(url):new URL(url).hostname;const parts=host?.split('.')??[];const last=parts[parts.length-1];const levels=[];// Ip address.\nif(parts.length===4&&last&&last===parseInt(last,10).toString()){return levels;}// Localhost.\nif(parts.length<=1){// Fix to support localhost\nif(parts[0]&&parts[0].indexOf('localhost')!==-1){return ['localhost'];}return levels;}// Create levels.\nfor(let i=parts.length-2;i>=0;i-=1){levels.push(parts.slice(i).join('.'));}return levels;};/**\n * Get the top domain.\n *\n * The function constructs the levels of domain and attempts to set a global\n * cookie on each one when it succeeds it returns the top level domain.\n *\n * The method returns an empty string when the hostname is an ip.\n */const domain=url=>{const levels=levelsFunc(url);// Lookup the real top level one.\n// eslint-disable-next-line unicorn/no-for-loop\nfor(let i=0;i<levels.length;i+=1){const domain=levels[i];const cname=STORAGE_TEST_TOP_LEVEL_DOMAIN;const opts={domain:`${domain.indexOf('localhost')!==-1?'':'.'}${domain}`};// Set cookie on domain\ncookie(cname,1,opts);// If successful\nif(cookie(cname)){// Remove cookie from domain\ncookie(cname,null,opts);return domain;}}return '';};\n\nconst getDefaultCookieOptions=()=>{const topDomain=`.${domain(globalThis.location.href)}`;return {maxage:DEFAULT_COOKIE_MAX_AGE_MS,path:'/',domain:!topDomain||topDomain==='.'?undefined:topDomain,samesite:'Lax',enabled:true};};const getDefaultLocalStorageOptions=()=>({enabled:true});const getDefaultSessionStorageOptions=()=>({enabled:true});const getDefaultInMemoryStorageOptions=()=>({enabled:true});\n\n/**\n * A storage utility to persist values in cookies via Storage interface\n */class CookieStorage{static globalSingleton=null;isSupportAvailable=true;isEnabled=true;length=0;constructor(options={},logger){if(CookieStorage.globalSingleton){// eslint-disable-next-line no-constructor-return\nreturn CookieStorage.globalSingleton;}this.options=getDefaultCookieOptions();this.logger=logger;this.configure(options);CookieStorage.globalSingleton=this;}configure(options){this.options=mergeDeepRight(this.options??{},options);if(options.sameDomainCookiesOnly){delete this.options.domain;}this.isSupportAvailable=isStorageAvailable(COOKIE_STORAGE,this,this.logger);this.isEnabled=Boolean(this.options.enabled&&this.isSupportAvailable);return this.options;}setItem(key,value){cookie(key,value,this.options,this.logger);this.length=Object.keys(cookie()).length;return true;}// eslint-disable-next-line class-methods-use-this\ngetItem(key){const value=cookie(key);return isUndefined(value)?null:value;}removeItem(key){const result=this.setItem(key,null);this.length=Object.keys(cookie()).length;return result;}// eslint-disable-next-line class-methods-use-this\nclear(){// Not implemented\n// getting a list of all cookie storage keys and remove all values\n// sounds risky to do as it will take on all top domain cookies\n// better to explicitly clear specific ones if needed\n}key(index){const curKeys=this.keys();return curKeys[index]??null;}// eslint-disable-next-line class-methods-use-this\nkeys(){return Object.keys(cookie());}}\n\n/**\n * A storage utility to retain values in memory via Storage interface\n */class InMemoryStorage{isEnabled=true;length=0;data={};constructor(options,logger){this.options=getDefaultInMemoryStorageOptions();this.logger=logger;this.configure(options??{});}configure(options){this.options=mergeDeepRight(this.options,options);this.isEnabled=Boolean(this.options.enabled);return this.options;}setItem(key,value){this.data[key]=value;this.length=Object.keys(this.data).length;return value;}getItem(key){if(key in this.data){return this.data[key];}return null;}removeItem(key){if(key in this.data){delete this.data[key];}this.length=Object.keys(this.data).length;return null;}clear(){this.data={};this.length=0;}key(index){const curKeys=this.keys();return curKeys[index]??null;}keys(){return Object.keys(this.data);}}const defaultInMemoryStorage=new InMemoryStorage({},defaultLogger);\n\nvar commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\nfunction getDefaultExportFromCjs (x) {\n\treturn x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;\n}\n\nvar store$1 = {exports: {}};\n\n(function(module,exports){(function(global,factory){module.exports=factory();})(commonjsGlobal,function(){function isJSON(obj){obj=JSON.stringify(obj);if(!/^\\{[\\s\\S]*\\}$/.test(obj)){return false;}return true;}function stringify(val){return val===undefined||typeof val===\"function\"?val+'':JSON.stringify(val);}function deserialize(value){if(typeof value!=='string'){return undefined;}try{return JSON.parse(value);}catch(e){return value;}}function isFunction(value){return {}.toString.call(value)===\"[object Function]\";}function isArray(value){return Object.prototype.toString.call(value)===\"[object Array]\";}// https://github.com/jaywcjlove/store.js/pull/8\n// Error: QuotaExceededError\nfunction dealIncognito(storage){var _KEY='_Is_Incognit',_VALUE='yes';try{// NOTE: set default storage when not passed in\nif(!storage){storage=window.localStorage;}storage.setItem(_KEY,_VALUE);storage.removeItem(_KEY);}catch(e){var inMemoryStorage={};inMemoryStorage._data={};inMemoryStorage.setItem=function(id,val){return inMemoryStorage._data[id]=String(val);};inMemoryStorage.getItem=function(id){return inMemoryStorage._data.hasOwnProperty(id)?inMemoryStorage._data[id]:undefined;};inMemoryStorage.removeItem=function(id){return delete inMemoryStorage._data[id];};inMemoryStorage.clear=function(){return inMemoryStorage._data={};};storage=inMemoryStorage;}finally{if(storage.getItem(_KEY)===_VALUE)storage.removeItem(_KEY);}return storage;}// deal QuotaExceededError if user use incognito mode in browser\nvar storage=dealIncognito();function Store(){if(!(this instanceof Store)){return new Store();}}Store.prototype={set:function set(key,val){if(key&&!isJSON(key)){storage.setItem(key,stringify(val));}else if(isJSON(key)){for(var a in key)this.set(a,key[a]);}return this;},get:function get(key){// Return all entries if no key\nif(key===undefined){var ret={};this.forEach(function(key,val){return ret[key]=val;});return ret;}if(key.charAt(0)==='?'){return this.has(key.substr(1));}var args=arguments;if(args.length>1){var dt={};for(var i=0,len=args.length;i<len;i++){var value=deserialize(storage.getItem(args[i]));if(this.has(args[i])){dt[args[i]]=value;}}return dt;}return deserialize(storage.getItem(key));},clear:function clear(){storage.clear();return this;},remove:function remove(key){var val=this.get(key);storage.removeItem(key);return val;},has:function has(key){return {}.hasOwnProperty.call(this.get(),key);},keys:function keys(){var d=[];this.forEach(function(k){d.push(k);});return d;},forEach:function forEach(callback){for(var i=0,len=storage.length;i<len;i++){var key=storage.key(i);callback(key,this.get(key));}return this;},search:function search(str){var arr=this.keys(),dt={};for(var i=0,len=arr.length;i<len;i++){if(arr[i].indexOf(str)>-1)dt[arr[i]]=this.get(arr[i]);}return dt;},len:function len(){return storage.length;}};var _Store=null;function store(key,data){var argm=arguments;var dt=null;if(!_Store)_Store=Store();if(argm.length===0)return _Store.get();if(argm.length===1){if(typeof key===\"string\")return _Store.get(key);if(isJSON(key))return _Store.set(key);}if(argm.length===2&&typeof key===\"string\"){if(!data)return _Store.remove(key);if(data&&typeof data===\"string\")return _Store.set(key,data);if(data&&isFunction(data)){dt=null;dt=data(key,_Store.get(key));store.set(key,dt);}}if(argm.length===2&&isArray(key)&&isFunction(data)){for(var i=0,len=key.length;i<len;i++){dt=data(key[i],_Store.get(key[i]));store.set(key[i],dt);}}return store;}for(var a in Store.prototype)store[a]=Store.prototype[a];return store;});})(store$1);var storeExports=store$1.exports;const store = /*@__PURE__*/getDefaultExportFromCjs(storeExports);\n\n//  check if the get, set overloads and search methods are used at all\n//  if we do, ensure we provide types to support overloads as per storejs docs\n//  https://www.npmjs.com/package/storejs\n/**\n * A storage utility to persist values in localstorage via Storage interface\n */class LocalStorage{isSupportAvailable=true;isEnabled=true;length=0;constructor(options={},logger){this.options=getDefaultLocalStorageOptions();this.logger=logger;this.configure(options);}configure(options){this.options=mergeDeepRight(this.options,options);this.isSupportAvailable=isStorageAvailable(LOCAL_STORAGE,this,this.logger);this.isEnabled=Boolean(this.options.enabled&&this.isSupportAvailable);return this.options;}setItem(key,value){store.set(key,value);this.length=store.len();}// eslint-disable-next-line class-methods-use-this\ngetItem(key){const value=store.get(key);return isUndefined(value)?null:value;}removeItem(key){store.remove(key);this.length=store.len();}clear(){store.clear();this.length=0;}key(index){const curKeys=this.keys();return curKeys[index]??null;}// eslint-disable-next-line class-methods-use-this\nkeys(){return store.keys();}}const defaultLocalStorage=new LocalStorage({},defaultLogger);\n\n/**\n * A storage utility to persist values in SessionStorage via Storage interface\n */class SessionStorage{isSupportAvailable=true;isEnabled=true;length=0;store=globalThis.sessionStorage;constructor(options={},logger){this.options=getDefaultSessionStorageOptions();this.logger=logger;this.configure(options);}configure(options){this.options=mergeDeepRight(this.options,options);this.isSupportAvailable=isStorageAvailable(SESSION_STORAGE,this,this.logger);this.isEnabled=Boolean(this.options.enabled&&this.isSupportAvailable);return this.options;}setItem(key,value){this.store.setItem(key,value);this.length=this.store.length;}getItem(key){const value=this.store.getItem(key);return isUndefined(value)?null:value;}removeItem(key){this.store.removeItem(key);this.length=this.store.length;}clear(){this.store.clear();this.length=0;}key(index){return this.store.key(index);}keys(){const keys=[];for(let i=0;i<this.store.length;i+=1){const key=this.store.key(i);if(key!==null){keys.push(key);}}return keys;}}const defaultSessionStorage=new SessionStorage({},defaultLogger);\n\n/**\n * A utility to retrieve the storage singleton instance by type\n */const getStorageEngine=type=>{switch(type){case LOCAL_STORAGE:return defaultLocalStorage;case SESSION_STORAGE:return defaultSessionStorage;case MEMORY_STORAGE:return defaultInMemoryStorage;case COOKIE_STORAGE:return new CookieStorage({},defaultLogger);default:return defaultInMemoryStorage;}};/**\n * Configure cookie storage singleton\n */const configureCookieStorageEngine=options=>{const cookieStorageOptions=new CookieStorage({},defaultLogger).configure(options);state.storage.cookie.value={maxage:cookieStorageOptions.maxage,path:cookieStorageOptions.path,domain:cookieStorageOptions.domain,samesite:cookieStorageOptions.samesite,expires:cookieStorageOptions.expires,secure:cookieStorageOptions.secure};};/**\n * Configure local storage singleton\n */const configureLocalStorageEngine=options=>{defaultLocalStorage.configure(options);};/**\n * Configure in memory storage singleton\n */const configureInMemoryStorageEngine=options=>{defaultInMemoryStorage.configure(options);};/**\n * Configure session storage singleton\n */const configureSessionStorageEngine=options=>{defaultSessionStorage.configure(options);};/**\n * Configure all storage singleton instances\n */const configureStorageEngines=(cookieStorageOptions={},localStorageOptions={},inMemoryStorageOptions={},sessionStorageOptions={})=>{configureCookieStorageEngine(cookieStorageOptions);configureLocalStorageEngine(localStorageOptions);configureInMemoryStorageEngine(inMemoryStorageOptions);configureSessionStorageEngine(sessionStorageOptions);};\n\n/**\n * Store Implementation with dedicated storage\n */class Store{hasErrorHandler=false;constructor(config,engine,pluginsManager){this.id=config.id;this.name=config.name;this.isEncrypted=config.isEncrypted??false;this.validKeys=config.validKeys??{};this.engine=engine??getStorageEngine(LOCAL_STORAGE);this.noKeyValidation=Object.keys(this.validKeys).length===0;this.noCompoundKey=config.noCompoundKey;this.originalEngine=this.engine;this.errorHandler=config.errorHandler??defaultErrorHandler;this.hasErrorHandler=Boolean(this.errorHandler);this.logger=config.logger??defaultLogger;this.pluginsManager=pluginsManager;}/**\n   * Ensure the key is valid and with correct format\n   */createValidKey(key){const{name,id,validKeys,noKeyValidation,noCompoundKey}=this;if(noKeyValidation){return noCompoundKey?key:[name,id,key].join('.');}// validate and return undefined if invalid key\nlet compoundKey;Object.values(validKeys).forEach(validKeyName=>{if(validKeyName===key){compoundKey=noCompoundKey?key:[name,id,key].join('.');}});return compoundKey;}/**\n   * Switch to inMemoryEngine, bringing any existing data with.\n   */swapQueueStoreToInMemoryEngine(){const{name,id,validKeys,noCompoundKey}=this;const inMemoryStorage=getStorageEngine(MEMORY_STORAGE);// grab existing data, but only for this page's queue instance, not all\n// better to keep other queues in localstorage to be flushed later\n// than to pull them into memory and remove them from durable storage\nObject.keys(validKeys).forEach(key=>{const value=this.get(validKeys[key]);const validKey=noCompoundKey?key:[name,id,key].join('.');inMemoryStorage.setItem(validKey,value);// TODO: are we sure we want to drop clientData\n//  if cookies are not available and localstorage is full?\nthis.remove(key);});this.engine=inMemoryStorage;}/**\n   * Set value by key.\n   */set(key,value){const validKey=this.createValidKey(key);if(!validKey){return;}try{// storejs that is used in localstorage engine already stringifies json\nthis.engine.setItem(validKey,this.encrypt(stringifyWithoutCircular(value,false,[],this.logger)));}catch(err){if(isStorageQuotaExceeded(err)){this.logger?.warn(STORAGE_QUOTA_EXCEEDED_WARNING(`Store ${this.id}`));// switch to inMemory engine\nthis.swapQueueStoreToInMemoryEngine();// and save it there\nthis.set(key,value);}else {this.onError(getMutatedError(err,STORE_DATA_SAVE_ERROR(key)));}}}/**\n   * Get by Key.\n   */get(key){const validKey=this.createValidKey(key);try{if(!validKey){return null;}const str=this.decrypt(this.engine.getItem(validKey));if(isNullOrUndefined(str)){return null;}// storejs that is used in localstorage engine already deserializes json strings but swallows errors\nreturn JSON.parse(str);}catch(err){this.onError(new Error(`${STORE_DATA_FETCH_ERROR(key)}: ${err.message}`));return null;}}/**\n   * Remove by Key.\n   */remove(key){const validKey=this.createValidKey(key);if(validKey){this.engine.removeItem(validKey);}}/**\n   * Get original engine\n   */getOriginalEngine(){return this.originalEngine;}/**\n   * Decrypt values\n   */decrypt(value){if(isNullOrUndefined(value)){return null;}return this.crypto(value,'decrypt');}/**\n   * Encrypt value\n   */encrypt(value){return this.crypto(value,'encrypt');}/**\n   * Extension point to use with encryption plugins\n   */crypto(value,mode){const noEncryption=!this.isEncrypted||!value||typeof value!=='string'||trim(value)==='';if(noEncryption){return value;}const extensionPointName=`storage.${mode}`;const formattedValue=this.pluginsManager?this.pluginsManager.invokeSingle(extensionPointName,value):value;return typeof formattedValue==='undefined'?value:formattedValue??'';}/**\n   * Handle errors\n   */onError(error){if(this.hasErrorHandler){this.errorHandler?.onError(error,`Store ${this.id}`);}else {throw error;}}}\n\nconst getStorageTypeFromPreConsentIfApplicable=(state,sessionKey)=>{let overriddenStorageType;if(state.consents.preConsent.value.enabled){switch(state.consents.preConsent.value.storage?.strategy){case'none':overriddenStorageType=NO_STORAGE;break;case'session':if(sessionKey!=='sessionInfo'){overriddenStorageType=NO_STORAGE;}break;case'anonymousId':if(sessionKey!=='anonymousId'){overriddenStorageType=NO_STORAGE;}break;}}return overriddenStorageType;};\n\n/**\n * A service to manage stores & available storage client configurations\n */class StoreManager{stores={};isInitialized=false;hasErrorHandler=false;constructor(pluginsManager,errorHandler,logger){this.errorHandler=errorHandler;this.logger=logger;this.hasErrorHandler=Boolean(this.errorHandler);this.pluginsManager=pluginsManager;this.onError=this.onError.bind(this);}/**\n   * Configure available storage client instances\n   */init(){if(this.isInitialized){return;}const loadOptions=state.loadOptions.value;const config={cookieStorageOptions:{samesite:loadOptions.sameSiteCookie,secure:loadOptions.secureCookie,domain:loadOptions.setCookieDomain,sameDomainCookiesOnly:loadOptions.sameDomainCookiesOnly,enabled:true},localStorageOptions:{enabled:true},inMemoryStorageOptions:{enabled:true},sessionStorageOptions:{enabled:true}};configureStorageEngines(removeUndefinedValues(mergeDeepRight(config.cookieStorageOptions??{},state.storage.cookie?.value??{})),removeUndefinedValues(config.localStorageOptions),removeUndefinedValues(config.inMemoryStorageOptions),removeUndefinedValues(config.sessionStorageOptions));this.initClientDataStores();this.isInitialized=true;}/**\n   * Create store to persist data used by the SDK like session, used details etc\n   */initClientDataStores(){this.initializeStorageState();// TODO: fill in extra config values and bring them in from StoreManagerOptions if needed\n// TODO: should we pass the keys for all in order to validate or leave free as v1.1?\n// Initializing all the enabled store because previous user data might be in different storage\n// that needs auto migration\nconst storageTypes=[MEMORY_STORAGE,LOCAL_STORAGE,COOKIE_STORAGE,SESSION_STORAGE];storageTypes.forEach(storageType=>{if(getStorageEngine(storageType)?.isEnabled){this.setStore({id:storageClientDataStoreNameMap[storageType],name:storageClientDataStoreNameMap[storageType],isEncrypted:true,noCompoundKey:true,type:storageType});}});}initializeStorageState(){let globalStorageType=state.storage.type.value;let entriesOptions=state.loadOptions.value.storage?.entries;// Use the storage options from post consent if anything is defined\nconst postConsentStorageOpts=state.consents.postConsent.value.storage;if(isDefined(postConsentStorageOpts?.type)||isDefined(postConsentStorageOpts?.entries)){globalStorageType=postConsentStorageOpts?.type;entriesOptions=postConsentStorageOpts?.entries;}let trulyAnonymousTracking=true;let storageEntries={};USER_SESSION_KEYS.forEach(sessionKey=>{const key=sessionKey;const storageKey=sessionKey;const configuredStorageType=entriesOptions?.[key]?.type;const preConsentStorageType=getStorageTypeFromPreConsentIfApplicable(state,sessionKey);// Storage type precedence order: pre-consent strategy > entry type > global type > default\nconst storageType=preConsentStorageType??configuredStorageType??globalStorageType??DEFAULT_STORAGE_TYPE;const finalStorageType=this.getResolvedStorageTypeForEntry(storageType,sessionKey);if(finalStorageType!==NO_STORAGE){trulyAnonymousTracking=false;}storageEntries={...storageEntries,[sessionKey]:{type:finalStorageType,key:COOKIE_KEYS[storageKey]}};});r(()=>{state.storage.type.value=globalStorageType;state.storage.entries.value=storageEntries;state.storage.trulyAnonymousTracking.value=trulyAnonymousTracking;});}getResolvedStorageTypeForEntry(storageType,sessionKey){let finalStorageType=storageType;switch(storageType){case LOCAL_STORAGE:if(!getStorageEngine(LOCAL_STORAGE)?.isEnabled){finalStorageType=MEMORY_STORAGE;}break;case SESSION_STORAGE:if(!getStorageEngine(SESSION_STORAGE)?.isEnabled){finalStorageType=MEMORY_STORAGE;}break;case MEMORY_STORAGE:case NO_STORAGE:break;case COOKIE_STORAGE:default:// First try setting the storage to cookie else to local storage\nif(getStorageEngine(COOKIE_STORAGE)?.isEnabled){finalStorageType=COOKIE_STORAGE;}else if(getStorageEngine(LOCAL_STORAGE)?.isEnabled){finalStorageType=LOCAL_STORAGE;}else if(getStorageEngine(SESSION_STORAGE)?.isEnabled){finalStorageType=SESSION_STORAGE;}else {finalStorageType=MEMORY_STORAGE;}break;}if(finalStorageType!==storageType){this.logger?.warn(STORAGE_UNAVAILABLE_WARNING(STORE_MANAGER,sessionKey,storageType,finalStorageType));}return finalStorageType;}/**\n   * Create a new store\n   */setStore(storeConfig){const storageEngine=getStorageEngine(storeConfig.type);this.stores[storeConfig.id]=new Store(storeConfig,storageEngine,this.pluginsManager);return this.stores[storeConfig.id];}/**\n   * Retrieve a store\n   */getStore(id){return this.stores[id];}/**\n   * Handle errors\n   */onError(error){if(this.hasErrorHandler){this.errorHandler?.onError(error,STORE_MANAGER);}else {throw error;}}}\n\nconst removeDuplicateSlashes=str=>str.replace(/\\/{2,}/g,'/');/**\n * Checks if provided url is valid or not\n * @param url\n * @returns true if `url` is valid and false otherwise\n */const isValidURL=url=>{if(!isString(url)){return false;}try{// If URL is supported by the browser, we can use it to validate the URL\n// Otherwise, we can at least check if the URL matches the pattern\nif(isFunction(globalThis.URL)){// eslint-disable-next-line no-new\nnew URL(url);}return URL_PATTERN.test(url);}catch(e){return false;}};\n\nconst validateWriteKey=writeKey=>{if(!isString(writeKey)||writeKey.trim().length===0){throw new Error(WRITE_KEY_VALIDATION_ERROR(writeKey));}};const validateDataPlaneUrl=dataPlaneUrl=>{if(!isValidURL(dataPlaneUrl)){throw new Error(DATA_PLANE_URL_VALIDATION_ERROR(dataPlaneUrl));}};const validateLoadArgs=(writeKey,dataPlaneUrl)=>{validateWriteKey(writeKey);validateDataPlaneUrl(dataPlaneUrl);};const isValidSourceConfig=res=>isObjectLiteralAndNotNull(res)&&isObjectLiteralAndNotNull(res.source)&&!isNullOrUndefined(res.source.id)&&isObjectLiteralAndNotNull(res.source.config)&&Array.isArray(res.source.destinations);const isValidStorageType=storageType=>typeof storageType==='string'&&SUPPORTED_STORAGE_TYPES.includes(storageType);const getTopDomainUrl=url=>{// Create a URL object\nconst urlObj=new URL(url);// Extract the host and protocol\nconst{host,protocol}=urlObj;// Split the host into parts\nconst parts=host.split('.');let topDomain;// Handle different cases, especially for co.uk or similar TLDs\nif(parts.length>2){// Join the last two parts for the top-level domain\ntopDomain=`${parts[parts.length-2]}.${parts[parts.length-1]}`;}else {// If only two parts or less, return as it is\ntopDomain=host;}return `${protocol}//${topDomain}`;};const getDataServiceUrl=endpoint=>{const url=getTopDomainUrl(window.location.href);const formattedEndpoint=endpoint.startsWith('/')?endpoint.substring(1):endpoint;return `${url}/${formattedEndpoint}`;};\n\n/**\n * A function to filter enabled destinations and map to required properties only\n * @param destinations\n *\n * @returns Destination[]\n */const filterEnabledDestination=destinations=>{const nativeDestinations=[];destinations.forEach(destination=>{if(destination.enabled&&!destination.deleted){nativeDestinations.push({id:destination.id,displayName:destination.destinationDefinition.displayName,config:destination.config,shouldApplyDeviceModeTransformation:destination.shouldApplyDeviceModeTransformation||false,propagateEventsUntransformedOnError:destination.propagateEventsUntransformedOnError||false,userFriendlyId:`${destination.destinationDefinition.displayName.replaceAll(' ','-')}___${destination.id}`});}});return nativeDestinations;};\n\n/**\n * Removes trailing slash from url\n * @param url\n * @returns url\n */const removeTrailingSlashes=url=>url?.endsWith('/')?removeTrailingSlashes(url.substring(0,url.length-1)):url;const getDomain=url=>{try{const urlObj=new URL(url);return urlObj.host;}catch(error){return null;}};/**\n * Get the referring domain from the referrer URL\n * @param referrer Page referrer\n * @returns Page referring domain\n */const getReferringDomain=referrer=>getDomain(referrer)??'';/**\n * Extracts UTM parameters from the URL\n * @param url Page URL\n * @returns UTM parameters\n */const extractUTMParameters=url=>{const result={};try{const urlObj=new URL(url);const UTM_PREFIX='utm_';urlObj.searchParams.forEach((value,sParam)=>{if(sParam.startsWith(UTM_PREFIX)){let utmParam=sParam.substring(UTM_PREFIX.length);// Not sure why we're doing this\nif(utmParam==='campaign'){utmParam='name';}result[utmParam]=value;}});}catch(error){// Do nothing\n}return result;};/**\n * To get the URL until the hash\n * @param url The input URL\n * @returns URL until the hash\n */const getUrlWithoutHash=url=>{let urlWithoutHash=url;try{const urlObj=new URL(url);urlWithoutHash=urlObj.origin+urlObj.pathname+urlObj.search;}catch(error){// Do nothing\n}return urlWithoutHash;};\n\n/**\n * Determines if the SDK is running inside a chrome extension\n * @returns boolean\n */const isSDKRunningInChromeExtension=()=>!!(window.chrome&&window.chrome.runtime&&window.chrome.runtime.id);\n\nconst DEFAULT_PRE_CONSENT_STORAGE_STRATEGY='none';const DEFAULT_PRE_CONSENT_EVENTS_DELIVERY_TYPE='immediate';\n\nconst isErrorReportingEnabled=sourceConfig=>sourceConfig?.statsCollection?.errors?.enabled===true;const getErrorReportingProviderNameFromConfig=sourceConfig=>sourceConfig?.statsCollection?.errors?.provider;const isMetricsReportingEnabled=sourceConfig=>sourceConfig?.statsCollection?.metrics?.enabled===true;\n\nconst DEFAULT_INTEGRATIONS_CONFIG={All:true};\n\n/**\n * Validates and normalizes the consent options provided by the user\n * @param options Consent options provided by the user\n * @returns Validated and normalized consent options\n */const getValidPostConsentOptions=options=>{const validOptions={sendPageEvent:false,trackConsent:false,discardPreConsentEvents:false};if(isObjectLiteralAndNotNull(options)){const clonedOptions=clone(options);validOptions.storage=clonedOptions.storage;if(isDefined(clonedOptions.integrations)){validOptions.integrations=isObjectLiteralAndNotNull(clonedOptions.integrations)?clonedOptions.integrations:DEFAULT_INTEGRATIONS_CONFIG;}validOptions.discardPreConsentEvents=clonedOptions.discardPreConsentEvents===true;validOptions.sendPageEvent=clonedOptions.sendPageEvent===true;validOptions.trackConsent=clonedOptions.trackConsent===true;if(isNonEmptyObject(clonedOptions.consentManagement)){// Override enabled value with the current state value\nvalidOptions.consentManagement=mergeDeepRight(clonedOptions.consentManagement,{enabled:state.consents.enabled.value});}}return validOptions;};/**\n * Validates if the input is a valid consents data\n * @param value Input consents data\n * @returns true if the input is a valid consents data else false\n */const isValidConsentsData=value=>isNonEmptyObject(value)||Array.isArray(value);/**\n * Retrieves the corresponding provider and plugin name of the selected consent manager from the supported consent managers\n * @param consentManagementOpts consent management options\n * @param logger logger instance\n * @returns Corresponding provider and plugin name of the selected consent manager from the supported consent managers\n */const getConsentManagerInfo=(consentManagementOpts,logger)=>{let{provider}=consentManagementOpts;const consentManagerPluginName=provider?ConsentManagersToPluginNameMap[provider]:undefined;if(provider&&!consentManagerPluginName){logger?.error(UNSUPPORTED_CONSENT_MANAGER_ERROR(CONFIG_MANAGER,provider,ConsentManagersToPluginNameMap));// Reset the provider value\nprovider=undefined;}return {provider,consentManagerPluginName};};/**\n * Validates and converts the consent management options into a normalized format\n * @param consentManagementOpts Consent management options provided by the user\n * @param logger logger instance\n * @returns An object containing the consent manager plugin name, initialized, enabled and consents data\n */const getConsentManagementData=(consentManagementOpts,logger)=>{let consentManagerPluginName;let allowedConsentIds=[];let deniedConsentIds=[];let initialized=false;let provider;let enabled=consentManagementOpts?.enabled===true;if(isNonEmptyObject(consentManagementOpts)&&enabled){// Get the corresponding plugin name of the selected consent manager from the supported consent managers\n({provider,consentManagerPluginName}=getConsentManagerInfo(consentManagementOpts,logger));if(isValidConsentsData(consentManagementOpts.allowedConsentIds)){allowedConsentIds=consentManagementOpts.allowedConsentIds;initialized=true;}if(isValidConsentsData(consentManagementOpts.deniedConsentIds)){deniedConsentIds=consentManagementOpts.deniedConsentIds;initialized=true;}}const consentsData={allowedConsentIds,deniedConsentIds};// Enable consent management only if consent manager is supported\nenabled=enabled&&Boolean(consentManagerPluginName);return {provider,consentManagerPluginName,initialized,enabled,consentsData};};\n\n/**\n * Determines the SDK URL\n * @returns sdkURL\n */const getSDKUrl=()=>{const scripts=document.getElementsByTagName('script');const sdkFileNameRegex=/(?:^|\\/)rsa(\\.min)?\\.js$/;// eslint-disable-next-line no-restricted-syntax\nfor(const script of scripts){const src=script.getAttribute('src');if(src&&sdkFileNameRegex.test(src)){return src;}}return undefined;};/**\n * Updates the reporting state variables from the source config data\n * @param res Source config\n * @param logger Logger instance\n */const updateReportingState=(res,logger)=>{state.reporting.isErrorReportingEnabled.value=isErrorReportingEnabled(res.source.config)&&!isSDKRunningInChromeExtension();state.reporting.isMetricsReportingEnabled.value=isMetricsReportingEnabled(res.source.config);if(state.reporting.isErrorReportingEnabled.value){const errReportingProvider=getErrorReportingProviderNameFromConfig(res.source.config);// Get the corresponding plugin name of the selected error reporting provider from the supported error reporting providers\nconst errReportingProviderPlugin=errReportingProvider?ErrorReportingProvidersToPluginNameMap[errReportingProvider]:undefined;if(!isUndefined(errReportingProvider)&&!errReportingProviderPlugin){// set the default error reporting provider\nlogger?.warn(UNSUPPORTED_ERROR_REPORTING_PROVIDER_WARNING(CONFIG_MANAGER,errReportingProvider,ErrorReportingProvidersToPluginNameMap,DEFAULT_ERROR_REPORTING_PROVIDER));}state.reporting.errorReportingProviderPluginName.value=errReportingProviderPlugin??ErrorReportingProvidersToPluginNameMap[DEFAULT_ERROR_REPORTING_PROVIDER];}};const updateStorageStateFromLoadOptions=logger=>{const{useServerSideCookies,dataServiceEndpoint,storage:storageOptsFromLoad}=state.loadOptions.value;let storageType=storageOptsFromLoad?.type;if(isDefined(storageType)&&!isValidStorageType(storageType)){logger?.warn(STORAGE_TYPE_VALIDATION_WARNING(CONFIG_MANAGER,storageType,DEFAULT_STORAGE_TYPE));storageType=DEFAULT_STORAGE_TYPE;}let storageEncryptionVersion=storageOptsFromLoad?.encryption?.version;const encryptionPluginName=storageEncryptionVersion&&StorageEncryptionVersionsToPluginNameMap[storageEncryptionVersion];if(!isUndefined(storageEncryptionVersion)&&isUndefined(encryptionPluginName)){// set the default encryption plugin\nlogger?.warn(UNSUPPORTED_STORAGE_ENCRYPTION_VERSION_WARNING(CONFIG_MANAGER,storageEncryptionVersion,StorageEncryptionVersionsToPluginNameMap,DEFAULT_STORAGE_ENCRYPTION_VERSION));storageEncryptionVersion=DEFAULT_STORAGE_ENCRYPTION_VERSION;}else if(isUndefined(storageEncryptionVersion)){storageEncryptionVersion=DEFAULT_STORAGE_ENCRYPTION_VERSION;}// Allow migration only if the configured encryption version is the default encryption version\nconst configuredMigrationValue=storageOptsFromLoad?.migrate;const finalMigrationVal=configuredMigrationValue&&storageEncryptionVersion===DEFAULT_STORAGE_ENCRYPTION_VERSION;if(configuredMigrationValue===true&&finalMigrationVal!==configuredMigrationValue){logger?.warn(STORAGE_DATA_MIGRATION_OVERRIDE_WARNING(CONFIG_MANAGER,storageEncryptionVersion,DEFAULT_STORAGE_ENCRYPTION_VERSION));}r(()=>{state.storage.type.value=storageType;let cookieOptions=storageOptsFromLoad?.cookie??{};if(useServerSideCookies){state.serverCookies.isEnabledServerSideCookies.value=useServerSideCookies;const dataServiceUrl=getDataServiceUrl(dataServiceEndpoint??DEFAULT_DATA_SERVICE_ENDPOINT);if(isValidURL(dataServiceUrl)){state.serverCookies.dataServiceUrl.value=removeTrailingSlashes(dataServiceUrl);const curHost=getDomain(window.location.href);const dataServiceHost=getDomain(dataServiceUrl);// If the current host is different from the data service host, then it is a cross-site request\n// For server-side cookies to work, we need to set the SameSite=None and Secure attributes\nif(curHost!==dataServiceHost){cookieOptions={...cookieOptions,samesite:'None',secure:true};}}else {state.serverCookies.isEnabledServerSideCookies.value=false;}}state.storage.cookie.value=cookieOptions;state.storage.encryptionPluginName.value=StorageEncryptionVersionsToPluginNameMap[storageEncryptionVersion];state.storage.migrate.value=finalMigrationVal;});};const updateConsentsStateFromLoadOptions=logger=>{const{provider,consentManagerPluginName,initialized,enabled,consentsData}=getConsentManagementData(state.loadOptions.value.consentManagement,logger);// Pre-consent\nconst preConsentOpts=state.loadOptions.value.preConsent;let storageStrategy=preConsentOpts?.storage?.strategy??DEFAULT_PRE_CONSENT_STORAGE_STRATEGY;const StorageStrategies=['none','session','anonymousId'];if(isDefined(storageStrategy)&&!StorageStrategies.includes(storageStrategy)){storageStrategy=DEFAULT_PRE_CONSENT_STORAGE_STRATEGY;logger?.warn(UNSUPPORTED_PRE_CONSENT_STORAGE_STRATEGY(CONFIG_MANAGER,preConsentOpts?.storage?.strategy,DEFAULT_PRE_CONSENT_STORAGE_STRATEGY));}let eventsDeliveryType=preConsentOpts?.events?.delivery??DEFAULT_PRE_CONSENT_EVENTS_DELIVERY_TYPE;const deliveryTypes=['immediate','buffer'];if(isDefined(eventsDeliveryType)&&!deliveryTypes.includes(eventsDeliveryType)){eventsDeliveryType=DEFAULT_PRE_CONSENT_EVENTS_DELIVERY_TYPE;logger?.warn(UNSUPPORTED_PRE_CONSENT_EVENTS_DELIVERY_TYPE(CONFIG_MANAGER,preConsentOpts?.events?.delivery,DEFAULT_PRE_CONSENT_EVENTS_DELIVERY_TYPE));}r(()=>{state.consents.activeConsentManagerPluginName.value=consentManagerPluginName;state.consents.initialized.value=initialized;state.consents.enabled.value=enabled;state.consents.data.value=consentsData;state.consents.provider.value=provider;state.consents.preConsent.value={// Only enable pre-consent if it is explicitly enabled and\n// if it is not already initialized and\n// if consent management is enabled\nenabled:state.loadOptions.value.preConsent?.enabled===true&&initialized===false&&enabled===true,storage:{strategy:storageStrategy},events:{delivery:eventsDeliveryType}};});};/**\n * Determines the consent management state variables from the source config data\n * @param resp Source config response\n * @param logger Logger instance\n */const updateConsentsState=resp=>{let resolutionStrategy=state.consents.resolutionStrategy.value;let cmpMetadata;if(isObjectLiteralAndNotNull(resp.consentManagementMetadata)){if(state.consents.provider.value){resolutionStrategy=resp.consentManagementMetadata.providers.find(p=>p.provider===state.consents.provider.value)?.resolutionStrategy??state.consents.resolutionStrategy.value;}cmpMetadata=resp.consentManagementMetadata;}// If the provider is custom, then the resolution strategy is not applicable\nif(state.consents.provider.value==='custom'){resolutionStrategy=undefined;}r(()=>{state.consents.metadata.value=clone(cmpMetadata);state.consents.resolutionStrategy.value=resolutionStrategy;});};const updateDataPlaneEventsStateFromLoadOptions=logger=>{if(state.dataPlaneEvents.deliveryEnabled.value){const defaultEventsQueuePluginName='XhrQueue';let eventsQueuePluginName=defaultEventsQueuePluginName;if(state.loadOptions.value.useBeacon){if(state.capabilities.isBeaconAvailable.value){eventsQueuePluginName='BeaconQueue';}else {eventsQueuePluginName=defaultEventsQueuePluginName;logger?.warn(UNSUPPORTED_BEACON_API_WARNING(CONFIG_MANAGER));}}r(()=>{state.dataPlaneEvents.eventsQueuePluginName.value=eventsQueuePluginName;});}};const getSourceConfigURL=(configUrl,writeKey,lockIntegrationsVersion,lockPluginsVersion,logger)=>{const defSearchParams=new URLSearchParams({p:MODULE_TYPE,v:APP_VERSION,build:BUILD_TYPE,writeKey,lockIntegrationsVersion:lockIntegrationsVersion.toString(),lockPluginsVersion:lockPluginsVersion.toString()});let origin=DEFAULT_CONFIG_BE_URL;let searchParams=defSearchParams;let pathname='/sourceConfig/';let hash='';if(isValidURL(configUrl)){const configUrlInstance=new URL(configUrl);if(!removeTrailingSlashes(configUrlInstance.pathname).endsWith('/sourceConfig')){configUrlInstance.pathname=`${removeTrailingSlashes(configUrlInstance.pathname)}/sourceConfig/`;}configUrlInstance.pathname=removeDuplicateSlashes(configUrlInstance.pathname);defSearchParams.forEach((value,key)=>{if(configUrlInstance.searchParams.get(key)===null){configUrlInstance.searchParams.set(key,value);}});origin=configUrlInstance.origin;pathname=configUrlInstance.pathname;searchParams=configUrlInstance.searchParams;hash=configUrlInstance.hash;}else {logger?.warn(INVALID_CONFIG_URL_WARNING(CONFIG_MANAGER,configUrl));}return `${origin}${pathname}?${searchParams}${hash}`;};\n\nconst getSDKComponentBaseURL=(componentType,pathSuffix,baseURL,currentVersion,lockVersion,customURL)=>{let sdkComponentURL='';if(customURL){if(!isValidURL(customURL)){throw new Error(COMPONENT_BASE_URL_ERROR(componentType));}return removeTrailingSlashes(customURL);}const sdkURL=getSDKUrl();sdkComponentURL=sdkURL?sdkURL.split('/').slice(0,-1).concat(pathSuffix).join('/'):baseURL;if(lockVersion){sdkComponentURL=sdkComponentURL.replace(`/${CDN_ARCH_VERSION_DIR}/${BUILD_TYPE}/${pathSuffix}`,`/${currentVersion}/${BUILD_TYPE}/${pathSuffix}`);}return sdkComponentURL;};/**\n * A function that determines integration SDK loading path\n * @param currentVersion\n * @param lockIntegrationsVersion\n * @param customIntegrationsCDNPath\n * @returns\n */const getIntegrationsCDNPath=(currentVersion,lockIntegrationsVersion,customIntegrationsCDNPath)=>getSDKComponentBaseURL('integrations',CDN_INT_DIR,DEST_SDK_BASE_URL,currentVersion,lockIntegrationsVersion,customIntegrationsCDNPath);/**\n * A function that determines plugins SDK loading path\n * @param currentVersion Current SDK version\n * @param lockPluginsVersion Flag to lock the plugins version\n * @param customPluginsCDNPath URL to load the plugins from\n * @returns Final plugins CDN path\n */const getPluginsCDNPath=(currentVersion,lockPluginsVersion,customPluginsCDNPath)=>getSDKComponentBaseURL('plugins',CDN_PLUGINS_DIR,PLUGINS_BASE_URL,currentVersion,lockPluginsVersion,customPluginsCDNPath);\n\nclass ConfigManager{hasErrorHandler=false;constructor(httpClient,errorHandler,logger){this.errorHandler=errorHandler;this.logger=logger;this.httpClient=httpClient;this.hasErrorHandler=Boolean(this.errorHandler);this.onError=this.onError.bind(this);this.processConfig=this.processConfig.bind(this);}attachEffects(){E(()=>{this.logger?.setMinLogLevel(state.lifecycle.logLevel.value);});}/**\n   * A function to validate, construct and store loadOption, lifecycle, source and destination\n   * config related information in global state\n   */init(){this.attachEffects();validateLoadArgs(state.lifecycle.writeKey.value,state.lifecycle.dataPlaneUrl.value);const{logLevel,configUrl,lockIntegrationsVersion,lockPluginsVersion,destSDKBaseURL,pluginsSDKBaseURL}=state.loadOptions.value;state.lifecycle.activeDataplaneUrl.value=removeTrailingSlashes(state.lifecycle.dataPlaneUrl.value);// determine the path to fetch integration SDK from\nconst intgCdnUrl=getIntegrationsCDNPath(APP_VERSION,lockIntegrationsVersion,destSDKBaseURL);// determine the path to fetch remote plugins from\nconst pluginsCDNPath=getPluginsCDNPath(APP_VERSION,lockPluginsVersion,pluginsSDKBaseURL);updateStorageStateFromLoadOptions(this.logger);updateConsentsStateFromLoadOptions(this.logger);updateDataPlaneEventsStateFromLoadOptions(this.logger);// set application lifecycle state in global state\nr(()=>{state.lifecycle.integrationsCDNPath.value=intgCdnUrl;state.lifecycle.pluginsCDNPath.value=pluginsCDNPath;if(logLevel){state.lifecycle.logLevel.value=logLevel;}state.lifecycle.sourceConfigUrl.value=getSourceConfigURL(configUrl,state.lifecycle.writeKey.value,lockIntegrationsVersion,lockPluginsVersion,this.logger);});this.getConfig();}/**\n   * Handle errors\n   */onError(error,customMessage,shouldAlwaysThrow){if(this.hasErrorHandler){this.errorHandler?.onError(error,CONFIG_MANAGER,customMessage,shouldAlwaysThrow);}else {throw error;}}/**\n   * A callback function that is executed once we fetch the source config response.\n   * Use to construct and store information that are dependent on the sourceConfig.\n   */processConfig(response,details){// TODO: add retry logic with backoff based on rejectionDetails.xhr.status\n// We can use isErrRetryable utility method\nif(!response){this.onError(SOURCE_CONFIG_FETCH_ERROR(details?.error));return;}let res;try{if(isString(response)){res=JSON.parse(response);}else {res=response;}}catch(err){this.onError(err,SOURCE_CONFIG_RESOLUTION_ERROR,true);return;}if(!isValidSourceConfig(res)){this.onError(new Error(SOURCE_CONFIG_RESOLUTION_ERROR),undefined,true);return;}// Log error and abort if source is disabled\nif(res.source.enabled===false){this.logger?.error(SOURCE_DISABLED_ERROR);return;}// set the values in state for reporting slice\nupdateReportingState(res,this.logger);const nativeDestinations=res.source.destinations.length>0?filterEnabledDestination(res.source.destinations):[];// set in the state --> source, destination, lifecycle, reporting\nr(()=>{// set source related information in state\nstate.source.value={config:res.source.config,id:res.source.id,workspaceId:res.source.workspaceId};// set device mode destination related information in state\nstate.nativeDestinations.configuredDestinations.value=nativeDestinations;// set the desired optional plugins\nstate.plugins.pluginsToLoadFromConfig.value=state.loadOptions.value.plugins??[];updateConsentsState(res);// set application lifecycle state\nstate.lifecycle.status.value='configured';});}/**\n   * A function to fetch source config either from /sourceConfig endpoint\n   * or from getSourceConfig load option\n   * @returns\n   */getConfig(){const sourceConfigFunc=state.loadOptions.value.getSourceConfig;if(sourceConfigFunc){if(!isFunction(sourceConfigFunc)){throw new Error(SOURCE_CONFIG_OPTION_ERROR);}// Fetch source config from the function\nconst res=sourceConfigFunc();if(res instanceof Promise){res.then(pRes=>this.processConfig(pRes)).catch(err=>{this.onError(err,'SourceConfig');});}else {this.processConfig(res);}}else {// Fetch source configuration from the configured URL\nthis.httpClient.getAsyncData({url:state.lifecycle.sourceConfigUrl.value,options:{headers:{'Content-Type':undefined}},callback:this.processConfig});}}}\n\n/**\n * To get the timezone of the user\n *\n * @returns string\n */const getTimezone=()=>{const timezone=new Date().toString().match(/([A-Z]+[+-]\\d+)/);return timezone&&timezone[1]?timezone[1]:'NA';};\n\n/**\n * Get the referrer URL\n * @returns The referrer URL\n */const getReferrer=()=>document?.referrer||'$direct';/**\n * To get the canonical URL of the page\n * @returns canonical URL\n */const getCanonicalUrl=()=>{const tags=document.getElementsByTagName('link');let canonicalUrl='';for(let i=0;tags[i];i+=1){const tag=tags[i];if(tag.getAttribute('rel')==='canonical'&&!canonicalUrl){canonicalUrl=tag.getAttribute('href')??'';break;}}return canonicalUrl;};const getUserAgent=()=>{if(isUndefined(globalThis.navigator)){return null;}let{userAgent}=globalThis.navigator;const{brave}=globalThis.navigator;// For supporting Brave browser detection,\n// add \"Brave/<version>\" to the user agent with the version value from the Chrome component\nif(brave&&Object.getPrototypeOf(brave).isBrave){// Example:\n// Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.5060.114 Safari/537.36\nconst matchedArr=userAgent.match(/(chrome)\\/([\\w.]+)/i);if(matchedArr){userAgent=`${userAgent} Brave/${matchedArr[2]}`;}}return userAgent;};const getLanguage=()=>{if(isUndefined(globalThis.navigator)){return null;}return globalThis.navigator.language??globalThis.navigator.browserLanguage;};/**\n * Default page properties\n * @returns Default page properties\n */const getDefaultPageProperties=()=>{const canonicalUrl=getCanonicalUrl();let path=globalThis.location.pathname;const{href:tabUrl}=globalThis.location;let pageUrl=tabUrl;const{search}=globalThis.location;// If valid canonical URL is provided use this as page URL.\nif(canonicalUrl){try{const urlObj=new URL(canonicalUrl);// If existing, query params of canonical URL will be used instead of the location.search ones\nif(urlObj.search===''){pageUrl=canonicalUrl+search;}else {pageUrl=canonicalUrl;}path=urlObj.pathname;}catch(err){// Do nothing\n}}const url=getUrlWithoutHash(pageUrl);const{title}=document;const referrer=getReferrer();return {path,referrer,referring_domain:getReferringDomain(referrer),search,title,url,tab_url:tabUrl};};\n\nconst POLYFILL_URL=`https://polyfill-fastly.io/v3/polyfill.min.js?version=3.111.0&features=${Object.keys(legacyJSEngineRequiredPolyfills).join('%2C')}`;const POLYFILL_LOAD_TIMEOUT=10*1000;// 10 seconds\nconst POLYFILL_SCRIPT_ID='rudderstackPolyfill';\n\nclass CapabilitiesManager{constructor(errorHandler,logger){this.logger=logger;this.errorHandler=errorHandler;this.externalSrcLoader=new ExternalSrcLoader(this.errorHandler,this.logger);this.onError=this.onError.bind(this);this.onReady=this.onReady.bind(this);}init(){try{this.prepareBrowserCapabilities();this.attachWindowListeners();}catch(err){this.onError(err);}}/**\n   * Detect supported capabilities and set values in state\n   */ // eslint-disable-next-line class-methods-use-this\ndetectBrowserCapabilities(){r(()=>{// Storage related details\nstate.capabilities.storage.isCookieStorageAvailable.value=isStorageAvailable(COOKIE_STORAGE,getStorageEngine(COOKIE_STORAGE),this.logger);state.capabilities.storage.isLocalStorageAvailable.value=isStorageAvailable(LOCAL_STORAGE,undefined,this.logger);state.capabilities.storage.isSessionStorageAvailable.value=isStorageAvailable(SESSION_STORAGE,undefined,this.logger);// Browser feature detection details\nstate.capabilities.isBeaconAvailable.value=hasBeacon();state.capabilities.isUaCHAvailable.value=hasUAClientHints();state.capabilities.isCryptoAvailable.value=hasCrypto$1();state.capabilities.isIE11.value=isIE11();state.capabilities.isOnline.value=globalThis.navigator.onLine;// Get page context details\nstate.context.userAgent.value=getUserAgent();state.context.locale.value=getLanguage();state.context.screen.value=getScreenDetails();state.context.timezone.value=getTimezone();if(hasUAClientHints()){getUserAgentClientHint(uach=>{state.context['ua-ch'].value=uach;},state.loadOptions.value.uaChTrackLevel);}});// Ad blocker detection\nE(()=>{if(state.loadOptions.value.sendAdblockPage===true&&state.lifecycle.sourceConfigUrl.value!==undefined){detectAdBlockers(this.errorHandler,this.logger);}});}/**\n   * Detect if polyfills are required and then load script from polyfill URL\n   */prepareBrowserCapabilities(){state.capabilities.isLegacyDOM.value=isLegacyJSEngine();const customPolyfillUrl=state.loadOptions.value.polyfillURL;let polyfillUrl=POLYFILL_URL;if(isDefinedAndNotNull(customPolyfillUrl)){if(isValidURL(customPolyfillUrl)){polyfillUrl=customPolyfillUrl;}else {this.logger?.warn(INVALID_POLYFILL_URL_WARNING(CAPABILITIES_MANAGER,customPolyfillUrl));}}const shouldLoadPolyfill=state.loadOptions.value.polyfillIfRequired&&state.capabilities.isLegacyDOM.value&&isValidURL(polyfillUrl);if(shouldLoadPolyfill){const isDefaultPolyfillService=polyfillUrl!==state.loadOptions.value.polyfillURL;if(isDefaultPolyfillService){// write key specific callback\n// NOTE: we're not putting this into RudderStackGlobals as providing the property path to the callback function in the polyfill URL is not possible\nconst polyfillCallbackName=`RS_polyfillCallback_${state.lifecycle.writeKey.value}`;const polyfillCallback=()=>{this.onReady();// Remove the entry from window so we don't leave room for calling it again\ndelete globalThis[polyfillCallbackName];};globalThis[polyfillCallbackName]=polyfillCallback;polyfillUrl=`${polyfillUrl}&callback=${polyfillCallbackName}`;}this.externalSrcLoader.loadJSFile({url:polyfillUrl,id:POLYFILL_SCRIPT_ID,async:true,timeout:POLYFILL_LOAD_TIMEOUT,callback:scriptId=>{if(!scriptId){this.onError(new Error(POLYFILL_SCRIPT_LOAD_ERROR(POLYFILL_SCRIPT_ID,polyfillUrl)));}else if(!isDefaultPolyfillService){this.onReady();}}});}else {this.onReady();}}/**\n   * Attach listeners to window to observe event that update capabilities state values\n   */attachWindowListeners(){globalThis.addEventListener('offline',()=>{state.capabilities.isOnline.value=false;});globalThis.addEventListener('online',()=>{state.capabilities.isOnline.value=true;});globalThis.addEventListener('resize',debounce(()=>{state.context.screen.value=getScreenDetails();},this));}/**\n   * Set the lifecycle status to next phase\n   */ // eslint-disable-next-line class-methods-use-this\nonReady(){this.detectBrowserCapabilities();state.lifecycle.status.value='browserCapabilitiesReady';}/**\n   * Handles error\n   * @param error The error object\n   */onError(error){if(this.errorHandler){this.errorHandler.onError(error,CAPABILITIES_MANAGER);}else {throw error;}}}\n\nfunction random(len){return crypto.getRandomValues(new Uint8Array(len));}\n\nvar SIZE=4096,HEX$1=[],IDX$1=0,BUFFER$1;for(;IDX$1<256;IDX$1++){HEX$1[IDX$1]=(IDX$1+256).toString(16).substring(1);}function v4$1(){if(!BUFFER$1||IDX$1+16>SIZE){BUFFER$1=random(SIZE);IDX$1=0;}var i=0,tmp,out='';for(;i<16;i++){tmp=BUFFER$1[IDX$1+i];if(i==6)out+=HEX$1[tmp&15|64];else if(i==8)out+=HEX$1[tmp&63|128];else out+=HEX$1[tmp];if(i&1&&i>1&&i<11)out+='-';}IDX$1+=16;return out;}\n\nvar IDX=256,HEX=[],BUFFER;while(IDX--)HEX[IDX]=(IDX+256).toString(16).substring(1);function v4(){var i=0,num,out='';if(!BUFFER||IDX+16>256){BUFFER=Array(i=256);while(i--)BUFFER[i]=256*Math.random()|0;i=IDX=0;}for(;i<16;i++){num=BUFFER[IDX+i];if(i==6)out+=HEX[num&15|64];else if(i==8)out+=HEX[num&63|128];else out+=HEX[num];if(i&1&&i>1&&i<11)out+='-';}IDX++;return out;}\n\nconst hasCrypto=()=>!isNullOrUndefined(globalThis.crypto)&&isFunction(globalThis.crypto.getRandomValues);\n\nconst generateUUID=()=>{if(hasCrypto()){return v4$1();}return v4();};\n\n/**\n * To get the current timestamp in ISO string format\n * @returns ISO formatted timestamp string\n */const getCurrentTimeFormatted=()=>{const curDateTime=new Date().toISOString();return curDateTime;};\n\nconst CHANNEL='web';// These are the top-level elements in the standard RudderStack event spec\nconst TOP_LEVEL_ELEMENTS=['integrations','anonymousId','originalTimestamp'];// Reserved elements in the context of standard RudderStack event spec\n// Typically, these elements are not allowed to be overridden by the user\nconst CONTEXT_RESERVED_ELEMENTS=['library','consentManagement','userAgent','ua-ch','screen'];// Reserved elements in the standard RudderStack event spec\nconst RESERVED_ELEMENTS=['id','anonymous_id','user_id','sent_at','timestamp','received_at','original_timestamp','event','event_text','channel','context_ip','context_request_ip','context_passed_ip','group_id','previous_id'];\n\n/**\n * A function to check given value is a number or not\n * @param num input value\n * @returns boolean\n */const isNumber=num=>typeof num==='number'&&!Number.isNaN(num);/**\n * A function to check given number has minimum length or not\n * @param minimumLength     minimum length\n * @param num               input number\n * @returns boolean\n */const hasMinLength=(minimumLength,num)=>num.toString().length>=minimumLength;/**\n * A function to check given value is a positive integer or not\n * @param num input value\n * @returns boolean\n */const isPositiveInteger=num=>isNumber(num)&&num>=0&&Number.isInteger(num);\n\nconst MIN_SESSION_ID_LENGTH=10;/**\n * A function to validate current session and return true/false depending on that\n * @returns boolean\n */const hasSessionExpired=expiresAt=>{const timestamp=Date.now();return Boolean(!expiresAt||timestamp>expiresAt);};/**\n * A function to generate session id\n * @returns number\n */const generateSessionId=()=>Date.now();/**\n * Function to validate user provided sessionId\n * @param {number} sessionId\n * @param logger logger\n * @returns\n */const isManualSessionIdValid=(sessionId,logger)=>{if(!sessionId||!isPositiveInteger(sessionId)||!hasMinLength(MIN_SESSION_ID_LENGTH,sessionId)){logger?.warn(INVALID_SESSION_ID_WARNING(USER_SESSION_MANAGER,sessionId,MIN_SESSION_ID_LENGTH));return false;}return true;};/**\n * A function to generate new auto tracking session\n * @param sessionTimeout current timestamp\n * @returns SessionInfo\n */const generateAutoTrackingSession=sessionTimeout=>{const timestamp=Date.now();const timeout=sessionTimeout||DEFAULT_SESSION_TIMEOUT_MS;return {id:timestamp,// set the current timestamp\nexpiresAt:timestamp+timeout,// set the expiry time of the session\ntimeout,sessionStart:undefined,autoTrack:true};};/**\n * A function to generate new manual tracking session\n * @param id Provided sessionId\n * @param logger Logger module\n * @returns SessionInfo\n */const generateManualTrackingSession=(id,logger)=>{const sessionId=isManualSessionIdValid(id,logger)?id:generateSessionId();return {id:sessionId,sessionStart:undefined,manualTrack:true};};const isStorageTypeValidForStoringData=storageType=>Boolean(storageType===COOKIE_STORAGE||storageType===LOCAL_STORAGE||storageType===SESSION_STORAGE||storageType===MEMORY_STORAGE);/**\n * Generate a new anonymousId\n * @returns string anonymousID\n */const generateAnonymousId=()=>generateUUID();\n\n/**\n * To get the page properties for context object\n * @param pageProps Page properties\n * @returns page properties object for context\n */const getContextPageProperties=pageProps=>{// Need to get updated page details on each event as an event to notify on SPA URL changes does not seem to exist\nconst curPageProps=getDefaultPageProperties();const ctxPageProps={};Object.keys(curPageProps).forEach(key=>{ctxPageProps[key]=pageProps?.[key]||curPageProps[key];});ctxPageProps.initial_referrer=pageProps?.initial_referrer||state.session.initialReferrer.value;ctxPageProps.initial_referring_domain=pageProps?.initial_referring_domain||state.session.initialReferringDomain.value;return ctxPageProps;};/**\n * Add any missing default page properties using values from options and defaults\n * @param properties Input page properties\n * @param options API options\n */const getUpdatedPageProperties=(properties,options)=>{const optionsPageProps=options?.page||{};const pageProps=properties;// Need to get updated page details on each event as an event to notify on SPA URL changes does not seem to exist\nconst curPageProps=getDefaultPageProperties();Object.keys(curPageProps).forEach(key=>{if(isUndefined(pageProps[key])){pageProps[key]=optionsPageProps[key]||curPageProps[key];}});if(isUndefined(pageProps.initial_referrer)){pageProps.initial_referrer=optionsPageProps.initial_referrer||state.session.initialReferrer.value;}if(isUndefined(pageProps.initial_referring_domain)){pageProps.initial_referring_domain=optionsPageProps.initial_referring_domain||state.session.initialReferringDomain.value;}return pageProps;};/**\n * Utility to check for reserved keys in the input object\n * @param obj Generic object\n * @param parentKeyPath Object's parent key path\n * @param logger Logger instance\n */const checkForReservedElementsInObject=(obj,parentKeyPath,logger)=>{if(isObjectLiteralAndNotNull(obj)){Object.keys(obj).forEach(property=>{if(RESERVED_ELEMENTS.includes(property)||RESERVED_ELEMENTS.includes(property.toLowerCase())){logger?.warn(RESERVED_KEYWORD_WARNING(EVENT_MANAGER,property,parentKeyPath,RESERVED_ELEMENTS));}});}};/**\n * Checks for reserved keys in traits, properties, and contextual traits\n * @param rudderEvent Generated rudder event\n * @param logger Logger instance\n */const checkForReservedElements=(rudderEvent,logger)=>{//  properties, traits, contextualTraits are either undefined or object\nconst{properties,traits,context}=rudderEvent;const{traits:contextualTraits}=context;checkForReservedElementsInObject(properties,'properties',logger);checkForReservedElementsInObject(traits,'traits',logger);checkForReservedElementsInObject(contextualTraits,'context.traits',logger);};/**\n * Overrides the top-level event properties with data from API options\n * @param rudderEvent Generated rudder event\n * @param options API options\n */const updateTopLevelEventElements=(rudderEvent,options)=>{if(options.anonymousId&&isString(options.anonymousId)){// eslint-disable-next-line no-param-reassign\nrudderEvent.anonymousId=options.anonymousId;}if(isObjectLiteralAndNotNull(options.integrations)){// eslint-disable-next-line no-param-reassign\nrudderEvent.integrations=options.integrations;}if(options.originalTimestamp&&isString(options.originalTimestamp)){// eslint-disable-next-line no-param-reassign\nrudderEvent.originalTimestamp=options.originalTimestamp;}};/**\n * To merge the contextual information in API options with existing data\n * @param rudderContext Generated rudder event\n * @param options API options\n * @param logger Logger instance\n */const getMergedContext=(rudderContext,options,logger)=>{let context=rudderContext;Object.keys(options).forEach(key=>{if(!TOP_LEVEL_ELEMENTS.includes(key)&&!CONTEXT_RESERVED_ELEMENTS.includes(key)){if(key!=='context'){context=mergeDeepRight(context,{[key]:options[key]});}else if(!isUndefined(options[key])&&isObjectLiteralAndNotNull(options[key])){const tempContext={};Object.keys(options[key]).forEach(e=>{if(!CONTEXT_RESERVED_ELEMENTS.includes(e)){tempContext[e]=options[key][e];}});context=mergeDeepRight(context,{...tempContext});}else;}});return context;};/**\n * A function to determine whether SDK should use the integration option provided in load call\n * @returns boolean\n */const shouldUseGlobalIntegrationsConfigInEvents=()=>state.loadOptions.value.useGlobalIntegrationsConfigInEvents&&(isObjectLiteralAndNotNull(state.consents.postConsent.value?.integrations)||isObjectLiteralAndNotNull(state.nativeDestinations.loadOnlyIntegrations.value));/**\n * Updates rudder event object with data from the API options\n * @param rudderEvent Generated rudder event\n * @param options API options\n */const processOptions=(rudderEvent,options)=>{// Only allow object type for options\nif(isObjectLiteralAndNotNull(options)){updateTopLevelEventElements(rudderEvent,options);// eslint-disable-next-line no-param-reassign\nrudderEvent.context=getMergedContext(rudderEvent.context,options);}};/**\n * Returns the final integrations config for the event based on the global config and event's config\n * @param integrationsConfig Event's integrations config\n * @returns Final integrations config\n */const getEventIntegrationsConfig=integrationsConfig=>{let finalIntgConfig;if(shouldUseGlobalIntegrationsConfigInEvents()){finalIntgConfig=clone(state.consents.postConsent.value?.integrations??state.nativeDestinations.loadOnlyIntegrations.value);}else if(isObjectLiteralAndNotNull(integrationsConfig)){finalIntgConfig=integrationsConfig;}else {finalIntgConfig=DEFAULT_INTEGRATIONS_CONFIG;}return finalIntgConfig;};/**\n * Enrich the base event object with data from state and the API options\n * @param rudderEvent RudderEvent object\n * @param options API options\n * @param pageProps Page properties\n * @param logger logger\n * @returns Enriched RudderEvent object\n */const getEnrichedEvent=(rudderEvent,options,pageProps,logger)=>{const commonEventData={channel:CHANNEL,context:{traits:clone(state.session.userTraits.value),sessionId:state.session.sessionInfo.value.id||undefined,sessionStart:state.session.sessionInfo.value.sessionStart||undefined,// Add 'consentManagement' only if consent management is enabled\n...(state.consents.enabled.value&&{consentManagement:{deniedConsentIds:clone(state.consents.data.value.deniedConsentIds),allowedConsentIds:clone(state.consents.data.value.allowedConsentIds),provider:state.consents.provider.value,resolutionStrategy:state.consents.resolutionStrategy.value}}),'ua-ch':state.context['ua-ch'].value,app:state.context.app.value,library:state.context.library.value,userAgent:state.context.userAgent.value,os:state.context.os.value,locale:state.context.locale.value,screen:state.context.screen.value,campaign:extractUTMParameters(globalThis.location.href),page:getContextPageProperties(pageProps),timezone:state.context.timezone.value},originalTimestamp:getCurrentTimeFormatted(),integrations:DEFAULT_INTEGRATIONS_CONFIG,messageId:generateUUID(),userId:rudderEvent.userId||state.session.userId.value};if(!isStorageTypeValidForStoringData(state.storage.entries.value.anonymousId?.type)){// Generate new anonymous id for each request\ncommonEventData.anonymousId=generateAnonymousId();}else {// Type casting to string as the user session manager will take care of initializing the value\ncommonEventData.anonymousId=state.session.anonymousId.value;}// set truly anonymous tracking flag\nif(state.storage.trulyAnonymousTracking.value){commonEventData.context.trulyAnonymousTracking=true;}if(rudderEvent.type==='identify'){commonEventData.context.traits=state.storage.entries.value.userTraits?.type!==NO_STORAGE?clone(state.session.userTraits.value):rudderEvent.context.traits;}if(rudderEvent.type==='group'){if(rudderEvent.groupId||state.session.groupId.value){commonEventData.groupId=rudderEvent.groupId||state.session.groupId.value;}if(rudderEvent.traits||state.session.groupTraits.value){commonEventData.traits=state.storage.entries.value.groupTraits?.type!==NO_STORAGE?clone(state.session.groupTraits.value):rudderEvent.traits;}}const processedEvent=mergeDeepRight(rudderEvent,commonEventData);// Set the default values for the event properties\n// matching with v1.1 payload\nif(processedEvent.event===undefined){processedEvent.event=null;}if(processedEvent.properties===undefined){processedEvent.properties=null;}processOptions(processedEvent,options);checkForReservedElements(processedEvent,logger);// Update the integrations config for the event\nprocessedEvent.integrations=getEventIntegrationsConfig(processedEvent.integrations);return processedEvent;};\n\nclass RudderEventFactory{constructor(logger){this.logger=logger;}/**\n   * Generate a 'page' event based on the user-input fields\n   * @param category Page's category\n   * @param name Page name\n   * @param properties Page properties\n   * @param options API options\n   */generatePageEvent(category,name,properties,options){let props=properties??{};props.name=name;props.category=category;props=getUpdatedPageProperties(props,options);const pageEvent={properties:props,name,category,type:'page'};return getEnrichedEvent(pageEvent,options,props,this.logger);}/**\n   * Generate a 'track' event based on the user-input fields\n   * @param event The event name\n   * @param properties Event properties\n   * @param options API options\n   */generateTrackEvent(event,properties,options){const trackEvent={properties,event,type:'track'};return getEnrichedEvent(trackEvent,options,undefined,this.logger);}/**\n   * Generate an 'identify' event based on the user-input fields\n   * @param userId New user ID\n   * @param traits new traits\n   * @param options API options\n   */generateIdentifyEvent(userId,traits,options){const identifyEvent={userId,type:'identify',context:{traits}};return getEnrichedEvent(identifyEvent,options,undefined,this.logger);}/**\n   * Generate an 'alias' event based on the user-input fields\n   * @param to New user ID\n   * @param from Old user ID\n   * @param options API options\n   */generateAliasEvent(to,from,options){const aliasEvent={previousId:from,type:'alias'};const enrichedEvent=getEnrichedEvent(aliasEvent,options,undefined,this.logger);// override the User ID from the API inputs\nenrichedEvent.userId=to??enrichedEvent.userId;return enrichedEvent;}/**\n   * Generate a 'group' event based on the user-input fields\n   * @param groupId New group ID\n   * @param traits new group traits\n   * @param options API options\n   */generateGroupEvent(groupId,traits,options){const groupEvent={type:'group'};if(groupId){groupEvent.groupId=groupId;}if(traits){groupEvent.traits=traits;}return getEnrichedEvent(groupEvent,options,undefined,this.logger);}/**\n   * Generates a new RudderEvent object based on the user-input fields\n   * @param event API event parameters object\n   * @returns A RudderEvent object\n   */create(event){let eventObj;switch(event.type){case'page':eventObj=this.generatePageEvent(event.category,event.name,event.properties,event.options);break;case'track':eventObj=this.generateTrackEvent(event.name,event.properties,event.options);break;case'identify':eventObj=this.generateIdentifyEvent(event.userId,event.traits,event.options);break;case'alias':eventObj=this.generateAliasEvent(event.to,event.from,event.options);break;case'group':eventObj=this.generateGroupEvent(event.groupId,event.traits,event.options);break;}return eventObj;}}\n\n/**\n * A service to generate valid event payloads and queue them for processing\n */class EventManager{/**\n   *\n   * @param eventRepository Event repository instance\n   * @param userSessionManager UserSession Manager instance\n   * @param errorHandler Error handler object\n   * @param logger Logger object\n   */constructor(eventRepository,userSessionManager,errorHandler,logger){this.eventRepository=eventRepository;this.userSessionManager=userSessionManager;this.errorHandler=errorHandler;this.logger=logger;this.eventFactory=new RudderEventFactory(this.logger);this.onError=this.onError.bind(this);}/**\n   * Initializes the event manager\n   */init(){this.eventRepository.init();}resume(){this.eventRepository.resume();}/**\n   * Consumes a new incoming event\n   * @param event Incoming event data\n   */addEvent(event){this.userSessionManager.refreshSession();const rudderEvent=this.eventFactory.create(event);if(rudderEvent){this.eventRepository.enqueue(rudderEvent,event.callback);}else {this.onError(new Error(EVENT_OBJECT_GENERATION_ERROR));}}/**\n   * Handles error\n   * @param error The error object\n   */onError(error,customMessage,shouldAlwaysThrow){if(this.errorHandler){this.errorHandler.onError(error,EVENT_MANAGER,customMessage,shouldAlwaysThrow);}else {throw error;}}}\n\nclass UserSessionManager{constructor(errorHandler,logger,pluginsManager,storeManager,httpClient){this.storeManager=storeManager;this.pluginsManager=pluginsManager;this.logger=logger;this.errorHandler=errorHandler;this.httpClient=httpClient;this.onError=this.onError.bind(this);this.serverSideCookieDebounceFuncs={};}/**\n   * Initialize User session with values from storage\n   */init(){this.syncStorageDataToState();// Register the effect to sync with storage\nthis.registerEffects();}syncStorageDataToState(){this.migrateStorageIfNeeded();this.migrateDataFromPreviousStorage();// get the values from storage and set it again\nthis.setUserId(this.getUserId());this.setUserTraits(this.getUserTraits());this.setGroupId(this.getGroupId());this.setGroupTraits(this.getGroupTraits());const{externalAnonymousIdCookieName,anonymousIdOptions}=state.loadOptions.value;let externalAnonymousId;if(isDefinedAndNotNull(externalAnonymousIdCookieName)&&typeof externalAnonymousIdCookieName==='string'){externalAnonymousId=this.getExternalAnonymousIdByCookieName(externalAnonymousIdCookieName);}this.setAnonymousId(externalAnonymousId??this.getAnonymousId(anonymousIdOptions));this.setAuthToken(this.getAuthToken());this.setInitialReferrerInfo();this.configureSessionTracking();}configureSessionTracking(){let sessionInfo=this.getSessionInfo();if(this.isPersistenceEnabledForStorageEntry('sessionInfo')){const configuredSessionTrackingInfo=this.getConfiguredSessionTrackingInfo();const initialSessionInfo=sessionInfo??defaultSessionConfiguration;sessionInfo={...initialSessionInfo,...configuredSessionTrackingInfo,autoTrack:configuredSessionTrackingInfo.autoTrack&&initialSessionInfo.manualTrack!==true};}state.session.sessionInfo.value=this.isPersistenceEnabledForStorageEntry('sessionInfo')?sessionInfo:DEFAULT_USER_SESSION_VALUES.sessionInfo;// If auto session tracking is enabled start the session tracking\nif(state.session.sessionInfo.value.autoTrack){this.startOrRenewAutoTracking(state.session.sessionInfo.value);}}setInitialReferrerInfo(){const persistedInitialReferrer=this.getInitialReferrer();const persistedInitialReferringDomain=this.getInitialReferringDomain();if(persistedInitialReferrer&&persistedInitialReferringDomain){this.setInitialReferrer(persistedInitialReferrer);this.setInitialReferringDomain(persistedInitialReferringDomain);}else {const initialReferrer=persistedInitialReferrer||getReferrer();this.setInitialReferrer(initialReferrer);this.setInitialReferringDomain(getReferringDomain(initialReferrer));}}isPersistenceEnabledForStorageEntry(entryName){return isStorageTypeValidForStoringData(state.storage.entries.value[entryName]?.type);}migrateDataFromPreviousStorage(){const entries=state.storage.entries.value;const storageTypesForMigration=[COOKIE_STORAGE,LOCAL_STORAGE,SESSION_STORAGE];Object.keys(entries).forEach(entry=>{const key=entry;const currentStorage=entries[key]?.type;const curStore=this.storeManager?.getStore(storageClientDataStoreNameMap[currentStorage]);if(curStore){storageTypesForMigration.forEach(storage=>{const store=this.storeManager?.getStore(storageClientDataStoreNameMap[storage]);if(store&&storage!==currentStorage){const value=store.get(COOKIE_KEYS[key]);if(isDefinedNotNullAndNotEmptyString(value)){curStore.set(COOKIE_KEYS[key],value);}store.remove(COOKIE_KEYS[key]);}});}});}migrateStorageIfNeeded(){if(!state.storage.migrate.value){return;}const persistentStoreNames=[CLIENT_DATA_STORE_COOKIE,CLIENT_DATA_STORE_LS,CLIENT_DATA_STORE_SESSION];const stores=[];persistentStoreNames.forEach(storeName=>{const store=this.storeManager?.getStore(storeName);if(store){stores.push(store);}});Object.keys(COOKIE_KEYS).forEach(storageKey=>{const storageEntry=COOKIE_KEYS[storageKey];stores.forEach(store=>{const migratedVal=this.pluginsManager?.invokeSingle('storage.migrate',storageEntry,store.engine,this.errorHandler,this.logger);// Skip setting the value if it is null or undefined\n// as those values indicate there is no need for migration or\n// migration failed\nif(!isNullOrUndefined(migratedVal)){store.set(storageEntry,migratedVal);}});});}getConfiguredSessionTrackingInfo(){let autoTrack=state.loadOptions.value.sessions?.autoTrack!==false;// Do not validate any further if autoTrack is disabled\nif(!autoTrack){return {autoTrack};}let timeout;const configuredSessionTimeout=state.loadOptions.value.sessions?.timeout;if(!isPositiveInteger(configuredSessionTimeout)){this.logger?.warn(TIMEOUT_NOT_NUMBER_WARNING(USER_SESSION_MANAGER,configuredSessionTimeout,DEFAULT_SESSION_TIMEOUT_MS));timeout=DEFAULT_SESSION_TIMEOUT_MS;}else {timeout=configuredSessionTimeout;}if(timeout===0){this.logger?.warn(TIMEOUT_ZERO_WARNING(USER_SESSION_MANAGER));autoTrack=false;}// In case user provides a timeout value greater than 0 but less than 10 seconds SDK will show a warning\n// and will proceed with it\nif(timeout>0&&timeout<MIN_SESSION_TIMEOUT_MS){this.logger?.warn(TIMEOUT_NOT_RECOMMENDED_WARNING(USER_SESSION_MANAGER,timeout,MIN_SESSION_TIMEOUT_MS));}return {timeout,autoTrack};}/**\n   * Handles error\n   * @param error The error object\n   */onError(error,customMessage){if(this.errorHandler){this.errorHandler.onError(error,USER_SESSION_MANAGER,customMessage);}else {throw error;}}/**\n   * A function to encrypt the cookie value and return the encrypted data\n   * @param cookiesData\n   * @param store\n   * @returns\n   */getEncryptedCookieData(cookiesData,store){const encryptedCookieData=[];cookiesData.forEach(cData=>{const encryptedValue=store?.encrypt(stringifyWithoutCircular(cData.value,false,[],this.logger));if(isDefinedAndNotNull(encryptedValue)){encryptedCookieData.push({name:cData.name,value:encryptedValue});}});return encryptedCookieData;}/**\n   * A function that makes request to data service to set the cookie\n   * @param encryptedCookieData\n   * @param callback\n   */makeRequestToSetCookie(encryptedCookieData,callback){this.httpClient?.getAsyncData({url:state.serverCookies.dataServiceUrl.value,options:{method:'POST',data:stringifyWithoutCircular({reqType:'setCookies',workspaceId:state.source.value?.workspaceId,data:{options:{maxAge:state.storage.cookie.value?.maxage,path:state.storage.cookie.value?.path,domain:state.storage.cookie.value?.domain,sameSite:state.storage.cookie.value?.samesite,secure:state.storage.cookie.value?.secure,expires:state.storage.cookie.value?.expires},cookies:encryptedCookieData}}),sendRawData:true,withCredentials:true},isRawResponse:true,callback});}/**\n   * A function to make an external request to set the cookie from server side\n   * @param key       cookie name\n   * @param value     encrypted cookie value\n   */setServerSideCookies(cookiesData,cb,store){try{// encrypt cookies values\nconst encryptedCookieData=this.getEncryptedCookieData(cookiesData,store);if(encryptedCookieData.length>0){// make request to data service to set the cookie from server side\nthis.makeRequestToSetCookie(encryptedCookieData,(res,details)=>{if(details?.xhr?.status===200){cookiesData.forEach(cData=>{const cookieValue=store?.get(cData.name);const before=stringifyWithoutCircular(cData.value,false,[]);const after=stringifyWithoutCircular(cookieValue,false,[]);if(after!==before){this.logger?.error(FAILED_SETTING_COOKIE_FROM_SERVER_ERROR(cData.name));if(cb){cb(cData.name,cData.value);}}});}else {this.logger?.error(DATA_SERVER_REQUEST_FAIL_ERROR(details?.xhr?.status));cookiesData.forEach(each=>{if(cb){cb(each.name,each.value);}});}});}}catch(e){this.onError(e,FAILED_SETTING_COOKIE_FROM_SERVER_GLOBAL_ERROR);cookiesData.forEach(each=>{if(cb){cb(each.name,each.value);}});}}/**\n   * A function to sync values in storage\n   * @param sessionKey\n   * @param value\n   */syncValueToStorage(sessionKey,value){const entries=state.storage.entries.value;const storageType=entries[sessionKey]?.type;if(isStorageTypeValidForStoringData(storageType)){const curStore=this.storeManager?.getStore(storageClientDataStoreNameMap[storageType]);const key=entries[sessionKey]?.key;if(value&&(isString(value)||isNonEmptyObject(value))){// if useServerSideCookies load option is set to true\n// set the cookie from server side\nif(state.serverCookies.isEnabledServerSideCookies.value&&storageType===COOKIE_STORAGE){if(this.serverSideCookieDebounceFuncs[sessionKey]){globalThis.clearTimeout(this.serverSideCookieDebounceFuncs[sessionKey]);}this.serverSideCookieDebounceFuncs[sessionKey]=globalThis.setTimeout(()=>{this.setServerSideCookies([{name:key,value}],(cookieName,cookieValue)=>{curStore?.set(cookieName,cookieValue);},curStore);},SERVER_SIDE_COOKIES_DEBOUNCE_TIME);}else {curStore?.set(key,value);}}else {curStore?.remove(key);}}}/**\n   * Function to update storage whenever state value changes\n   */registerEffects(){// This will work as long as the user session entry key names are same as the state keys\nUSER_SESSION_KEYS.forEach(sessionKey=>{E(()=>{this.syncValueToStorage(sessionKey,state.session[sessionKey].value);});});}/**\n   * Sets anonymous id in the following precedence:\n   *\n   * 1. anonymousId: Id directly provided to the function.\n   * 2. rudderAmpLinkerParam: value generated from linker query parm (rudderstack)\n   *    using parseLinker util.\n   * 3. generateUUID: A new unique id is generated and assigned.\n   */setAnonymousId(anonymousId,rudderAmpLinkerParam){let finalAnonymousId=anonymousId;if(this.isPersistenceEnabledForStorageEntry('anonymousId')){if(!finalAnonymousId&&rudderAmpLinkerParam){const linkerPluginsResult=this.pluginsManager?.invokeSingle('userSession.anonymousIdGoogleLinker',rudderAmpLinkerParam);finalAnonymousId=linkerPluginsResult;}finalAnonymousId=finalAnonymousId||generateAnonymousId();}else {finalAnonymousId=DEFAULT_USER_SESSION_VALUES.anonymousId;}state.session.anonymousId.value=finalAnonymousId;}/**\n   * Fetches anonymousId\n   * @param options option to fetch it from external source\n   * @returns anonymousId\n   */getAnonymousId(options){const storage=state.storage.entries.value.anonymousId?.type;// fetch the anonymousId from storage\nif(isStorageTypeValidForStoringData(storage)){let persistedAnonymousId=this.getEntryValue('anonymousId');if(!persistedAnonymousId&&options){// fetch anonymousId from external source\nconst autoCapturedAnonymousId=this.pluginsManager?.invokeSingle('storage.getAnonymousId',getStorageEngine,options);persistedAnonymousId=autoCapturedAnonymousId;}state.session.anonymousId.value=persistedAnonymousId||generateAnonymousId();}return state.session.anonymousId.value;}getEntryValue(sessionKey){const entries=state.storage.entries.value;const storageType=entries[sessionKey]?.type;if(isStorageTypeValidForStoringData(storageType)){const store=this.storeManager?.getStore(storageClientDataStoreNameMap[storageType]);const storageKey=entries[sessionKey]?.key;return store?.get(storageKey)??null;}return null;}getExternalAnonymousIdByCookieName(key){const storageEngine=getStorageEngine(COOKIE_STORAGE);if(storageEngine?.isEnabled){return storageEngine.getItem(key)??null;}return null;}/**\n   * Fetches User Id\n   * @returns\n   */getUserId(){return this.getEntryValue('userId');}/**\n   * Fetches User Traits\n   * @returns\n   */getUserTraits(){return this.getEntryValue('userTraits');}/**\n   * Fetches Group Id\n   * @returns\n   */getGroupId(){return this.getEntryValue('groupId');}/**\n   * Fetches Group Traits\n   * @returns\n   */getGroupTraits(){return this.getEntryValue('groupTraits');}/**\n   * Fetches Initial Referrer\n   * @returns\n   */getInitialReferrer(){return this.getEntryValue('initialReferrer');}/**\n   * Fetches Initial Referring domain\n   * @returns\n   */getInitialReferringDomain(){return this.getEntryValue('initialReferringDomain');}/**\n   * Fetches session tracking information from storage\n   * @returns\n   */getSessionInfo(){return this.getEntryValue('sessionInfo');}/**\n   * Fetches auth token from storage\n   * @returns\n   */getAuthToken(){return this.getEntryValue('authToken');}/**\n   * If session is active it returns the sessionId\n   * @returns\n   */getSessionId(){const sessionInfo=this.getSessionInfo()??DEFAULT_USER_SESSION_VALUES.sessionInfo;if(sessionInfo.autoTrack&&!hasSessionExpired(sessionInfo.expiresAt)||sessionInfo.manualTrack){return sessionInfo.id??null;}return null;}/**\n   * A function to keep the session information up to date in the state\n   * before using it for building event payloads.\n   */refreshSession(){let sessionInfo=this.getSessionInfo()??DEFAULT_USER_SESSION_VALUES.sessionInfo;if(sessionInfo.autoTrack||sessionInfo.manualTrack){if(sessionInfo.autoTrack){this.startOrRenewAutoTracking(sessionInfo);sessionInfo=state.session.sessionInfo.value;}// Note that if sessionStart is false, then it's an active session.\n// So, we needn't update the session info.\n//\n// For other scenarios,\n// 1. If sessionStart is undefined, then it's a new session.\n//   Mark it as sessionStart.\n// 2. If sessionStart is true, then need to flip it for the future events.\nif(sessionInfo.sessionStart===undefined){sessionInfo={...sessionInfo,sessionStart:true};}else if(sessionInfo.sessionStart){sessionInfo={...sessionInfo,sessionStart:false};}}// Always write to state (in-turn to storage) to keep the session info up to date.\nstate.session.sessionInfo.value=sessionInfo;if(state.lifecycle.status.value!=='readyExecuted'){// Force update the storage as the 'effect' blocks are not getting triggered\n// when processing preload buffered requests\nthis.syncValueToStorage('sessionInfo',sessionInfo);}}/**\n   * Reset state values\n   * @param resetAnonymousId\n   * @param noNewSessionStart\n   * @returns\n   */reset(resetAnonymousId,noNewSessionStart){const{session}=state;const{manualTrack,autoTrack}=session.sessionInfo.value;r(()=>{session.userId.value=DEFAULT_USER_SESSION_VALUES.userId;session.userTraits.value=DEFAULT_USER_SESSION_VALUES.userTraits;session.groupId.value=DEFAULT_USER_SESSION_VALUES.groupId;session.groupTraits.value=DEFAULT_USER_SESSION_VALUES.groupTraits;session.authToken.value=DEFAULT_USER_SESSION_VALUES.authToken;if(resetAnonymousId){// This will generate a new anonymous ID\nthis.setAnonymousId();}if(noNewSessionStart){return;}if(autoTrack){session.sessionInfo.value=DEFAULT_USER_SESSION_VALUES.sessionInfo;this.startOrRenewAutoTracking(session.sessionInfo.value);}else if(manualTrack){this.startManualTrackingInternal();}});}/**\n   * Set user Id\n   * @param userId\n   */setUserId(userId){state.session.userId.value=this.isPersistenceEnabledForStorageEntry('userId')&&userId?userId:DEFAULT_USER_SESSION_VALUES.userId;}/**\n   * Set user traits\n   * @param traits\n   */setUserTraits(traits){state.session.userTraits.value=this.isPersistenceEnabledForStorageEntry('userTraits')&&traits?mergeDeepRight(state.session.userTraits.value??DEFAULT_USER_SESSION_VALUES.userTraits,traits):DEFAULT_USER_SESSION_VALUES.userTraits;}/**\n   * Set group Id\n   * @param groupId\n   */setGroupId(groupId){state.session.groupId.value=this.isPersistenceEnabledForStorageEntry('groupId')&&groupId?groupId:DEFAULT_USER_SESSION_VALUES.groupId;}/**\n   * Set group traits\n   * @param traits\n   */setGroupTraits(traits){state.session.groupTraits.value=this.isPersistenceEnabledForStorageEntry('groupTraits')&&traits?mergeDeepRight(state.session.groupTraits.value??DEFAULT_USER_SESSION_VALUES.groupTraits,traits):DEFAULT_USER_SESSION_VALUES.groupTraits;}/**\n   * Set initial referrer\n   * @param referrer\n   */setInitialReferrer(referrer){state.session.initialReferrer.value=this.isPersistenceEnabledForStorageEntry('initialReferrer')&&referrer?referrer:DEFAULT_USER_SESSION_VALUES.initialReferrer;}/**\n   * Set initial referring domain\n   * @param {String} referringDomain\n   */setInitialReferringDomain(referringDomain){state.session.initialReferringDomain.value=this.isPersistenceEnabledForStorageEntry('initialReferringDomain')&&referringDomain?referringDomain:DEFAULT_USER_SESSION_VALUES.initialReferringDomain;}/**\n   * A function to check for existing session details and depending on that create a new session\n   */startOrRenewAutoTracking(sessionInfo){if(hasSessionExpired(sessionInfo.expiresAt)){state.session.sessionInfo.value=generateAutoTrackingSession(sessionInfo.timeout);}else {const timestamp=Date.now();const timeout=sessionInfo.timeout;state.session.sessionInfo.value=mergeDeepRight(sessionInfo,{expiresAt:timestamp+timeout// set the expiry time of the session\n});}}/**\n   * A function method to start a manual session\n   * @param {number} id     session identifier\n   * @returns\n   */start(id){state.session.sessionInfo.value=generateManualTrackingSession(id,this.logger);}/**\n   * An internal function to start manual session\n   */startManualTrackingInternal(){this.start(Date.now());}/**\n   * A public method to end an ongoing session.\n   */end(){state.session.sessionInfo.value=DEFAULT_USER_SESSION_VALUES.sessionInfo;}/**\n   * Set auth token\n   * @param userId\n   */setAuthToken(token){state.session.authToken.value=this.isPersistenceEnabledForStorageEntry('authToken')&&token?token:DEFAULT_USER_SESSION_VALUES.authToken;}}\n\n/**\n * Plugins to be loaded in the plugins loadOption is not defined\n */const defaultOptionalPluginsList=['BeaconQueue','Bugsnag','CustomConsentManager','DeviceModeDestinations','DeviceModeTransformation','ErrorReporting','ExternalAnonymousId','GoogleLinker','KetchConsentManager','NativeDestinationQueue','OneTrustConsentManager','StorageEncryption','StorageEncryptionLegacy','StorageMigrator','XhrQueue'];\n\nconst normalizeLoadOptions=(loadOptionsFromState,loadOptions)=>{// TODO: Maybe add warnings for invalid values\nconst normalizedLoadOpts=clone(loadOptions);if(!isString(normalizedLoadOpts.setCookieDomain)){delete normalizedLoadOpts.setCookieDomain;}const cookieSameSiteValues=['Strict','Lax','None'];if(!cookieSameSiteValues.includes(normalizedLoadOpts.sameSiteCookie)){delete normalizedLoadOpts.sameSiteCookie;}normalizedLoadOpts.secureCookie=normalizedLoadOpts.secureCookie===true;const uaChTrackLevels=['none','default','full'];if(!uaChTrackLevels.includes(normalizedLoadOpts.uaChTrackLevel)){delete normalizedLoadOpts.uaChTrackLevel;}if(!isObjectLiteralAndNotNull(normalizedLoadOpts.integrations)){delete normalizedLoadOpts.integrations;}normalizedLoadOpts.plugins=normalizedLoadOpts.plugins??defaultOptionalPluginsList;normalizedLoadOpts.useGlobalIntegrationsConfigInEvents=normalizedLoadOpts.useGlobalIntegrationsConfigInEvents===true;normalizedLoadOpts.bufferDataPlaneEventsUntilReady=normalizedLoadOpts.bufferDataPlaneEventsUntilReady===true;normalizedLoadOpts.sendAdblockPage=normalizedLoadOpts.sendAdblockPage===true;normalizedLoadOpts.useServerSideCookies=normalizedLoadOpts.useServerSideCookies===true;if(normalizedLoadOpts.dataServiceEndpoint&&typeof normalizedLoadOpts.dataServiceEndpoint!=='string'){delete normalizedLoadOpts.dataServiceEndpoint;}if(!isObjectLiteralAndNotNull(normalizedLoadOpts.sendAdblockPageOptions)){delete normalizedLoadOpts.sendAdblockPageOptions;}if(!isDefined(normalizedLoadOpts.loadIntegration)){delete normalizedLoadOpts.loadIntegration;}else {normalizedLoadOpts.loadIntegration=normalizedLoadOpts.loadIntegration===true;}if(!isObjectLiteralAndNotNull(normalizedLoadOpts.storage)){delete normalizedLoadOpts.storage;}else {normalizedLoadOpts.storage=removeUndefinedAndNullValues(normalizedLoadOpts.storage);normalizedLoadOpts.storage.migrate=normalizedLoadOpts.storage?.migrate===true;}if(!isObjectLiteralAndNotNull(normalizedLoadOpts.beaconQueueOptions)){delete normalizedLoadOpts.beaconQueueOptions;}else {normalizedLoadOpts.beaconQueueOptions=removeUndefinedAndNullValues(normalizedLoadOpts.beaconQueueOptions);}if(!isObjectLiteralAndNotNull(normalizedLoadOpts.destinationsQueueOptions)){delete normalizedLoadOpts.destinationsQueueOptions;}else {normalizedLoadOpts.destinationsQueueOptions=removeUndefinedAndNullValues(normalizedLoadOpts.destinationsQueueOptions);}if(!isObjectLiteralAndNotNull(normalizedLoadOpts.queueOptions)){delete normalizedLoadOpts.queueOptions;}else {normalizedLoadOpts.queueOptions=removeUndefinedAndNullValues(normalizedLoadOpts.queueOptions);}normalizedLoadOpts.lockIntegrationsVersion=normalizedLoadOpts.lockIntegrationsVersion===true;normalizedLoadOpts.lockPluginsVersion=normalizedLoadOpts.lockPluginsVersion===true;if(!isNumber(normalizedLoadOpts.dataPlaneEventsBufferTimeout)){delete normalizedLoadOpts.dataPlaneEventsBufferTimeout;}if(!isObjectLiteralAndNotNull(normalizedLoadOpts.storage?.cookie)){delete normalizedLoadOpts.storage?.cookie;}else {normalizedLoadOpts.storage.cookie=removeUndefinedAndNullValues(normalizedLoadOpts.storage?.cookie);}if(!isObjectLiteralAndNotNull(normalizedLoadOpts.preConsent)){delete normalizedLoadOpts.preConsent;}else {normalizedLoadOpts.preConsent=removeUndefinedAndNullValues(normalizedLoadOpts.preConsent);}const mergedLoadOptions=mergeDeepRight(loadOptionsFromState,normalizedLoadOpts);return mergedLoadOptions;};\n\nconst DATA_PLANE_QUEUE_EXT_POINT_PREFIX='dataplaneEventsQueue';const DESTINATIONS_QUEUE_EXT_POINT_PREFIX='destinationsEventsQueue';const DMT_EXT_POINT_PREFIX='transformEvent';\n\n/**\n * Filters and returns the user supplied integrations config that should take preference over the destination specific integrations config\n * @param eventIntgConfig User supplied integrations config at event level\n * @param destinationsIntgConfig Cumulative integrations config from all destinations\n * @returns Filtered user supplied integrations config\n */const getOverriddenIntegrationOptions=(eventIntgConfig,destinationsIntgConfig)=>Object.keys(eventIntgConfig).filter(intgName=>eventIntgConfig[intgName]!==true||!destinationsIntgConfig[intgName]).reduce((obj,key)=>{const retVal=clone(obj);retVal[key]=eventIntgConfig[key];return retVal;},{});/**\n * Returns the event object with final integrations config\n * @param event RudderEvent object\n * @param state Application state\n * @returns Mutated event with final integrations config\n */const getFinalEvent=(event,state)=>{const finalEvent=clone(event);// Merge the destination specific integrations config with the event's integrations config\n// In general, the preference is given to the event's integrations config\nconst eventIntgConfig=event.integrations??DEFAULT_INTEGRATIONS_CONFIG;const destinationsIntgConfig=state.nativeDestinations.integrationsConfig.value;const overriddenIntgOpts=getOverriddenIntegrationOptions(eventIntgConfig,destinationsIntgConfig);finalEvent.integrations=mergeDeepRight(destinationsIntgConfig,overriddenIntgOpts);return finalEvent;};const shouldBufferEventsForPreConsent=state=>state.consents.preConsent.value.enabled&&state.consents.preConsent.value.events?.delivery==='buffer'&&(state.consents.preConsent.value.storage?.strategy==='session'||state.consents.preConsent.value.storage?.strategy==='none');\n\n/**\n * Event repository class responsible for queuing events for further processing and delivery\n */class EventRepository{/**\n   *\n   * @param pluginsManager Plugins manager instance\n   * @param storeManager Store Manager instance\n   * @param errorHandler Error handler object\n   * @param logger Logger object\n   */constructor(pluginsManager,storeManager,errorHandler,logger){this.pluginsManager=pluginsManager;this.errorHandler=errorHandler;this.logger=logger;this.httpClient=new HttpClient(errorHandler,logger);this.storeManager=storeManager;this.onError=this.onError.bind(this);}/**\n   * Initializes the event repository\n   */init(){try{this.dataplaneEventsQueue=this.pluginsManager.invokeSingle(`${DATA_PLANE_QUEUE_EXT_POINT_PREFIX}.init`,state,this.httpClient,this.storeManager,this.errorHandler,this.logger);}catch(e){this.onError(e,DATAPLANE_PLUGIN_INITIALIZE_ERROR);}try{this.dmtEventsQueue=this.pluginsManager.invokeSingle(`${DMT_EXT_POINT_PREFIX}.init`,state,this.pluginsManager,this.httpClient,this.storeManager,this.errorHandler,this.logger);}catch(e){this.onError(e,DMT_PLUGIN_INITIALIZE_ERROR);}try{this.destinationsEventsQueue=this.pluginsManager.invokeSingle(`${DESTINATIONS_QUEUE_EXT_POINT_PREFIX}.init`,state,this.pluginsManager,this.storeManager,this.dmtEventsQueue,this.errorHandler,this.logger);}catch(e){this.onError(e,NATIVE_DEST_PLUGIN_INITIALIZE_ERROR);}// Start the queue once the client destinations are ready\nE(()=>{if(state.nativeDestinations.clientDestinationsReady.value===true){this.destinationsEventsQueue?.start();this.dmtEventsQueue?.start();}});const bufferEventsBeforeConsent=shouldBufferEventsForPreConsent(state);// Start the queue processing only when the destinations are ready or hybrid mode destinations exist\n// However, events will be enqueued for now.\n// At the time of processing the events, the integrations config data from destinations\n// is merged into the event object\nlet timeoutId;E(()=>{const shouldBufferDpEvents=state.loadOptions.value.bufferDataPlaneEventsUntilReady===true&&state.nativeDestinations.clientDestinationsReady.value===false;const hybridDestExist=state.nativeDestinations.activeDestinations.value.some(dest=>isHybridModeDestination(dest));if((hybridDestExist===false||shouldBufferDpEvents===false)&&!bufferEventsBeforeConsent&&this.dataplaneEventsQueue?.scheduleTimeoutActive!==true){globalThis.clearTimeout(timeoutId);this.dataplaneEventsQueue?.start();}});// Force start the data plane events queue processing after a timeout\nif(state.loadOptions.value.bufferDataPlaneEventsUntilReady===true){timeoutId=globalThis.setTimeout(()=>{if(this.dataplaneEventsQueue?.scheduleTimeoutActive!==true){this.dataplaneEventsQueue?.start();}},state.loadOptions.value.dataPlaneEventsBufferTimeout);}}resume(){if(this.dataplaneEventsQueue?.scheduleTimeoutActive!==true){if(state.consents.postConsent.value.discardPreConsentEvents){this.dataplaneEventsQueue?.clear();this.destinationsEventsQueue?.clear();}this.dataplaneEventsQueue?.start();}}/**\n   * Enqueues the event for processing\n   * @param event RudderEvent object\n   * @param callback API callback function\n   */enqueue(event,callback){let dpQEvent;try{dpQEvent=getFinalEvent(event,state);this.pluginsManager.invokeSingle(`${DATA_PLANE_QUEUE_EXT_POINT_PREFIX}.enqueue`,state,this.dataplaneEventsQueue,dpQEvent,this.errorHandler,this.logger);}catch(e){this.onError(e,DATAPLANE_PLUGIN_ENQUEUE_ERROR);}try{const dQEvent=clone(event);this.pluginsManager.invokeSingle(`${DESTINATIONS_QUEUE_EXT_POINT_PREFIX}.enqueue`,state,this.destinationsEventsQueue,dQEvent,this.errorHandler,this.logger);}catch(e){this.onError(e,NATIVE_DEST_PLUGIN_ENQUEUE_ERROR);}// Invoke the callback if it exists\ntry{// Using the event sent to the data plane queue here\n// to ensure the mutated (if any) event is sent to the callback\ncallback?.(dpQEvent);}catch(error){this.onError(error,API_CALLBACK_INVOKE_ERROR);}}/**\n   * Handles error\n   * @param error The error object\n   * @param customMessage a message\n   * @param shouldAlwaysThrow if it should throw or use logger\n   */onError(error,customMessage,shouldAlwaysThrow){if(this.errorHandler){this.errorHandler.onError(error,EVENT_REPOSITORY,customMessage,shouldAlwaysThrow);}else {throw error;}}}\n\nconst dispatchSDKEvent=event=>{const customEvent=new CustomEvent(event,{detail:{analyticsInstance:globalThis.rudderanalytics},bubbles:true,cancelable:true,composed:true});globalThis.document.dispatchEvent(customEvent);};\n\n/*\n * Analytics class with lifecycle based on state ad user triggered events\n */class Analytics{/**\n   * Initialize services and components or use default ones if singletons\n   */constructor(){this.preloadBuffer=new BufferQueue();this.initialized=false;this.errorHandler=defaultErrorHandler;this.logger=defaultLogger;this.externalSrcLoader=new ExternalSrcLoader(this.errorHandler,this.logger);this.capabilitiesManager=new CapabilitiesManager(this.errorHandler,this.logger);this.httpClient=defaultHttpClient;}/**\n   * Start application lifecycle if not already started\n   */load(writeKey,dataPlaneUrl,loadOptions={}){if(state.lifecycle.status.value){return;}let clonedDataPlaneUrl=clone(dataPlaneUrl);let clonedLoadOptions=clone(loadOptions);// dataPlaneUrl is not provided\nif(isObjectAndNotNull(dataPlaneUrl)){clonedLoadOptions=dataPlaneUrl;clonedDataPlaneUrl=undefined;}// Set initial state values\nr(()=>{state.lifecycle.writeKey.value=writeKey;state.lifecycle.dataPlaneUrl.value=clonedDataPlaneUrl;state.loadOptions.value=normalizeLoadOptions(state.loadOptions.value,clonedLoadOptions);state.lifecycle.status.value='mounted';});// set log level as early as possible\nif(state.loadOptions.value.logLevel){this.logger?.setMinLogLevel(state.loadOptions.value.logLevel);}// Expose state to global objects\nsetExposedGlobal('state',state,writeKey);// Configure initial config of any services or components here\n// State application lifecycle\nthis.startLifecycle();}// Start lifecycle methods\n/**\n   * Orchestrate the lifecycle of the application phases/status\n   */startLifecycle(){E(()=>{try{switch(state.lifecycle.status.value){case'mounted':this.onMounted();break;case'browserCapabilitiesReady':this.onBrowserCapabilitiesReady();break;case'configured':this.onConfigured();break;case'pluginsLoading':break;case'pluginsReady':this.onPluginsReady();break;case'initialized':this.onInitialized();break;case'loaded':this.onLoaded();break;case'destinationsLoading':break;case'destinationsReady':this.onDestinationsReady();break;case'ready':this.onReady();break;case'readyExecuted':default:break;}}catch(err){const issue='Failed to load the SDK';this.errorHandler.onError(getMutatedError(err,issue),ANALYTICS_CORE);}});}onBrowserCapabilitiesReady(){// initialize the preloaded events enqueuing\nretrievePreloadBufferEvents(this);this.prepareInternalServices();this.loadConfig();}onLoaded(){this.processBufferedEvents();// Short-circuit the life cycle and move to the ready state if pre-consent behavior is enabled\nif(state.consents.preConsent.value.enabled===true){state.lifecycle.status.value='ready';}else {this.loadDestinations();}}/**\n   * Load browser polyfill if required\n   */onMounted(){this.capabilitiesManager.init();}/**\n   * Enqueue in SDK preload buffer events, used from preloadBuffer component\n   */enqueuePreloadBufferEvents(bufferedEvents){if(Array.isArray(bufferedEvents)){bufferedEvents.forEach(bufferedEvent=>this.preloadBuffer.enqueue(clone(bufferedEvent)));}}/**\n   * Process the buffer preloaded events by passing their arguments to the respective facade methods\n   */processDataInPreloadBuffer(){while(this.preloadBuffer.size()>0){const eventToProcess=this.preloadBuffer.dequeue();if(eventToProcess){consumePreloadBufferedEvent([...eventToProcess],this);}}}prepareInternalServices(){this.pluginsManager=new PluginsManager(defaultPluginEngine,this.errorHandler,this.logger);this.storeManager=new StoreManager(this.pluginsManager,this.errorHandler,this.logger);this.configManager=new ConfigManager(this.httpClient,this.errorHandler,this.logger);this.userSessionManager=new UserSessionManager(this.errorHandler,this.logger,this.pluginsManager,this.storeManager,this.httpClient);this.eventRepository=new EventRepository(this.pluginsManager,this.storeManager,this.errorHandler,this.logger);this.eventManager=new EventManager(this.eventRepository,this.userSessionManager,this.errorHandler,this.logger);}/**\n   * Load configuration\n   */loadConfig(){if(state.lifecycle.writeKey.value){this.httpClient.setAuthHeader(state.lifecycle.writeKey.value);}this.configManager?.init();}/**\n   * Initialize the storage and event queue\n   */onPluginsReady(){this.errorHandler.init(this.externalSrcLoader);// Initialize storage\nthis.storeManager?.init();this.userSessionManager?.init();// Initialize the appropriate consent manager plugin\nif(state.consents.enabled.value&&!state.consents.initialized.value){this.pluginsManager?.invokeSingle(`consentManager.init`,state,this.logger);if(state.consents.preConsent.value.enabled===false){this.pluginsManager?.invokeSingle(`consentManager.updateConsentsInfo`,state,this.storeManager,this.logger);}}// Initialize event manager\nthis.eventManager?.init();// Mark the SDK as initialized\nstate.lifecycle.status.value='initialized';}/**\n   * Load plugins\n   */onConfigured(){this.pluginsManager?.init();// TODO: are we going to enable custom plugins to be passed as load options?\n// registerCustomPlugins(state.loadOptions.value.customPlugins);\n}/**\n   * Trigger onLoaded callback if any is provided in config & emit initialised event\n   */onInitialized(){// Process any preloaded events\nthis.processDataInPreloadBuffer();// TODO: we need to avoid passing the window object to the callback function\n// as this will prevent us from supporting multiple SDK instances in the same page\n// Execute onLoaded callback if provided in load options\nif(isFunction(state.loadOptions.value.onLoaded)){state.loadOptions.value.onLoaded(globalThis.rudderanalytics);}// Set lifecycle state\nr(()=>{state.lifecycle.loaded.value=true;state.lifecycle.status.value='loaded';});this.initialized=true;// Emit an event to use as substitute to the onLoaded callback\ndispatchSDKEvent('RSA_Initialised');}/**\n   * Emit ready event\n   */ // eslint-disable-next-line class-methods-use-this\nonReady(){state.lifecycle.status.value='readyExecuted';state.eventBuffer.readyCallbacksArray.value.forEach(callback=>{try{callback();}catch(err){this.errorHandler.onError(err,ANALYTICS_CORE,READY_CALLBACK_INVOKE_ERROR);}});// Emit an event to use as substitute to the ready callback\ndispatchSDKEvent('RSA_Ready');}/**\n   * Consume preloaded events buffer\n   */processBufferedEvents(){// This logic has been intentionally implemented without a simple\n// for-loop as the individual events that are processed may\n// add more events to the buffer (this is needed for the consent API)\nlet bufferedEvents=state.eventBuffer.toBeProcessedArray.value;while(bufferedEvents.length>0){const bufferedEvent=bufferedEvents.shift();state.eventBuffer.toBeProcessedArray.value=bufferedEvents;if(bufferedEvent){const methodName=bufferedEvent[0];if(isFunction(this[methodName])){// Send additional arg 'true' to indicate that this is a buffered invocation\nthis[methodName](...bufferedEvent.slice(1),true);}}bufferedEvents=state.eventBuffer.toBeProcessedArray.value;}}/**\n   * Load device mode destinations\n   */loadDestinations(){if(state.nativeDestinations.clientDestinationsReady.value){return;}// Set in state the desired activeDestinations to inject in DOM\nthis.pluginsManager?.invokeSingle('nativeDestinations.setActiveDestinations',state,this.pluginsManager,this.errorHandler,this.logger);const totalDestinationsToLoad=state.nativeDestinations.activeDestinations.value.length;if(totalDestinationsToLoad===0){state.lifecycle.status.value='destinationsReady';return;}// Start loading native integration scripts and create instances\nstate.lifecycle.status.value='destinationsLoading';this.pluginsManager?.invokeSingle('nativeDestinations.load',state,this.externalSrcLoader,this.errorHandler,this.logger);// Progress to next lifecycle phase if all native destinations are initialized or failed\nE(()=>{const areAllDestinationsReady=totalDestinationsToLoad===0||state.nativeDestinations.initializedDestinations.value.length+state.nativeDestinations.failedDestinations.value.length===totalDestinationsToLoad;if(areAllDestinationsReady){r(()=>{state.lifecycle.status.value='destinationsReady';state.nativeDestinations.clientDestinationsReady.value=true;});}});}/**\n   * Move to the ready state\n   */ // eslint-disable-next-line class-methods-use-this\nonDestinationsReady(){// May be do any destination specific actions here\n// Mark the ready status if not already done\nif(state.lifecycle.status.value!=='ready'){state.lifecycle.status.value='ready';}}// End lifecycle methods\n// Start consumer exposed methods\nready(callback,isBufferedInvocation=false){const type='ready';if(!state.lifecycle.loaded.value){state.eventBuffer.toBeProcessedArray.value=[...state.eventBuffer.toBeProcessedArray.value,[type,callback]];return;}this.errorHandler.leaveBreadcrumb(`New ${type} invocation`);if(!isFunction(callback)){this.logger.error(READY_API_CALLBACK_ERROR(READY_API));return;}/**\n     * If destinations are loaded or no integration is available for loading\n     * execute the callback immediately else push the callbacks to a queue that\n     * will be executed after loading completes\n     */if(state.lifecycle.status.value==='readyExecuted'){try{callback();}catch(err){this.errorHandler.onError(err,ANALYTICS_CORE,READY_CALLBACK_INVOKE_ERROR);}}else {state.eventBuffer.readyCallbacksArray.value=[...state.eventBuffer.readyCallbacksArray.value,callback];}}page(payload,isBufferedInvocation=false){const type='page';if(!state.lifecycle.loaded.value){state.eventBuffer.toBeProcessedArray.value=[...state.eventBuffer.toBeProcessedArray.value,[type,payload]];return;}this.errorHandler.leaveBreadcrumb(`New ${type} event`);state.metrics.triggered.value+=1;this.eventManager?.addEvent({type:'page',category:payload.category,name:payload.name,properties:payload.properties,options:payload.options,callback:payload.callback});// TODO: Maybe we should alter the behavior to send the ad-block page event even if the SDK is still loaded. It'll be pushed into the to be processed queue.\n// Send automatic ad blocked page event if ad-blockers are detected on the page\n// Check page category to avoid infinite loop\nif(state.capabilities.isAdBlocked.value===true&&payload.category!==ADBLOCK_PAGE_CATEGORY){this.page(pageArgumentsToCallOptions(ADBLOCK_PAGE_CATEGORY,ADBLOCK_PAGE_NAME,{// 'title' is intentionally omitted as it does not make sense\n// in v3 implementation\npath:ADBLOCK_PAGE_PATH},state.loadOptions.value.sendAdblockPageOptions));}}track(payload,isBufferedInvocation=false){const type='track';if(!state.lifecycle.loaded.value){state.eventBuffer.toBeProcessedArray.value=[...state.eventBuffer.toBeProcessedArray.value,[type,payload]];return;}this.errorHandler.leaveBreadcrumb(`New ${type} event`);state.metrics.triggered.value+=1;this.eventManager?.addEvent({type,name:payload.name||undefined,properties:payload.properties,options:payload.options,callback:payload.callback});}identify(payload,isBufferedInvocation=false){const type='identify';if(!state.lifecycle.loaded.value){state.eventBuffer.toBeProcessedArray.value=[...state.eventBuffer.toBeProcessedArray.value,[type,payload]];return;}this.errorHandler.leaveBreadcrumb(`New ${type} event`);state.metrics.triggered.value+=1;const shouldResetSession=Boolean(payload.userId&&state.session.userId.value&&payload.userId!==state.session.userId.value);if(shouldResetSession){this.reset();}// `null` value indicates that previous user ID needs to be retained\nif(!isNull(payload.userId)){this.userSessionManager?.setUserId(payload.userId);}this.userSessionManager?.setUserTraits(payload.traits);this.eventManager?.addEvent({type,userId:payload.userId,traits:payload.traits,options:payload.options,callback:payload.callback});}alias(payload,isBufferedInvocation=false){const type='alias';if(!state.lifecycle.loaded.value){state.eventBuffer.toBeProcessedArray.value=[...state.eventBuffer.toBeProcessedArray.value,[type,payload]];return;}this.errorHandler.leaveBreadcrumb(`New ${type} event`);state.metrics.triggered.value+=1;const previousId=payload.from??this.userSessionManager?.getUserId()??this.userSessionManager?.getAnonymousId();this.eventManager?.addEvent({type,to:payload.to,from:previousId,options:payload.options,callback:payload.callback});}group(payload,isBufferedInvocation=false){const type='group';if(!state.lifecycle.loaded.value){state.eventBuffer.toBeProcessedArray.value=[...state.eventBuffer.toBeProcessedArray.value,[type,payload]];return;}this.errorHandler.leaveBreadcrumb(`New ${type} event`);state.metrics.triggered.value+=1;// `null` value indicates that previous group ID needs to be retained\nif(!isNull(payload.groupId)){this.userSessionManager?.setGroupId(payload.groupId);}this.userSessionManager?.setGroupTraits(payload.traits);this.eventManager?.addEvent({type,groupId:payload.groupId,traits:payload.traits,options:payload.options,callback:payload.callback});}reset(resetAnonymousId,isBufferedInvocation=false){const type='reset';if(!state.lifecycle.loaded.value){state.eventBuffer.toBeProcessedArray.value=[...state.eventBuffer.toBeProcessedArray.value,[type,resetAnonymousId]];return;}this.errorHandler.leaveBreadcrumb(`New ${type} invocation, resetAnonymousId: ${resetAnonymousId}`);this.userSessionManager?.reset(resetAnonymousId);}getAnonymousId(options){return this.userSessionManager?.getAnonymousId(options);}setAnonymousId(anonymousId,rudderAmpLinkerParam,isBufferedInvocation=false){const type='setAnonymousId';// Buffering is needed as setting the anonymous ID may require invoking the GoogleLinker plugin\nif(!state.lifecycle.loaded.value){state.eventBuffer.toBeProcessedArray.value=[...state.eventBuffer.toBeProcessedArray.value,[type,anonymousId,rudderAmpLinkerParam]];return;}this.errorHandler.leaveBreadcrumb(`New ${type} invocation`);this.userSessionManager?.setAnonymousId(anonymousId,rudderAmpLinkerParam);}// eslint-disable-next-line class-methods-use-this\ngetUserId(){return state.session.userId.value;}// eslint-disable-next-line class-methods-use-this\ngetUserTraits(){return state.session.userTraits.value;}// eslint-disable-next-line class-methods-use-this\ngetGroupId(){return state.session.groupId.value;}// eslint-disable-next-line class-methods-use-this\ngetGroupTraits(){return state.session.groupTraits.value;}startSession(sessionId,isBufferedInvocation=false){const type='startSession';if(!state.lifecycle.loaded.value){state.eventBuffer.toBeProcessedArray.value=[...state.eventBuffer.toBeProcessedArray.value,[type,sessionId]];return;}this.errorHandler.leaveBreadcrumb(`New ${type} invocation`);this.userSessionManager?.start(sessionId);}endSession(isBufferedInvocation=false){const type='endSession';if(!state.lifecycle.loaded.value){state.eventBuffer.toBeProcessedArray.value=[...state.eventBuffer.toBeProcessedArray.value,[type]];return;}this.errorHandler.leaveBreadcrumb(`New ${type} invocation`);this.userSessionManager?.end();}// eslint-disable-next-line class-methods-use-this\ngetSessionId(){const sessionId=this.userSessionManager?.getSessionId();return sessionId??null;}consent(options,isBufferedInvocation=false){const type='consent';if(!state.lifecycle.loaded.value){state.eventBuffer.toBeProcessedArray.value=[...state.eventBuffer.toBeProcessedArray.value,[type,options]];return;}this.errorHandler.leaveBreadcrumb(`New consent invocation`);r(()=>{state.consents.preConsent.value={...state.consents.preConsent.value,enabled:false};state.consents.postConsent.value=getValidPostConsentOptions(options);const{initialized,consentsData}=getConsentManagementData(state.consents.postConsent.value.consentManagement,this.logger);state.consents.initialized.value=initialized||state.consents.initialized.value;state.consents.data.value=consentsData;});// Update consents data in state\nif(state.consents.enabled.value&&!state.consents.initialized.value){this.pluginsManager?.invokeSingle(`consentManager.updateConsentsInfo`,state,this.storeManager,this.logger);}// Re-init store manager\nthis.storeManager?.initializeStorageState();// Re-init user session manager\nthis.userSessionManager?.syncStorageDataToState();// Resume event manager to process the events to destinations\nthis.eventManager?.resume();this.loadDestinations();this.sendTrackingEvents(isBufferedInvocation);}sendTrackingEvents(isBufferedInvocation){// If isBufferedInvocation is true, then the tracking events will be added to the end of the\n// events buffer array so that any other preload events (mainly from query string API) will be processed first.\nif(state.consents.postConsent.value.trackConsent){const trackOptions=trackArgumentsToCallOptions(CONSENT_TRACK_EVENT_NAME);if(isBufferedInvocation){state.eventBuffer.toBeProcessedArray.value=[...state.eventBuffer.toBeProcessedArray.value,['track',trackOptions]];}else {this.track(trackOptions);}}if(state.consents.postConsent.value.sendPageEvent){const pageOptions=pageArgumentsToCallOptions();if(isBufferedInvocation){state.eventBuffer.toBeProcessedArray.value=[...state.eventBuffer.toBeProcessedArray.value,['page',pageOptions]];}else {this.page(pageOptions);}}}setAuthToken(token){this.userSessionManager?.setAuthToken(token);}// End consumer exposed methods\n}\n\n/*\n * RudderAnalytics facade singleton that is exposed as global object and will:\n * expose overloaded methods\n * handle multiple Analytics instances\n * consume SDK preload event buffer\n */class RudderAnalytics{static globalSingleton=null;analyticsInstances={};defaultAnalyticsKey='';logger=defaultLogger;// Singleton with constructor bind methods\nconstructor(){if(RudderAnalytics.globalSingleton){// START-NO-SONAR-SCAN\n// eslint-disable-next-line no-constructor-return\nreturn RudderAnalytics.globalSingleton;// END-NO-SONAR-SCAN\n}defaultErrorHandler.attachErrorListeners();this.setDefaultInstanceKey=this.setDefaultInstanceKey.bind(this);this.getAnalyticsInstance=this.getAnalyticsInstance.bind(this);this.load=this.load.bind(this);this.ready=this.ready.bind(this);this.triggerBufferedLoadEvent=this.triggerBufferedLoadEvent.bind(this);this.page=this.page.bind(this);this.track=this.track.bind(this);this.identify=this.identify.bind(this);this.alias=this.alias.bind(this);this.group=this.group.bind(this);this.reset=this.reset.bind(this);this.getAnonymousId=this.getAnonymousId.bind(this);this.setAnonymousId=this.setAnonymousId.bind(this);this.getUserId=this.getUserId.bind(this);this.getUserTraits=this.getUserTraits.bind(this);this.getGroupId=this.getGroupId.bind(this);this.getGroupTraits=this.getGroupTraits.bind(this);this.startSession=this.startSession.bind(this);this.endSession=this.endSession.bind(this);this.getSessionId=this.getSessionId.bind(this);this.setAuthToken=this.setAuthToken.bind(this);this.consent=this.consent.bind(this);RudderAnalytics.globalSingleton=this;// start loading if a load event was buffered or wait for explicit load call\nthis.triggerBufferedLoadEvent();// Assign to global \"rudderanalytics\" object after processing the preload buffer (if any exists)\n// for CDN bundling IIFE exports covers this but for npm ESM and CJS bundling has to be done explicitly\nglobalThis.rudderanalytics=this;}/**\n   * Set instance to use if no specific writeKey is provided in methods\n   * automatically for the first created instance\n   * TODO: to support multiple analytics instances in the near future\n   */setDefaultInstanceKey(writeKey){if(writeKey){this.defaultAnalyticsKey=writeKey;}}/**\n   * Retrieve an existing analytics instance\n   */getAnalyticsInstance(writeKey){const instanceId=writeKey??this.defaultAnalyticsKey;const analyticsInstanceExists=Boolean(this.analyticsInstances[instanceId]);if(!analyticsInstanceExists){this.analyticsInstances[instanceId]=new Analytics();}return this.analyticsInstances[instanceId];}/**\n   * Create new analytics instance and trigger application lifecycle start\n   */load(writeKey,dataPlaneUrl,loadOptions){if(!isString(writeKey)){this.logger.error(WRITE_KEY_NOT_A_STRING_ERROR(RS_APP,writeKey));return;}if(this.analyticsInstances[writeKey]){return;}this.setDefaultInstanceKey(writeKey);this.analyticsInstances[writeKey]=new Analytics();this.getAnalyticsInstance(writeKey).load(writeKey,dataPlaneUrl,loadOptions);}/**\n   * Trigger load event in buffer queue if exists and stores the\n   * remaining preloaded events array in global object\n   */triggerBufferedLoadEvent(){const preloadedEventsArray=Array.isArray(globalThis.rudderanalytics)?globalThis.rudderanalytics:[];// The array will be mutated in the below method\npromotePreloadedConsentEventsToTop(preloadedEventsArray);// Get any load method call that is buffered if any\n// BTW, load method is also removed from the array\n// So, the Analytics object can directly consume the remaining events\nconst loadEvent=getPreloadedLoadEvent(preloadedEventsArray);// Set the final preloaded events array in global object\nsetExposedGlobal(GLOBAL_PRELOAD_BUFFER,clone(preloadedEventsArray));// Process load method if present in the buffered requests\nif(loadEvent.length>0){// Remove the event name from the Buffered Event array and keep only arguments\nloadEvent.shift();// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore\nthis.load.apply(null,loadEvent);}}/**\n   * Get ready callback arguments and forward to ready call\n   */ready(callback){this.getAnalyticsInstance().ready(callback);}/**\n   * Process page arguments and forward to page call\n   */page(category,name,properties,options,callback){this.getAnalyticsInstance().page(pageArgumentsToCallOptions(category,name,properties,options,callback));}/**\n   * Process track arguments and forward to page call\n   */track(event,properties,options,callback){this.getAnalyticsInstance().track(trackArgumentsToCallOptions(event,properties,options,callback));}/**\n   * Process identify arguments and forward to page call\n   */identify(userId,traits,options,callback){this.getAnalyticsInstance().identify(identifyArgumentsToCallOptions(userId,traits,options,callback));}/**\n   * Process alias arguments and forward to page call\n   */alias(to,from,options,callback){this.getAnalyticsInstance().alias(aliasArgumentsToCallOptions(to,from,options,callback));}/**\n   * Process group arguments and forward to page call\n   */group(groupId,traits,options,callback){if(arguments.length===0){this.logger.error(EMPTY_GROUP_CALL_ERROR(RS_APP));return;}this.getAnalyticsInstance().group(groupArgumentsToCallOptions(groupId,traits,options,callback));}reset(resetAnonymousId){this.getAnalyticsInstance().reset(resetAnonymousId);}getAnonymousId(options){return this.getAnalyticsInstance().getAnonymousId(options);}setAnonymousId(anonymousId,rudderAmpLinkerParam){this.getAnalyticsInstance().setAnonymousId(anonymousId,rudderAmpLinkerParam);}getUserId(){return this.getAnalyticsInstance().getUserId();}getUserTraits(){return this.getAnalyticsInstance().getUserTraits();}getGroupId(){return this.getAnalyticsInstance().getGroupId();}getGroupTraits(){return this.getAnalyticsInstance().getGroupTraits();}startSession(sessionId){return this.getAnalyticsInstance().startSession(sessionId);}endSession(){return this.getAnalyticsInstance().endSession();}getSessionId(){return this.getAnalyticsInstance().getSessionId();}setAuthToken(token){return this.getAnalyticsInstance().setAuthToken(token);}consent(options){return this.getAnalyticsInstance().consent(options);}}\n\nexport { RudderAnalytics };\n","export default function checkIfHtmxIsLoaded(count = 0) {\n  if (count > 5) {\n    return false;\n  }\n  setTimeout(() => {\n    if (window.htmx) {\n      return true;\n    } else {\n      checkIfHtmxIsLoaded(count + 1);\n    }\n  }, 500);\n}\n","/* eslint no-console:0 */\nimport { RudderAnalytics } from \"@rudderstack/analytics-js\";\nimport checkIfHtmxIsLoaded from \"./helpers/htmx\";\n\nfunction updateAnonymousIdField() {\n  const anonymousIdField = document.querySelector(\"[name=\\\"fields[anonymous_id]\\\"]\");\n  if (anonymousIdField !== null) {\n    anonymousIdField.value = rudderanalytics.getAnonymousId();\n    console.log(\"RudderStack Field Update complete - \", rudderanalytics.getAnonymousId());\n  } else {\n    console.log(\"anonymousIdField is null\");\n  }\n}\n\nfunction registerEvents() {\n  const anchorLinks = document.getElementsByTagName(\"a\");\n\n  // Internal Sites\n  [...anchorLinks].forEach((anchor) => {\n    anchor.addEventListener(\n      \"click\",\n      (event) => {\n        const element = event.currentTarget;\n        const params = {\n          eventElement: \"a\",\n          target: element.href,\n          title: element.innerText,\n          id_html: element.id,\n          className: element.className.split(\" \"),\n          ariaLabel: element.getAttribute(\"aria-label\"),\n        };\n        rudderanalytics.track(\"Clicked A Link\", params);\n      },\n      { once: true }\n    );\n\n    // If anchor doesn't have a href attribute - exit\n    if (!anchor.href || !anchor.hasAttribute(\"href\")) {\n      return false;\n    }\n\n    const currentUrl = new URL(anchor.href);\n    const updateExternalUrl =\n            currentUrl.origin !== location.origin && !currentUrl.searchParams.get(\"anonymous_id\");\n    if (updateExternalUrl) {\n      currentUrl.searchParams.append(\"anonymous_id\", rudderanalytics.getAnonymousId());\n      anchor.href = currentUrl;\n    }\n  });\n\n  const buttonLinks = document.getElementsByTagName(\"button\");\n  [...buttonLinks].forEach((button) => {\n    button.addEventListener(\n      \"click\",\n      (event) => {\n        const element = event.currentTarget;\n        const params = {\n          eventElement: \"button\",\n          title: element.innerText,\n          id_html: element.id,\n          className: element.className.split(\" \"),\n          ariaLabel: element.getAttribute(\"aria-label\"),\n        };\n        rudderanalytics.track(\"Pressed A Button\", params);\n      },\n      { once: true }\n    );\n  });\n}\n\nconst rudderanalytics = new RudderAnalytics();\n\nrudderanalytics.load(\"2Fivwkm2WzdbgiuTksdgWz729mz\", \"https://conversionwbv.dataplane.rudderstack.com\");\nrudderanalytics.ready(() => {\n  // Register Custom Events\n  checkIfHtmxIsLoaded();\n  rudderanalytics.getAnonymousId();\n\n  // Decrypting AnnoymousId into form field.\n  window.addEventListener(\"onBeforeFormieSubmit\", () => {\n    updateAnonymousIdField();\n  });\n});\nrudderanalytics.page();\n","/* eslint no-console:0 */\nimport Cookies from \"js-cookie\";\n\nfunction socialShareForm() {\n  let socialShareForm = null;\n  let roleOption = null;\n\n  document.addEventListener(\"afterBlitzInjectAll\", function () {\n    socialShareForm = document.getElementById(\"socialShare\");\n    roleOption = document.getElementById(\"referrerSelectInput\");\n\n    // If the form has not been injected into the DOM, exit early.\n    if (!socialShareForm) {\n      return;\n    }\n\n    init();\n  });\n\n  function setCookie(name, value) {\n    const oneYearFromNow = new Date(new Date().getTime() + 365 * 24 * 60 * 60 * 1000);\n    Cookies.set(name, value, { expires: oneYearFromNow });\n  }\n\n  function init() {\n    // Copies job search input values, if they exist, and appends them to the current URL with the respective R value based on the social role selected\n    socialShareForm.addEventListener(\"submit\", function (event) {\n      event.preventDefault();\n\n      const form = document.querySelector(\"#jobSearch input\");\n      const inputs = form ? Array.from(form) : []; // spread into an array only if form is not null\n\n      // Strip current URL of all query parameters\n      const currentURLNoParams = `${window.location.origin}${window.location.pathname}`;\n      const shareURL = new URL(currentURLNoParams);\n\n      inputs\n        .filter(input => input.value !== \"\")\n        .forEach(input => shareURL.searchParams.append(input.name, input.value));\n\n      setCookie(\"social-role\", roleOption.value);\n      shareURL.searchParams.append(\"r\", roleOption.value);\n\n      navigator.clipboard.writeText(shareURL.href)\n        .then(() => {\n          // Create a new element to display the \"copied to clipboard\" message\n          const messageElement = document.createElement(\"div\");\n          messageElement.classList.add(\"clipboard\");\n          messageElement.textContent = \"Copied to clipboard\";\n          // Add the new element to the page\n          document.body.appendChild(messageElement);\n          // Remove the \"copied to clipboard\" message after a short delay\n          setTimeout(() => {\n            document.body.removeChild(messageElement);\n          }, 2000);\n        })\n        .catch(err => {\n          console.error(\"Failed to copy URL: \", err);\n        });\n    });\n  }\n}\n\nexport default socialShareForm();\n","function citySearchValidation() {\n  const jobSearchForm = document.querySelector(\"#jobSearch\");\n  if (!jobSearchForm) {return;}\n\n  const cityContainer = jobSearchForm.querySelector(\".city-container\");\n  const cityInput = jobSearchForm.querySelector(\"#city\");\n  const stateInput = jobSearchForm.querySelector(\"#state\");\n  const zipInput = jobSearchForm.querySelector(\"#zip\");\n  const jobSearchBtn = jobSearchForm.querySelector(\".jobs-search-btn\");\n\n  let isTooltipDisplayed = false;\n  let hasBeenDismissed = false;\n\n  // Create the tooltip element\n  const toolTipEl = document.createElement(\"div\");\n  toolTipEl.classList.add(\"tool-tip\");\n  toolTipEl.textContent = \"When searching a job by location, please enter a state or a valid zip code\";\n\n  // Create the dismiss button\n  const toolTipDismissBtn = document.createElement(\"button\");\n  toolTipDismissBtn.textContent = \"\\u2715\";\n  toolTipDismissBtn.setAttribute(\"type\", \"button\");\n  toolTipEl.appendChild(toolTipDismissBtn);\n\n  function handleInputChange() {\n    const city = cityInput.value;\n    const state = stateInput.value;\n    const zip = zipInput.value;\n\n    // Check if the city is entered and if state and zip were left blank\n    if (city && !state && !zip) {\n      disableSearchButton();\n    } else {\n      enableSearchButton();\n    }\n  }\n\n  function disableSearchButton() {\n    // Add the disabled attribute to the job search button\n    jobSearchBtn.setAttribute(\"disabled\", \"\");\n\n    if (!isTooltipDisplayed && !hasBeenDismissed) {\n      toggleTooltip();\n    }\n  }\n\n  function enableSearchButton() {\n    // Remove the disabled attribute from the job search button\n    jobSearchBtn.removeAttribute(\"disabled\");\n\n    if (isTooltipDisplayed) {\n      toggleTooltip();\n    }\n  }\n\n  function toggleTooltip() {\n    isTooltipDisplayed = !isTooltipDisplayed;\n\n    if (isTooltipDisplayed) {\n      cityContainer.appendChild(toolTipEl);\n    } else {\n      cityContainer.removeChild(toolTipEl);\n    }\n  }\n\n  stateInput.addEventListener(\"input\", handleInputChange);\n  zipInput.addEventListener(\"input\", handleInputChange);\n  cityInput.addEventListener(\"input\", handleInputChange);\n  toolTipDismissBtn.addEventListener(\"click\", () => {\n    toggleTooltip();\n    hasBeenDismissed = true;\n  });\n}\n\nexport default citySearchValidation();\n"],"file":"js/site.js"}