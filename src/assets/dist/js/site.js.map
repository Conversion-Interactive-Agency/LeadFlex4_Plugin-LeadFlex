{"version":3,"mappings":"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","names":["citySearchValidation","jobSearchForm","cityContainer","cityInput","stateInput","zipInput","jobSearchBtn","isTooltipDisplayed","hasBeenDismissed","toolTipEl","toolTipDismissBtn","handleInputChange","city","state","zip","disableSearchButton","enableSearchButton","toggleTooltip","isMobileModule","isMobile","mobileRE","notMobileRE","tabletRE","opts","ua","result","assign","target","i","source","key","defaultConverter","value","init","converter","defaultAttributes","set","name","attributes","stringifiedAttributes","attributeName","get","cookies","jar","parts","found","api","exitBanner","modalId","modalWindow","modalExists","mobile","modalHasBeenDismissed","Cookies","initModal","assignEventListeners","setTrackingParams","checkIfBootstrapIsLoaded","buildYesBtnLink","referralVal","utmSource","yesBtnUrl","leadAssist","leadAssistBlock","coll","addAccordionEventListener","element","content","d","s","id","js","fjs","navigation","mainNav","mobileIcon","useElement","openCloseMenu","_isPlaceholder","a","_curry1","fn","f1","_curry2","f2","b","_b","_a","_curry3","f3","c","_c","_has","prop","obj","type","val","_isObject","x","_isInteger","n","_isString","_nth","offset","list","idx","_cloneRegExp","pattern","_clone","deep","map","_ObjectMap","_isPrimitive","copy","copiedValue","cachedCopy","param","hashedKey","bucket","p","clone","_path","pathAr","mergeWithKey","l","r","k","mergeDeepWithKey","lObj","rObj","lVal","rVal","mergeDeepWith","path","pickBy","test","isFunction","isString","isNull","isUndefined","isNullOrUndefined","isDefined","isDefinedAndNotNull","isDefinedNotNullAndNotEmptyString","isTypeOfError","getValueByPath","keyPath","pathParts","hasValueByPath","isObjectAndNotNull","isObjectLiteralAndNotNull","mergeDeepRightObjectArrays","leftValue","rightValue","mergedArray","index","mergeDeepRight","leftObject","rightObject","isNonEmptyObject","removeUndefinedValues","removeUndefinedAndNullValues","trim","removeDoubleSpaces","removeLeadingPeriod","tryStringify","retVal","bytesToBase64","bytes","binString","toBase64","pageArgumentsToCallOptions","category","properties","options","callback","payload","trackArgumentsToCallOptions","event","identifyArgumentsToCallOptions","userId","traits","aliasArgumentsToCallOptions","to","from","groupArgumentsToCallOptions","groupId","CAPABILITIES_MANAGER","CONFIG_MANAGER","EVENT_MANAGER","PLUGINS_MANAGER","USER_SESSION_MANAGER","ERROR_HANDLER","PLUGIN_ENGINE","STORE_MANAGER","READY_API","EVENT_REPOSITORY","EXTERNAL_SRC_LOADER","HTTP_CLIENT","RS_APP","ANALYTICS_CORE","APP_NAME","APP_VERSION","APP_NAMESPACE","MODULE_TYPE","ADBLOCK_PAGE_CATEGORY","ADBLOCK_PAGE_NAME","ADBLOCK_PAGE_PATH","GLOBAL_PRELOAD_BUFFER","CONSENT_TRACK_EVENT_NAME","QUERY_PARAM_TRAIT_PREFIX","QUERY_PARAM_PROPERTY_PREFIX","QUERY_PARAM_ANONYMOUS_ID_KEY","QUERY_PARAM_USER_ID_KEY","QUERY_PARAM_TRACK_EVENT_NAME_KEY","DEFAULT_XHR_TIMEOUT_MS","DEFAULT_COOKIE_MAX_AGE_MS","DEFAULT_SESSION_TIMEOUT_MS","MIN_SESSION_TIMEOUT_MS","DEFAULT_DATA_PLANE_EVENTS_BUFFER_TIMEOUT_MS","DEBOUNCED_TIMEOUT_MS","createExposedGlobals","analyticsInstanceId","setExposedGlobal","keyName","getExposedGlobal","debounce","func","thisArg","delay","timeoutId","args","getEventDataFromQueryString","params","dataTypeNamePrefix","data","dataKey","retrieveEventsFromQueryString","argumentsArray","eventArgumentToQueryParamMap","queryObject","getPreloadedLoadEvent","preloadedEventsArray","loadMethodName","loadEvent","promotePreloadedConsentEventsToTop","consentMethodName","consentEvents","bufferedEvent","nonConsentEvents","retrievePreloadBufferEvents","instance","consumePreloadBufferedEvent","analyticsInstance","methodName","callOptions","DEFAULT_EXT_SRC_LOAD_TIMEOUT_MS","LOG_CONTEXT_SEPARATOR","SCRIPT_ALREADY_EXISTS_ERROR","SCRIPT_LOAD_ERROR","url","SCRIPT_LOAD_TIMEOUT_ERROR","timeout","CIRCULAR_REFERENCE_WARNING","context","JSON_STRINGIFY_WARNING","JSON_STRINGIFY","getCircularReplacer","excludeNull","excludeKeys","logger","ancestors","stringifyWithoutCircular","err","getMutatedError","issue","finalError","EXTERNAL_SOURCE_LOAD_ORIGIN","createScriptElement","async","onload","onerror","extraAttributes","scriptElement","insertScript","newScriptElement","_d","headElements","scriptElements","headElement","htmlElement","jsFileLoader","resolve","reject","timeoutID","ExternalSrcLoader","errorHandler","__publicField","config","isFireAndForget","error","t","h","f","o","v","e","u","E","y","_","g","BufferQueue","item","LOG_LEVEL_MAP","DEFAULT_LOG_LEVEL","LOG_MSG_PREFIX","LOG_MSG_PREFIX_STYLE","LOG_MSG_STYLE","Logger","minLogLevel","scope","logProvider","logMethod","scopeVal","logLevel","msg","originalMsg","styledLogArgs","defaultLogger","SUPPORTED_STORAGE_TYPES","DEFAULT_STORAGE_TYPE","SOURCE_CONFIG_OPTION_ERROR","SOURCE_CONFIG_RESOLUTION_ERROR","SOURCE_DISABLED_ERROR","XHR_PAYLOAD_PREP_ERROR","EVENT_OBJECT_GENERATION_ERROR","PLUGIN_EXT_POINT_MISSING_ERROR","PLUGIN_EXT_POINT_INVALID_ERROR","COMPONENT_BASE_URL_ERROR","component","UNSUPPORTED_CONSENT_MANAGER_ERROR","selectedConsentManager","consentManagersToPluginNameMap","REPORTING_PLUGIN_INIT_FAILURE_ERROR","NOTIFY_FAILURE_ERROR","PLUGIN_NAME_MISSING_ERROR","PLUGIN_ALREADY_EXISTS_ERROR","pluginName","PLUGIN_NOT_FOUND_ERROR","PLUGIN_ENGINE_BUG_ERROR","PLUGIN_DEPS_ERROR","notExistDeps","PLUGIN_INVOCATION_ERROR","extPoint","STORAGE_UNAVAILABILITY_ERROR_PREFIX","storageType","SOURCE_CONFIG_FETCH_ERROR","reason","WRITE_KEY_VALIDATION_ERROR","writeKey","DATA_PLANE_URL_VALIDATION_ERROR","dataPlaneUrl","READY_API_CALLBACK_ERROR","XHR_DELIVERY_ERROR","prefix","status","statusText","XHR_REQUEST_ERROR","XHR_SEND_ERROR","STORE_DATA_SAVE_ERROR","STORE_DATA_FETCH_ERROR","DATA_SERVER_REQUEST_FAIL_ERROR","FAILED_SETTING_COOKIE_FROM_SERVER_ERROR","FAILED_SETTING_COOKIE_FROM_SERVER_GLOBAL_ERROR","STORAGE_TYPE_VALIDATION_WARNING","defaultStorageType","UNSUPPORTED_ERROR_REPORTING_PROVIDER_WARNING","selectedErrorReportingProvider","errorReportingProvidersToPluginNameMap","defaultProvider","UNSUPPORTED_STORAGE_ENCRYPTION_VERSION_WARNING","selectedStorageEncryptionVersion","storageEncryptionVersionsToPluginNameMap","defaultVersion","STORAGE_DATA_MIGRATION_OVERRIDE_WARNING","storageEncryptionVersion","SERVER_SIDE_COOKIE_FEATURE_OVERRIDE_WARNING","providedCookieDomain","currentCookieDomain","RESERVED_KEYWORD_WARNING","property","parentKeyPath","reservedElements","UNSUPPORTED_BEACON_API_WARNING","TIMEOUT_NOT_NUMBER_WARNING","defaultValue","TIMEOUT_ZERO_WARNING","TIMEOUT_NOT_RECOMMENDED_WARNING","minTimeout","INVALID_SESSION_ID_WARNING","sessionId","minSessionIdLength","STORAGE_QUOTA_EXCEEDED_WARNING","STORAGE_UNAVAILABLE_WARNING","entry","selectedStorageType","finalStorageType","WRITE_KEY_NOT_A_STRING_ERROR","EMPTY_GROUP_CALL_ERROR","READY_CALLBACK_INVOKE_ERROR","API_CALLBACK_INVOKE_ERROR","NATIVE_DEST_PLUGIN_INITIALIZE_ERROR","DATAPLANE_PLUGIN_INITIALIZE_ERROR","DMT_PLUGIN_INITIALIZE_ERROR","NATIVE_DEST_PLUGIN_ENQUEUE_ERROR","DATAPLANE_PLUGIN_ENQUEUE_ERROR","INVALID_CONFIG_URL_WARNING","configUrl","POLYFILL_SCRIPT_LOAD_ERROR","scriptId","UNSUPPORTED_PRE_CONSENT_STORAGE_STRATEGY","selectedStrategy","defaultStrategy","UNSUPPORTED_PRE_CONSENT_EVENTS_DELIVERY_TYPE","selectedDeliveryType","defaultDeliveryType","generateMisconfiguredPluginsWarning","configurationStatus","missingPlugins","shouldAddMissingPlugins","isSinglePlugin","pluginsString","baseWarning","INVALID_POLYFILL_URL_WARNING","customPolyfillUrl","CDN_INT_DIR","CDN_PLUGINS_DIR","URL_PATTERN","BUILD_TYPE","SDK_CDN_BASE_URL","CDN_ARCH_VERSION_DIR","DEST_SDK_BASE_URL","PLUGINS_BASE_URL","DEFAULT_CONFIG_BE_URL","DEFAULT_ERROR_REPORTING_PROVIDER","DEFAULT_STORAGE_ENCRYPTION_VERSION","DEFAULT_DATA_PLANE_EVENTS_TRANSPORT","ConsentManagersToPluginNameMap","ErrorReportingProvidersToPluginNameMap","StorageEncryptionVersionsToPluginNameMap","DataPlaneEventsTransportToPluginNameMap","DEFAULT_DATA_SERVICE_ENDPOINT","defaultLoadOptions","loadOptionsState","DEFAULT_USER_SESSION_VALUES","SERVER_SIDE_COOKIES_DEBOUNCE_TIME","defaultSessionConfiguration","sessionState","capabilitiesState","reportingState","sourceConfigState","lifecycleState","consentsState","metricsState","contextState","nativeDestinationsState","eventBufferState","pluginsState","storageState","serverSideCookiesState","dataPlaneEventsState","defaultStateValues","PluginEngine","plugin","errorMessage","pos","pluginItem","lifeCycleName","dependency","allowMultiple","extensionPointName","noCall","throws","extensionPointNameParts","pluginMethodPath","method","defaultPluginEngine","FAILED_REQUEST_ERR_MSG_PREFIX","ERROR_MESSAGES_TO_BE_FILTERED","LOAD_ORIGIN","processError","eventTarget","isAllowedToBeNotified","ErrorHandler","pluginEngine","externalSrcLoader","errReportingInitVal","client","customMessage","shouldAlwaysThrow","errorType","normalizedError","breadcrumb","defaultErrorHandler","isNonCloudDestination","destination","isHybridModeDestination","getNonCloudDestinations","destinations","pluginNamesList","remotesMap","loadJS","resolvedUrl","script","merge","obj1","obj2","mergedObj","wrapShareModule","remoteFrom","__federation_method_ensure","remoteId","remote","__vitePreload","lib","shareScope","__federation_method_wrapDefault","module","need","__federation_method_getRemote","remoteName","componentName","factory","getFederatedModuleImport","federatedModulesBuildPluginImports","activePluginNames","remotePlugins","lazyLoadImport","getMandatoryPluginsMap","getOptionalPluginsMap","getRemotePluginsMap","pluginsInventory","remotePluginsInventory","PluginsManager","engine","pluginsToLoadFromConfig","pluginGroupsToProcess","addMissingPlugins","group","pluginsToConfigure","pluginsToLoad","availablePlugins","activePlugins","failedPlugins","localPlugin","remotePluginsList","remotePluginKey","remotePluginModule","plugins","responseTextToJson","responseText","onError","DEFAULT_XHR_REQUEST_OPTIONS","createXhrRequestOptions","basicAuthHeader","requestOptions","xhrRequest","xhr","xhrReject","xhrError","headerName","HttpClient","isRawResponse","noBtoa","authVal","defaultHttpClient","COOKIE_STORAGE","LOCAL_STORAGE","SESSION_STORAGE","MEMORY_STORAGE","NO_STORAGE","userIdKey","userTraitsKey","anonymousUserIdKey","groupIdKey","groupTraitsKey","pageInitialReferrerKey","pageInitialReferringDomainKey","sessionInfoKey","authTokenKey","COOKIE_KEYS","STORAGE_TEST_COOKIE","STORAGE_TEST_LOCAL_STORAGE","STORAGE_TEST_SESSION_STORAGE","STORAGE_TEST_TOP_LEVEL_DOMAIN","CLIENT_DATA_STORE_COOKIE","CLIENT_DATA_STORE_LS","CLIENT_DATA_STORE_MEMORY","CLIENT_DATA_STORE_SESSION","USER_SESSION_KEYS","storageClientDataStoreNameMap","COOKIE_DATA_ENCODING_ERROR","encode","decode","parse","str","pairs","pair","pairItem","optionsConfig","cookieString","all","cookieStringValue","cookie","detectAdBlockers","baseUrl","httpClient","details","hasCrypto$1","hasUAClientHints","hasBeacon","isIE11","getUserAgentClientHint","level","isDatasetAvailable","testElement","legacyJSEngineRequiredPolyfills","isLegacyJSEngine","requiredCapabilitiesList","needsPolyfill","isCapabilityMissing","getScreenDetails","screenDetails","isStorageQuotaExceeded","matchingNames","matchingCodes","isQuotaExceededError","isStorageAvailable","storageInstance","storage","testData","msgPrefix","legacyGetHostname","href","levelsFunc","host","last","levels","domain","cname","getDefaultCookieOptions","topDomain","getDefaultLocalStorageOptions","getDefaultSessionStorageOptions","getDefaultInMemoryStorageOptions","_CookieStorage","CookieStorage","InMemoryStorage","defaultInMemoryStorage","commonjsGlobal","getDefaultExportFromCjs","store$1","exports","global","isJSON","stringify","deserialize","isArray","dealIncognito","_KEY","_VALUE","inMemoryStorage","Store","ret","dt","len","arr","_Store","store","argm","storeExports","LocalStorage","defaultLocalStorage","SessionStorage","keys","defaultSessionStorage","getStorageEngine","configureCookieStorageEngine","cookieStorageOptions","configureLocalStorageEngine","configureInMemoryStorageEngine","configureSessionStorageEngine","configureStorageEngines","localStorageOptions","inMemoryStorageOptions","sessionStorageOptions","pluginsManager","validKeys","noKeyValidation","noCompoundKey","compoundKey","validKeyName","validKey","mode","formattedValue","getStorageTypeFromPreConsentIfApplicable","sessionKey","overriddenStorageType","StoreManager","loadOptions","globalStorageType","entriesOptions","postConsentStorageOpts","trulyAnonymousTracking","storageEntries","storageKey","configuredStorageType","_e","_f","storeConfig","storageEngine","removeDuplicateSlashes","isValidURL","validateWriteKey","validateDataPlaneUrl","validateLoadArgs","isValidSourceConfig","res","isValidStorageType","getTopDomain","urlObj","protocol","getTopDomainUrl","getDataServiceUrl","endpoint","useExactDomain","formattedEndpoint","isWebpageTopLevelDomain","providedDomain","filterEnabledDestination","nativeDestinations","removeTrailingSlashes","getDomain","getReferringDomain","referrer","extractUTMParameters","UTM_PREFIX","sParam","utmParam","getUrlWithoutHash","urlWithoutHash","isSDKRunningInChromeExtension","DEFAULT_PRE_CONSENT_STORAGE_STRATEGY","DEFAULT_PRE_CONSENT_EVENTS_DELIVERY_TYPE","isErrorReportingEnabled","sourceConfig","getErrorReportingProviderNameFromConfig","isMetricsReportingEnabled","DEFAULT_INTEGRATIONS_CONFIG","getValidPostConsentOptions","validOptions","clonedOptions","isValidConsentsData","getConsentManagerInfo","consentManagementOpts","provider","consentManagerPluginName","getConsentManagementData","allowedConsentIds","deniedConsentIds","initialized","enabled","consentsData","getSDKUrl","scripts","sdkFileNameRegex","src","updateReportingState","errReportingProvider","errReportingProviderPlugin","updateStorageStateFromLoadOptions","useServerSideCookies","dataServiceEndpoint","storageOptsFromLoad","setCookieDomain","sameDomainCookiesOnly","encryptionPluginName","configuredMigrationValue","finalMigrationVal","cookieOptions","dataServiceUrl","curHost","dataServiceHost","updateConsentsStateFromLoadOptions","preConsentOpts","storageStrategy","StorageStrategies","eventsDeliveryType","deliveryTypes","updateConsentsState","resp","resolutionStrategy","cmpMetadata","updateDataPlaneEventsStateFromLoadOptions","defaultEventsQueuePluginName","eventsQueuePluginName","getSourceConfigURL","lockIntegrationsVersion","lockPluginsVersion","defSearchParams","origin","searchParams","pathname","hash","configUrlInstance","getSDKComponentBaseURL","componentType","pathSuffix","baseURL","currentVersion","lockVersion","customURL","sdkComponentURL","sdkURL","getIntegrationsCDNPath","customIntegrationsCDNPath","getPluginsCDNPath","customPluginsCDNPath","ConfigManager","destSDKBaseURL","pluginsSDKBaseURL","intgCdnUrl","pluginsCDNPath","response","sourceConfigFunc","pRes","getTimezone","timezone","getReferrer","getCanonicalUrl","tags","canonicalUrl","tag","getUserAgent","userAgent","brave","matchedArr","getLanguage","getDefaultPageProperties","tabUrl","pageUrl","search","title","POLYFILL_URL","POLYFILL_LOAD_TIMEOUT","POLYFILL_SCRIPT_ID","CapabilitiesManager","uach","polyfillUrl","isDefaultPolyfillService","polyfillCallbackName","polyfillCallback","random","SIZE","HEX$1","IDX$1","BUFFER$1","v4$1","tmp","out","IDX","HEX","BUFFER","v4","num","hasCrypto","generateUUID","getCurrentTimeFormatted","CHANNEL","TOP_LEVEL_ELEMENTS","CONTEXT_RESERVED_ELEMENTS","RESERVED_ELEMENTS","isNumber","hasMinLength","minimumLength","isPositiveInteger","MIN_SESSION_ID_LENGTH","hasSessionExpired","expiresAt","timestamp","generateSessionId","isManualSessionIdValid","generateAutoTrackingSession","sessionTimeout","generateManualTrackingSession","isStorageTypeValidForStoringData","generateAnonymousId","getContextPageProperties","pageProps","curPageProps","ctxPageProps","getUpdatedPageProperties","optionsPageProps","checkForReservedElementsInObject","checkForReservedElements","rudderEvent","contextualTraits","updateTopLevelEventElements","getMergedContext","rudderContext","tempContext","shouldUseGlobalIntegrationsConfigInEvents","processOptions","getEventIntegrationsConfig","integrationsConfig","finalIntgConfig","getEnrichedEvent","commonEventData","processedEvent","RudderEventFactory","props","enrichedEvent","groupEvent","eventObj","EventManager","eventRepository","userSessionManager","UserSessionManager","storeManager","externalAnonymousIdCookieName","anonymousIdOptions","externalAnonymousId","sessionInfo","configuredSessionTrackingInfo","initialSessionInfo","persistedInitialReferrer","persistedInitialReferringDomain","initialReferrer","entryName","entries","storageTypesForMigration","currentStorage","curStore","persistentStoreNames","stores","storeName","storageEntry","migratedVal","autoTrack","configuredSessionTimeout","cookiesData","encryptedCookieData","cData","encryptedValue","_g","_h","cb","cookieValue","before","each","cookieName","anonymousId","rudderAmpLinkerParam","finalAnonymousId","persistedAnonymousId","resetAnonymousId","noNewSessionStart","session","manualTrack","referringDomain","token","defaultOptionalPluginsList","normalizeLoadOptions","loadOptionsFromState","normalizedLoadOpts","DATA_PLANE_QUEUE_EXT_POINT_PREFIX","DESTINATIONS_QUEUE_EXT_POINT_PREFIX","DMT_EXT_POINT_PREFIX","getOverriddenIntegrationOptions","eventIntgConfig","destinationsIntgConfig","intgName","getFinalEvent","finalEvent","overriddenIntgOpts","shouldBufferEventsForPreConsent","EventRepository","bufferEventsBeforeConsent","shouldBufferDpEvents","dest","dpQEvent","dQEvent","dispatchSDKEvent","customEvent","Analytics","clonedDataPlaneUrl","clonedLoadOptions","bufferedEvents","eventToProcess","totalDestinationsToLoad","isBufferedInvocation","previousId","trackOptions","pageOptions","_RudderAnalytics","instanceId","RudderAnalytics","checkIfHtmxIsLoaded","count","updateAnonymousIdField","anonymousIdField","rudderanalytics","socialShareForm","roleOption","setCookie","oneYearFromNow","form","inputs","currentURLNoParams","shareURL","input","messageElement","tracking","TRACKING_ELEMENTS","handleEvent","node","GOOGLE_EVENT","FACEBOOK_EVENT","pushGoogleEvent","pushFacebookEvent","gEvent","EVENT_LISTENER_TYPE","virtualRecruiter","virtualRecruiterField","registerEventListeners","updateRedirectParam","verifiedInput","checked","redirectParamInput"],"sources":["../../site/src/js/citySearchValidation.js","../../../../node_modules/is-mobile/index.js","../../../../node_modules/js-cookie/dist/js.cookie.mjs","../../site/src/js/exitBanner.js","../../site/src/js/leadAssist.js","../../site/src/js/navigation.js","../../../../node_modules/@rudderstack/analytics-js/dist/npm/modern/esm/index.mjs","../../site/src/js/helpers/htmx.js","../../site/src/js/rudderStack.js","../../site/src/js/socialShareForm.js","../../site/src/js/tracking.js","../../site/src/js/virtualRecruiter.js"],"sourcesContent":["function citySearchValidation() {\n  const jobSearchForm = document.querySelector(\"#jobSearch\");\n  if (!jobSearchForm) {return;}\n\n  const cityContainer = jobSearchForm.querySelector(\".city-container\");\n  const cityInput = jobSearchForm.querySelector(\"#city\");\n  const stateInput = jobSearchForm.querySelector(\"#state\");\n  const zipInput = jobSearchForm.querySelector(\"#zip\");\n  const jobSearchBtn = jobSearchForm.querySelector(\".jobs-search-btn\");\n\n  let isTooltipDisplayed = false;\n  let hasBeenDismissed = false;\n\n  // Create the tooltip element\n  const toolTipEl = document.createElement(\"div\");\n  toolTipEl.classList.add(\"tool-tip\");\n  toolTipEl.textContent = \"When searching a job by location, please enter a state or a valid zip code\";\n\n  // Create the dismiss button\n  const toolTipDismissBtn = document.createElement(\"button\");\n  toolTipDismissBtn.textContent = \"\\u2715\";\n  toolTipDismissBtn.setAttribute(\"type\", \"button\");\n  toolTipEl.appendChild(toolTipDismissBtn);\n\n  function handleInputChange() {\n    const city = cityInput.value;\n    const state = stateInput.value;\n    const zip = zipInput.value;\n\n    // Check if the city is entered and if state and zip were left blank\n    if (city && !state && !zip) {\n      disableSearchButton();\n    } else {\n      enableSearchButton();\n    }\n  }\n\n  function disableSearchButton() {\n    // Add the disabled attribute to the job search button\n    jobSearchBtn.setAttribute(\"disabled\", \"\");\n\n    if (!isTooltipDisplayed && !hasBeenDismissed) {\n      toggleTooltip();\n    }\n  }\n\n  function enableSearchButton() {\n    // Remove the disabled attribute from the job search button\n    jobSearchBtn.removeAttribute(\"disabled\");\n\n    if (isTooltipDisplayed) {\n      toggleTooltip();\n    }\n  }\n\n  function toggleTooltip() {\n    isTooltipDisplayed = !isTooltipDisplayed;\n\n    if (isTooltipDisplayed) {\n      cityContainer.appendChild(toolTipEl);\n    } else {\n      cityContainer.removeChild(toolTipEl);\n    }\n  }\n\n  stateInput.addEventListener(\"input\", handleInputChange);\n  zipInput.addEventListener(\"input\", handleInputChange);\n  cityInput.addEventListener(\"input\", handleInputChange);\n  toolTipDismissBtn.addEventListener(\"click\", () => {\n    toggleTooltip();\n    hasBeenDismissed = true;\n  });\n}\n\nexport default citySearchValidation();\n","'use strict'\n\nmodule.exports = isMobile\nmodule.exports.isMobile = isMobile\nmodule.exports.default = isMobile\n\nconst mobileRE = /(android|bb\\d+|meego).+mobile|armv7l|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i\nconst notMobileRE = /CrOS/\n\nconst tabletRE = /android|ipad|playbook|silk/i\n\nfunction isMobile (opts) {\n  if (!opts) opts = {}\n  let ua = opts.ua\n  if (!ua && typeof navigator !== 'undefined') ua = navigator.userAgent\n  if (ua && ua.headers && typeof ua.headers['user-agent'] === 'string') {\n    ua = ua.headers['user-agent']\n  }\n  if (typeof ua !== 'string') return false\n\n  let result =\n    (mobileRE.test(ua) && !notMobileRE.test(ua)) ||\n    (!!opts.tablet && tabletRE.test(ua))\n\n  if (\n    !result &&\n    opts.tablet &&\n    opts.featureDetect &&\n    navigator &&\n    navigator.maxTouchPoints > 1 &&\n    ua.indexOf('Macintosh') !== -1 &&\n    ua.indexOf('Safari') !== -1\n  ) {\n    result = true\n  }\n\n  return result\n}\n","/*! js-cookie v3.0.5 | MIT */\n/* eslint-disable no-var */\nfunction assign (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n    for (var key in source) {\n      target[key] = source[key];\n    }\n  }\n  return target\n}\n/* eslint-enable no-var */\n\n/* eslint-disable no-var */\nvar defaultConverter = {\n  read: function (value) {\n    if (value[0] === '\"') {\n      value = value.slice(1, -1);\n    }\n    return value.replace(/(%[\\dA-F]{2})+/gi, decodeURIComponent)\n  },\n  write: function (value) {\n    return encodeURIComponent(value).replace(\n      /%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,\n      decodeURIComponent\n    )\n  }\n};\n/* eslint-enable no-var */\n\n/* eslint-disable no-var */\n\nfunction init (converter, defaultAttributes) {\n  function set (name, value, attributes) {\n    if (typeof document === 'undefined') {\n      return\n    }\n\n    attributes = assign({}, defaultAttributes, attributes);\n\n    if (typeof attributes.expires === 'number') {\n      attributes.expires = new Date(Date.now() + attributes.expires * 864e5);\n    }\n    if (attributes.expires) {\n      attributes.expires = attributes.expires.toUTCString();\n    }\n\n    name = encodeURIComponent(name)\n      .replace(/%(2[346B]|5E|60|7C)/g, decodeURIComponent)\n      .replace(/[()]/g, escape);\n\n    var stringifiedAttributes = '';\n    for (var attributeName in attributes) {\n      if (!attributes[attributeName]) {\n        continue\n      }\n\n      stringifiedAttributes += '; ' + attributeName;\n\n      if (attributes[attributeName] === true) {\n        continue\n      }\n\n      // Considers RFC 6265 section 5.2:\n      // ...\n      // 3.  If the remaining unparsed-attributes contains a %x3B (\";\")\n      //     character:\n      // Consume the characters of the unparsed-attributes up to,\n      // not including, the first %x3B (\";\") character.\n      // ...\n      stringifiedAttributes += '=' + attributes[attributeName].split(';')[0];\n    }\n\n    return (document.cookie =\n      name + '=' + converter.write(value, name) + stringifiedAttributes)\n  }\n\n  function get (name) {\n    if (typeof document === 'undefined' || (arguments.length && !name)) {\n      return\n    }\n\n    // To prevent the for loop in the first place assign an empty array\n    // in case there are no cookies at all.\n    var cookies = document.cookie ? document.cookie.split('; ') : [];\n    var jar = {};\n    for (var i = 0; i < cookies.length; i++) {\n      var parts = cookies[i].split('=');\n      var value = parts.slice(1).join('=');\n\n      try {\n        var found = decodeURIComponent(parts[0]);\n        jar[found] = converter.read(value, found);\n\n        if (name === found) {\n          break\n        }\n      } catch (e) {}\n    }\n\n    return name ? jar[name] : jar\n  }\n\n  return Object.create(\n    {\n      set,\n      get,\n      remove: function (name, attributes) {\n        set(\n          name,\n          '',\n          assign({}, attributes, {\n            expires: -1\n          })\n        );\n      },\n      withAttributes: function (attributes) {\n        return init(this.converter, assign({}, this.attributes, attributes))\n      },\n      withConverter: function (converter) {\n        return init(assign({}, this.converter, converter), this.attributes)\n      }\n    },\n    {\n      attributes: { value: Object.freeze(defaultAttributes) },\n      converter: { value: Object.freeze(converter) }\n    }\n  )\n}\n\nvar api = init(defaultConverter, { path: '/' });\n/* eslint-enable no-var */\n\nexport { api as default };\n","import mobile from \"is-mobile\";\nimport Cookies from \"js-cookie\";\n\nfunction exitBanner() {\n  const modalId = \"exitModal\";\n  const modalWindow = document.querySelector(`#${modalId}`);\n  const modalExists = !!modalWindow;\n  const isMobile = mobile();\n  const modalHasBeenDismissed = !!Cookies.get(`modal.${modalId}`);\n\n  function initModal() {\n    // eslint-disable-next-line no-undef\n    const modal = new bootstrap.Modal(`#${modalId}`);\n    modal.show();\n    // Set cookie - don't show again for 1 day\n    Cookies.set(`modal.${modalId}`, \"1\", { expires: 1 });\n  }\n\n  function assignEventListeners() {\n    if (isMobile) {\n      setTimeout(initModal, 6000);\n    } else {\n      document.addEventListener(\"mouseleave\", initModal, { once: true });\n    }\n  }\n\n  function init() {\n    assignEventListeners();\n    setTrackingParams();\n  }\n\n  function checkIfBootstrapIsLoaded(i = 0) {\n    setTimeout(() => {\n      if (typeof window.bootstrap !== \"undefined\") {\n        init();\n      } else if (i < 10) {\n        checkIfBootstrapIsLoaded(i + 1);\n      }\n    }, 500);\n  }\n\n  if (modalExists && !modalHasBeenDismissed) {\n    checkIfBootstrapIsLoaded();\n  }\n\n  function setTrackingParams() {\n    const referrer = modalWindow.dataset.referrer;\n    const subst = \"_eb\";\n    const result = referrer + subst;\n\n    buildYesBtnLink(result);\n  }\n\n  function buildYesBtnLink(referralVal) {\n    const utmSource = modalWindow.dataset.utmSource;\n    const yesBtnUrl = new URL(\"#quickApp\", location);\n    yesBtnUrl.searchParams.set(\"utm_source\", utmSource);\n    yesBtnUrl.searchParams.set(\"utm_campaign\", referralVal);\n    yesBtnUrl.searchParams.set(\"utm_medium\", \"eb\");\n    yesBtnUrl.searchParams.set(\"r\", referralVal);\n\n    document.getElementById(\"exitbannerLink\").href = yesBtnUrl.href;\n  }\n}\n\nexport default exitBanner();\n","function leadAssist() {\n  const leadAssistBlock = document.querySelector(\"[data-component=\\\"lead-assist\\\"]\");\n  if (!leadAssistBlock) {return;}\n\n  const coll = leadAssistBlock.getElementsByClassName(\"collapsible\");\n  for (let i = 0; i < coll.length; i++) {\n    coll[i].addEventListener(\"click\", function() {\n      addAccordionEventListener(this);\n    });\n  }\n\n  function addAccordionEventListener(element) {\n    element.classList.toggle(\"active\");\n    const content = element.nextElementSibling;\n    if (content) {\n      content.classList.toggle(\"block\");\n    }\n  }\n\n  (function(d, s, id) {\n    let js;\n    const fjs = d.getElementsByTagName(s)[0];\n    if (d.getElementById(id)) {return;}\n    js = d.createElement(s);\n    js.id = id;\n    js.src = \"https://connect.facebook.net/en_US/sdk/xfbml.customerchat.js\";\n    fjs.parentNode.insertBefore(js, fjs);\n  }(document, \"script\", \"facebook-jssdk\"));\n\n  function openForm() {\n    document.getElementById(\"myForm\").style.display = \"block\";\n  }\n\n  function closeForm() {\n    document.getElementById(\"myForm\").style.display = \"none\";\n  }\n}\n\nexport default leadAssist();\n","function navigation() {\n  const mainNav = document.getElementById(\"nav\");\n  const mobileIcon = document.getElementById(\"mobile-icon\");\n  const useElement = document.querySelector(\"#mobile-icon > svg > use\");\n\n  function openCloseMenu() {\n    mainNav.classList.toggle(\"block\");\n    mainNav.classList.toggle(\"active\");\n    useElement.setAttribute(\"xlink:href\", \"#close\");\n    mobileIcon.title = \"Close Menu\";\n\n    // Check if the main nav is clicked closed\n    if (!mainNav.classList.contains(\"block\") && !mainNav.classList.contains(\"active\")) {\n      useElement.setAttribute(\"xlink:href\", \"#solid-bars\");\n      mobileIcon.title = \"Open Menu\";\n    }\n  }\n\n  mobileIcon?.addEventListener(\"click\", openCloseMenu);\n}\n\nexport default navigation();\n","function _isPlaceholder(a){return a!=null&&typeof a==='object'&&a['@@functional/placeholder']===true;}\n\n/**\n * Optimized internal one-arity curry function.\n *\n * @private\n * @category Function\n * @param {Function} fn The function to curry.\n * @return {Function} The curried function.\n */function _curry1(fn){return function f1(a){if(arguments.length===0||_isPlaceholder(a)){return f1;}else {return fn.apply(this,arguments);}};}\n\n/**\n * Optimized internal two-arity curry function.\n *\n * @private\n * @category Function\n * @param {Function} fn The function to curry.\n * @return {Function} The curried function.\n */function _curry2(fn){return function f2(a,b){switch(arguments.length){case 0:return f2;case 1:return _isPlaceholder(a)?f2:_curry1(function(_b){return fn(a,_b);});default:return _isPlaceholder(a)&&_isPlaceholder(b)?f2:_isPlaceholder(a)?_curry1(function(_a){return fn(_a,b);}):_isPlaceholder(b)?_curry1(function(_b){return fn(a,_b);}):fn(a,b);}};}\n\n/**\n * Optimized internal three-arity curry function.\n *\n * @private\n * @category Function\n * @param {Function} fn The function to curry.\n * @return {Function} The curried function.\n */function _curry3(fn){return function f3(a,b,c){switch(arguments.length){case 0:return f3;case 1:return _isPlaceholder(a)?f3:_curry2(function(_b,_c){return fn(a,_b,_c);});case 2:return _isPlaceholder(a)&&_isPlaceholder(b)?f3:_isPlaceholder(a)?_curry2(function(_a,_c){return fn(_a,b,_c);}):_isPlaceholder(b)?_curry2(function(_b,_c){return fn(a,_b,_c);}):_curry1(function(_c){return fn(a,b,_c);});default:return _isPlaceholder(a)&&_isPlaceholder(b)&&_isPlaceholder(c)?f3:_isPlaceholder(a)&&_isPlaceholder(b)?_curry2(function(_a,_b){return fn(_a,_b,c);}):_isPlaceholder(a)&&_isPlaceholder(c)?_curry2(function(_a,_c){return fn(_a,b,_c);}):_isPlaceholder(b)&&_isPlaceholder(c)?_curry2(function(_b,_c){return fn(a,_b,_c);}):_isPlaceholder(a)?_curry1(function(_a){return fn(_a,b,c);}):_isPlaceholder(b)?_curry1(function(_b){return fn(a,_b,c);}):_isPlaceholder(c)?_curry1(function(_c){return fn(a,b,_c);}):fn(a,b,c);}};}\n\nfunction _has(prop,obj){return Object.prototype.hasOwnProperty.call(obj,prop);}\n\n/**\n * Gives a single-word string description of the (native) type of a value,\n * returning such answers as 'Object', 'Number', 'Array', or 'Null'. Does not\n * attempt to distinguish user Object types any further, reporting them all as\n * 'Object'.\n *\n * @func\n * @memberOf R\n * @since v0.8.0\n * @category Type\n * @sig * -> String\n * @param {*} val The value to test\n * @return {String}\n * @example\n *\n *      R.type({}); //=> \"Object\"\n *      R.type(1); //=> \"Number\"\n *      R.type(false); //=> \"Boolean\"\n *      R.type('s'); //=> \"String\"\n *      R.type(null); //=> \"Null\"\n *      R.type([]); //=> \"Array\"\n *      R.type(/[A-z]/); //=> \"RegExp\"\n *      R.type(() => {}); //=> \"Function\"\n *      R.type(async () => {}); //=> \"AsyncFunction\"\n *      R.type(undefined); //=> \"Undefined\"\n *      R.type(BigInt(123)); //=> \"BigInt\"\n */var type=/*#__PURE__*/_curry1(function type(val){return val===null?'Null':val===undefined?'Undefined':Object.prototype.toString.call(val).slice(8,-1);});\n\nfunction _isObject(x){return Object.prototype.toString.call(x)==='[object Object]';}\n\n/**\n * Determine if the passed argument is an integer.\n *\n * @private\n * @param {*} n\n * @category Type\n * @return {Boolean}\n */const _isInteger = Number.isInteger||function _isInteger(n){return n<<0===n;};\n\nfunction _isString(x){return Object.prototype.toString.call(x)==='[object String]';}\n\nfunction _nth(offset,list){var idx=offset<0?list.length+offset:offset;return _isString(list)?list.charAt(idx):list[idx];}\n\nfunction _cloneRegExp(pattern){return new RegExp(pattern.source,pattern.flags?pattern.flags:(pattern.global?'g':'')+(pattern.ignoreCase?'i':'')+(pattern.multiline?'m':'')+(pattern.sticky?'y':'')+(pattern.unicode?'u':'')+(pattern.dotAll?'s':''));}\n\n/**\n * Copies an object.\n *\n * @private\n * @param {*} value The value to be copied\n * @param {Boolean} deep Whether or not to perform deep cloning.\n * @return {*} The copied value.\n */function _clone(value,deep,map){map||(map=new _ObjectMap());// this avoids the slower switch with a quick if decision removing some milliseconds in each run.\nif(_isPrimitive(value)){return value;}var copy=function copy(copiedValue){// Check for circular and same references on the object graph and return its corresponding clone.\nvar cachedCopy=map.get(value);if(cachedCopy){return cachedCopy;}map.set(value,copiedValue);for(var key in value){if(Object.prototype.hasOwnProperty.call(value,key)){copiedValue[key]=_clone(value[key],true,map);}}return copiedValue;};switch(type(value)){case'Object':return copy(Object.create(Object.getPrototypeOf(value)));case'Array':return copy(Array(value.length));case'Date':return new Date(value.valueOf());case'RegExp':return _cloneRegExp(value);case'Int8Array':case'Uint8Array':case'Uint8ClampedArray':case'Int16Array':case'Uint16Array':case'Int32Array':case'Uint32Array':case'Float32Array':case'Float64Array':case'BigInt64Array':case'BigUint64Array':return value.slice();default:return value;}}function _isPrimitive(param){var type=typeof param;return param==null||type!='object'&&type!='function';}var _ObjectMap=/*#__PURE__*/function(){function _ObjectMap(){this.map={};this.length=0;}_ObjectMap.prototype.set=function(key,value){var hashedKey=this.hash(key);var bucket=this.map[hashedKey];if(!bucket){this.map[hashedKey]=bucket=[];}bucket.push([key,value]);this.length+=1;};_ObjectMap.prototype.hash=function(key){var hashedKey=[];for(var value in key){hashedKey.push(Object.prototype.toString.call(key[value]));}return hashedKey.join();};_ObjectMap.prototype.get=function(key){/**\n     * depending on the number of objects to be cloned is faster to just iterate over the items in the map just because the hash function is so costly,\n     * on my tests this number is 180, anything above that using the hash function is faster.\n     */if(this.length<=180){for(var p in this.map){var bucket=this.map[p];for(var i=0;i<bucket.length;i+=1){var element=bucket[i];if(element[0]===key){return element[1];}}}return;}var hashedKey=this.hash(key);var bucket=this.map[hashedKey];if(!bucket){return;}for(var i=0;i<bucket.length;i+=1){var element=bucket[i];if(element[0]===key){return element[1];}}};return _ObjectMap;}();\n\n/**\n * Creates a deep copy of the source that can be used in place of the source\n * object without retaining any references to it.\n * The source object may contain (nested) `Array`s and `Object`s,\n * `Number`s, `String`s, `Boolean`s and `Date`s.\n * `Function`s are assigned by reference rather than copied.\n *\n * Dispatches to a `clone` method if present.\n *\n * Note that if the source object has multiple nodes that share a reference,\n * the returned object will have the same structure, but the references will\n * be pointed to the location within the cloned value.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Object\n * @sig {*} -> {*}\n * @param {*} value The object or array to clone\n * @return {*} A deeply cloned copy of `val`\n * @example\n *\n *      const objects = [{}, {}, {}];\n *      const objectsClone = R.clone(objects);\n *      objects === objectsClone; //=> false\n *      objects[0] === objectsClone[0]; //=> false\n */var clone=/*#__PURE__*/_curry1(function clone(value){return value!=null&&typeof value.clone==='function'?value.clone():_clone(value);});\n\nfunction _path(pathAr,obj){var val=obj;for(var i=0;i<pathAr.length;i+=1){if(val==null){return undefined;}var p=pathAr[i];if(_isInteger(p)){val=_nth(p,val);}else {val=val[p];}}return val;}\n\n/**\n * Creates a new object with the own properties of the two provided objects. If\n * a key exists in both objects, the provided function is applied to the key\n * and the values associated with the key in each object, with the result being\n * used as the value associated with the key in the returned object.\n *\n * @func\n * @memberOf R\n * @since v0.19.0\n * @category Object\n * @sig ((String, a, a) -> a) -> {a} -> {a} -> {a}\n * @param {Function} fn\n * @param {Object} l\n * @param {Object} r\n * @return {Object}\n * @see R.mergeDeepWithKey, R.merge, R.mergeWith\n * @example\n *\n *      let concatValues = (k, l, r) => k == 'values' ? R.concat(l, r) : r\n *      R.mergeWithKey(concatValues,\n *                     { a: true, thing: 'foo', values: [10, 20] },\n *                     { b: true, thing: 'bar', values: [15, 35] });\n *      //=> { a: true, b: true, thing: 'bar', values: [10, 20, 15, 35] }\n * @symb R.mergeWithKey(f, { x: 1, y: 2 }, { y: 5, z: 3 }) = { x: 1, y: f('y', 2, 5), z: 3 }\n */var mergeWithKey=/*#__PURE__*/_curry3(function mergeWithKey(fn,l,r){var result={};var k;l=l||{};r=r||{};for(k in l){if(_has(k,l)){result[k]=_has(k,r)?fn(k,l[k],r[k]):l[k];}}for(k in r){if(_has(k,r)&&!_has(k,result)){result[k]=r[k];}}return result;});\n\n/**\n * Creates a new object with the own properties of the two provided objects.\n * If a key exists in both objects:\n * - and both associated values are also objects then the values will be\n *   recursively merged.\n * - otherwise the provided function is applied to the key and associated values\n *   using the resulting value as the new value associated with the key.\n * If a key only exists in one object, the value will be associated with the key\n * of the resulting object.\n *\n * @func\n * @memberOf R\n * @since v0.24.0\n * @category Object\n * @sig ((String, a, a) -> a) -> {a} -> {a} -> {a}\n * @param {Function} fn\n * @param {Object} lObj\n * @param {Object} rObj\n * @return {Object}\n * @see R.mergeWithKey, R.mergeDeepWith\n * @example\n *\n *      let concatValues = (k, l, r) => k == 'values' ? R.concat(l, r) : r\n *      R.mergeDeepWithKey(concatValues,\n *                         { a: true, c: { thing: 'foo', values: [10, 20] }},\n *                         { b: true, c: { thing: 'bar', values: [15, 35] }});\n *      //=> { a: true, b: true, c: { thing: 'bar', values: [10, 20, 15, 35] }}\n */var mergeDeepWithKey=/*#__PURE__*/_curry3(function mergeDeepWithKey(fn,lObj,rObj){return mergeWithKey(function(k,lVal,rVal){if(_isObject(lVal)&&_isObject(rVal)){return mergeDeepWithKey(fn,lVal,rVal);}else {return fn(k,lVal,rVal);}},lObj,rObj);});\n\n/**\n * Creates a new object with the own properties of the two provided objects.\n * If a key exists in both objects:\n * - and both associated values are also objects then the values will be\n *   recursively merged.\n * - otherwise the provided function is applied to associated values using the\n *   resulting value as the new value associated with the key.\n * If a key only exists in one object, the value will be associated with the key\n * of the resulting object.\n *\n * @func\n * @memberOf R\n * @since v0.24.0\n * @category Object\n * @sig ((a, a) -> a) -> {a} -> {a} -> {a}\n * @param {Function} fn\n * @param {Object} lObj\n * @param {Object} rObj\n * @return {Object}\n * @see R.mergeWith, R.mergeDeepWithKey\n * @example\n *\n *      R.mergeDeepWith(R.concat,\n *                      { a: true, c: { values: [10, 20] }},\n *                      { b: true, c: { values: [15, 35] }});\n *      //=> { a: true, b: true, c: { values: [10, 20, 15, 35] }}\n */var mergeDeepWith=/*#__PURE__*/_curry3(function mergeDeepWith(fn,lObj,rObj){return mergeDeepWithKey(function(k,lVal,rVal){return fn(lVal,rVal);},lObj,rObj);});\n\n/**\n * Retrieves the value at a given path. The nodes of the path can be arbitrary strings or non-negative integers.\n * For anything else, the value is unspecified. Integer paths are meant to index arrays, strings are meant for objects.\n *\n * @func\n * @memberOf R\n * @since v0.2.0\n * @category Object\n * @typedefn Idx = String | Int | Symbol\n * @sig [Idx] -> {a} -> a | Undefined\n * @sig Idx = String | NonNegativeInt\n * @param {Array} path The path to use.\n * @param {Object} obj The object or array to retrieve the nested property from.\n * @return {*} The data at `path`.\n * @see R.prop, R.nth, R.assocPath, R.dissocPath\n * @example\n *\n *      R.path(['a', 'b'], {a: {b: 2}}); //=> 2\n *      R.path(['a', 'b'], {c: {b: 2}}); //=> undefined\n *      R.path(['a', 'b', 0], {a: {b: [1, 2, 3]}}); //=> 1\n *      R.path(['a', 'b', -2], {a: {b: [1, 2, 3]}}); //=> 2\n *      R.path([2], {'2': 2}); //=> 2\n *      R.path([-2], {'-2': 'a'}); //=> undefined\n */var path=/*#__PURE__*/_curry2(_path);\n\n/**\n * Returns a partial copy of an object containing only the keys that satisfy\n * the supplied predicate.\n *\n * @func\n * @memberOf R\n * @since v0.8.0\n * @category Object\n * @sig ((v, k) -> Boolean) -> {k: v} -> {k: v}\n * @param {Function} pred A predicate to determine whether or not a key\n *        should be included on the output object.\n * @param {Object} obj The object to copy from\n * @return {Object} A new object with only properties that satisfy `pred`\n *         on it.\n * @see R.pick, R.filter\n * @example\n *\n *      const isUpperCase = (val, key) => key.toUpperCase() === key;\n *      R.pickBy(isUpperCase, {a: 1, b: 2, A: 3, B: 4}); //=> {A: 3, B: 4}\n */var pickBy=/*#__PURE__*/_curry2(function pickBy(test,obj){var result={};for(var prop in obj){if(test(obj[prop],prop,obj)){result[prop]=obj[prop];}}return result;});\n\n/**\n * A function to check given value is a function\n * @param value input value\n * @returns boolean\n */ // eslint-disable-next-line @typescript-eslint/ban-types\nconst isFunction=value=>typeof value==='function'&&Boolean(value.constructor&&value.call&&value.apply);/**\n * A function to check given value is a string\n * @param value input value\n * @returns boolean\n */const isString=value=>typeof value==='string';/**\n * A function to check given value is null or not\n * @param value input value\n * @returns boolean\n */const isNull=value=>value===null;/**\n * A function to check given value is undefined\n * @param value input value\n * @returns boolean\n */const isUndefined=value=>typeof value==='undefined';/**\n * A function to check given value is null or undefined\n * @param value input value\n * @returns boolean\n */const isNullOrUndefined=value=>isNull(value)||isUndefined(value);/**\n * A function to check given value is defined\n * @param value input value\n * @returns boolean\n */const isDefined=value=>!isUndefined(value);/**\n * A function to check given value is defined and not null\n * @param value input value\n * @returns boolean\n */const isDefinedAndNotNull=value=>!isNullOrUndefined(value);/**\n * A function to check given value is defined and not null\n * @param value input value\n * @returns boolean\n */const isDefinedNotNullAndNotEmptyString=value=>isDefinedAndNotNull(value)&&value!=='';/**\n * Determines if the input is an instance of Error\n * @param obj input value\n * @returns true if the input is an instance of Error and false otherwise\n */const isTypeOfError=obj=>obj instanceof Error;\n\nconst getValueByPath=(obj,keyPath)=>{const pathParts=keyPath.split('.');return path(pathParts,obj);};const hasValueByPath=(obj,path)=>Boolean(getValueByPath(obj,path));/**\n * Checks if the input is an object literal or built-in object type and not null\n * @param value Input value\n * @returns true if the input is an object and not null\n */const isObjectAndNotNull=value=>!isNull(value)&&typeof value==='object'&&!Array.isArray(value);/**\n * Checks if the input is an object literal and not null\n * @param value Input value\n * @returns true if the input is an object and not null\n */const isObjectLiteralAndNotNull=value=>!isNull(value)&&Object.prototype.toString.call(value)==='[object Object]';const mergeDeepRightObjectArrays=(leftValue,rightValue)=>{if(!Array.isArray(leftValue)||!Array.isArray(rightValue)){return clone(rightValue);}const mergedArray=clone(leftValue);rightValue.forEach((value,index)=>{mergedArray[index]=Array.isArray(value)||isObjectAndNotNull(value)?// eslint-disable-next-line @typescript-eslint/no-use-before-define\nmergeDeepRight(mergedArray[index],value):value;});return mergedArray;};const mergeDeepRight=(leftObject,rightObject)=>mergeDeepWith(mergeDeepRightObjectArrays,leftObject,rightObject);/**\n Checks if the input is a non-empty object literal type and not undefined or null\n * @param value input any\n * @returns boolean\n */const isNonEmptyObject=value=>isObjectLiteralAndNotNull(value)&&Object.keys(value).length>0;/**\n * A utility to recursively remove undefined values from an object\n * @param obj input object\n * @returns a new object\n */const removeUndefinedValues=obj=>{const result=pickBy(isDefined,obj);Object.keys(result).forEach(key=>{const value=result[key];if(isObjectLiteralAndNotNull(value)){result[key]=removeUndefinedValues(value);}});return result;};/**\n * A utility to recursively remove undefined and null values from an object\n * @param obj input object\n * @returns a new object\n */const removeUndefinedAndNullValues=obj=>{const result=pickBy(isDefinedAndNotNull,obj);Object.keys(result).forEach(key=>{const value=result[key];if(isObjectLiteralAndNotNull(value)){result[key]=removeUndefinedAndNullValues(value);}});return result;};\n\nconst trim=value=>value.replace(/^\\s+|\\s+$/gm,'');const removeDoubleSpaces=value=>value.replace(/ {2,}/g,' ');const removeLeadingPeriod=value=>value.replace(/^\\.+/,'');/**\n * A function to convert values to string\n * @param val input value\n * @returns stringified value\n */const tryStringify=val=>{let retVal=val;if(!isString(val)&&!isNullOrUndefined(val)){try{retVal=JSON.stringify(val);}catch(e){retVal=null;}}return retVal;};// The following text encoding and decoding is done before base64 encoding to prevent\n/**\n * Converts a bytes array to base64 encoded string\n * @param bytes bytes array to be converted to base64\n * @returns base64 encoded string\n */const bytesToBase64=bytes=>{const binString=Array.from(bytes,x=>String.fromCodePoint(x)).join('');return globalThis.btoa(binString);};/**\n * Encodes a string to base64 even with unicode characters\n * @param value input string\n * @returns base64 encoded string\n */const toBase64=value=>bytesToBase64(new TextEncoder().encode(value));\n\n//   if yes make them null instead of omitting in overloaded cases\n/*\n * Normalise the overloaded arguments of the page call facade\n */const pageArgumentsToCallOptions=(category,name,properties,options,callback)=>{const payload={category:category,name:name,properties:properties,options:options};if(isFunction(callback)){payload.callback=callback;}if(isFunction(options)){payload.category=category;payload.name=name;payload.properties=properties;delete payload.options;payload.callback=options;}if(isFunction(properties)){payload.category=category;payload.name=name;delete payload.properties;delete payload.options;payload.callback=properties;}if(isFunction(name)){payload.category=category;delete payload.name;delete payload.properties;delete payload.options;payload.callback=name;}if(isFunction(category)){delete payload.category;delete payload.name;delete payload.properties;delete payload.options;payload.callback=category;}if(isObjectLiteralAndNotNull(category)){delete payload.name;delete payload.category;payload.properties=category;payload.options=name;}else if(isObjectLiteralAndNotNull(name)){delete payload.name;payload.properties=name;payload.options=!isFunction(properties)?properties:null;}// if the category argument alone is provided b/w category and name,\n// use it as name and set category to undefined\nif(isString(category)&&!isString(name)){delete payload.category;payload.name=category;}// Rest of the code is just to clean up undefined values\n// and set some proper defaults\n// Also, to clone the incoming object type arguments\nif(!isDefined(payload.category)){delete payload.category;}if(!isDefined(payload.name)){delete payload.name;}payload.properties=payload.properties?clone(payload.properties):{};if(isDefined(payload.options)){payload.options=clone(payload.options);}else {delete payload.options;}// add name and category to properties\npayload.properties=mergeDeepRight(isObjectLiteralAndNotNull(payload.properties)?payload.properties:{},{name:isString(payload.name)?payload.name:null,category:isString(payload.category)?payload.category:null});return payload;};/*\n * Normalise the overloaded arguments of the track call facade\n */const trackArgumentsToCallOptions=(event,properties,options,callback)=>{const payload={name:event,properties:properties,options:options};if(isFunction(callback)){payload.callback=callback;}if(isFunction(options)){payload.properties=properties;delete payload.options;payload.callback=options;}if(isFunction(properties)){delete payload.properties;delete payload.options;payload.callback=properties;}// Rest of the code is just to clean up undefined values\n// and set some proper defaults\n// Also, to clone the incoming object type arguments\npayload.properties=isDefinedAndNotNull(payload.properties)?clone(payload.properties):{};if(isDefined(payload.options)){payload.options=clone(payload.options);}else {delete payload.options;}return payload;};/*\n * Normalise the overloaded arguments of the identify call facade\n */const identifyArgumentsToCallOptions=(userId,traits,options,callback)=>{const payload={userId:userId,traits:traits,options:options};if(isFunction(callback)){payload.callback=callback;}if(isFunction(options)){payload.userId=userId;payload.traits=traits;delete payload.options;payload.callback=options;}if(isFunction(traits)){payload.userId=userId;delete payload.traits;delete payload.options;payload.callback=traits;}if(isObjectLiteralAndNotNull(userId)||isNull(userId)){// Explicitly set null to prevent resetting the existing value\n// in the Analytics class\npayload.userId=null;payload.traits=userId;payload.options=traits;}// Rest of the code is just to clean up undefined values\n// and set some proper defaults\n// Also, to clone the incoming object type arguments\nif(isDefined(payload.userId)){payload.userId=tryStringify(payload.userId);}else {delete payload.userId;}if(isObjectLiteralAndNotNull(payload.traits)){payload.traits=clone(payload.traits);}else {delete payload.traits;}if(isDefined(payload.options)){payload.options=clone(payload.options);}else {delete payload.options;}return payload;};/*\n * Normalise the overloaded arguments of the alias call facade\n */const aliasArgumentsToCallOptions=(to,from,options,callback)=>{const payload={to:to,from:from,options:options};if(isFunction(callback)){payload.callback=callback;}if(isFunction(options)){payload.to=to;payload.from=from;delete payload.options;payload.callback=options;}if(isFunction(from)){payload.to=to;delete payload.from;delete payload.options;payload.callback=from;}else if(isObjectLiteralAndNotNull(from)||isNull(from)){payload.to=to;delete payload.from;payload.options=from;}if(isFunction(to)){delete payload.to;delete payload.from;delete payload.options;payload.callback=to;}else if(isObjectLiteralAndNotNull(to)||isNull(to)){delete payload.to;delete payload.from;payload.options=to;}// Rest of the code is just to clean up undefined values\n// and set some proper defaults\n// Also, to clone the incoming object type arguments\nif(isDefined(payload.to)){payload.to=tryStringify(payload.to);}else {delete payload.to;}if(isDefined(payload.from)){payload.from=tryStringify(payload.from);}else {delete payload.from;}if(isDefined(payload.options)){payload.options=clone(payload.options);}else {delete payload.options;}return payload;};/*\n * Normalise the overloaded arguments of the group call facade\n */const groupArgumentsToCallOptions=(groupId,traits,options,callback)=>{const payload={groupId:groupId,traits:traits,options:options};if(isFunction(callback)){payload.callback=callback;}if(isFunction(options)){payload.groupId=groupId;payload.traits=traits;delete payload.options;payload.callback=options;}if(isFunction(traits)){payload.groupId=groupId;delete payload.traits;delete payload.options;payload.callback=traits;}// TODO: why do we enable overload for group that only passes callback? is there any use case?\nif(isFunction(groupId)){// Explicitly set null to prevent resetting the existing value\npayload.groupId=null;delete payload.traits;delete payload.options;payload.callback=groupId;}else if(isObjectLiteralAndNotNull(groupId)||isNull(groupId)){// Explicitly set null to prevent resetting the existing value\n// in the Analytics class\npayload.groupId=null;payload.traits=groupId;payload.options=!isFunction(traits)?traits:null;}// Rest of the code is just to clean up undefined values\n// and set some proper defaults\n// Also, to clone the incoming object type arguments\nif(isDefined(payload.groupId)){payload.groupId=tryStringify(payload.groupId);}else {delete payload.groupId;}payload.traits=isObjectLiteralAndNotNull(payload.traits)?clone(payload.traits):{};if(isDefined(payload.options)){payload.options=clone(payload.options);}else {delete payload.options;}return payload;};\n\nconst CAPABILITIES_MANAGER='CapabilitiesManager';const CONFIG_MANAGER='ConfigManager';const EVENT_MANAGER='EventManager';const PLUGINS_MANAGER='PluginsManager';const USER_SESSION_MANAGER='UserSessionManager';const ERROR_HANDLER='ErrorHandler';const PLUGIN_ENGINE='PluginEngine';const STORE_MANAGER='StoreManager';const READY_API='readyApi';const EVENT_REPOSITORY='EventRepository';const EXTERNAL_SRC_LOADER='ExternalSrcLoader';const HTTP_CLIENT='HttpClient';const RS_APP='RudderStackApplication';const ANALYTICS_CORE='AnalyticsCore';\n\nconst APP_NAME='RudderLabs JavaScript SDK';const APP_VERSION='3.6.1';const APP_NAMESPACE='com.rudderlabs.javascript';const MODULE_TYPE='npm';const ADBLOCK_PAGE_CATEGORY='RudderJS-Initiated';const ADBLOCK_PAGE_NAME='ad-block page request';const ADBLOCK_PAGE_PATH='/ad-blocked';const GLOBAL_PRELOAD_BUFFER='preloadedEventsBuffer';const CONSENT_TRACK_EVENT_NAME='Consent Management Interaction';\n\nconst QUERY_PARAM_TRAIT_PREFIX='ajs_trait_';const QUERY_PARAM_PROPERTY_PREFIX='ajs_prop_';const QUERY_PARAM_ANONYMOUS_ID_KEY='ajs_aid';const QUERY_PARAM_USER_ID_KEY='ajs_uid';const QUERY_PARAM_TRACK_EVENT_NAME_KEY='ajs_event';\n\nconst DEFAULT_XHR_TIMEOUT_MS=10*1000;// 10 seconds\nconst DEFAULT_COOKIE_MAX_AGE_MS=31536000*1000;// 1 year\nconst DEFAULT_SESSION_TIMEOUT_MS=30*60*1000;// 30 minutes\nconst MIN_SESSION_TIMEOUT_MS=10*1000;// 10 seconds\nconst DEFAULT_DATA_PLANE_EVENTS_BUFFER_TIMEOUT_MS=10*1000;// 10 seconds\nconst DEBOUNCED_TIMEOUT_MS=250;// 250 milliseconds\n\n/**\n * Create globally accessible RudderStackGlobals object\n */const createExposedGlobals=(analyticsInstanceId='app')=>{if(!globalThis.RudderStackGlobals){globalThis.RudderStackGlobals={};}if(!globalThis.RudderStackGlobals[analyticsInstanceId]){globalThis.RudderStackGlobals[analyticsInstanceId]={};}};/**\n * Add move values to globally accessible RudderStackGlobals object per analytics instance\n */const setExposedGlobal=(keyName,value,analyticsInstanceId='app')=>{createExposedGlobals(analyticsInstanceId);globalThis.RudderStackGlobals[analyticsInstanceId][keyName]=value;};/**\n * Get values from globally accessible RudderStackGlobals object by analytics instance\n */const getExposedGlobal=(keyName,analyticsInstanceId='app')=>{createExposedGlobals(analyticsInstanceId);return globalThis.RudderStackGlobals[analyticsInstanceId][keyName];};function debounce(func,thisArg,delay=DEBOUNCED_TIMEOUT_MS){let timeoutId;return (...args)=>{globalThis.clearTimeout(timeoutId);timeoutId=globalThis.setTimeout(()=>{func.apply(thisArg,args);},delay);};}\n\n/**\n * Parse query string params into object values for keys that start with a defined prefix\n */const getEventDataFromQueryString=(params,dataTypeNamePrefix)=>{const data={};params.forEach((value,key)=>{if(key.startsWith(dataTypeNamePrefix)){// remove prefix from key name\nconst dataKey=key.substring(dataTypeNamePrefix.length);// add new key value pair in generated object\ndata[dataKey]=params.get(key);}});return data;};/**\n * Parse query string into preload buffer events & push into existing array before any other events\n */const retrieveEventsFromQueryString=(argumentsArray=[])=>{// Mapping for trait and properties values based on key prefix\nconst eventArgumentToQueryParamMap={trait:QUERY_PARAM_TRAIT_PREFIX,properties:QUERY_PARAM_PROPERTY_PREFIX};const queryObject=new URLSearchParams(globalThis.location.search);// Add track events with name and properties\nif(queryObject.get(QUERY_PARAM_TRACK_EVENT_NAME_KEY)){argumentsArray.unshift(['track',queryObject.get(QUERY_PARAM_TRACK_EVENT_NAME_KEY),getEventDataFromQueryString(queryObject,eventArgumentToQueryParamMap.properties)]);}// Set userId and user traits\nif(queryObject.get(QUERY_PARAM_USER_ID_KEY)){argumentsArray.unshift(['identify',queryObject.get(QUERY_PARAM_USER_ID_KEY),getEventDataFromQueryString(queryObject,eventArgumentToQueryParamMap.trait)]);}// Set anonymousID\nif(queryObject.get(QUERY_PARAM_ANONYMOUS_ID_KEY)){argumentsArray.unshift(['setAnonymousId',queryObject.get(QUERY_PARAM_ANONYMOUS_ID_KEY)]);}};/**\n * Retrieve an existing buffered load method call and remove from the existing array\n */const getPreloadedLoadEvent=preloadedEventsArray=>{const loadMethodName='load';let loadEvent=[];/**\n   * Iterate the buffered API calls until we find load call and process it separately\n   */let i=0;while(i<preloadedEventsArray.length){if(preloadedEventsArray[i]&&preloadedEventsArray[i][0]===loadMethodName){loadEvent=clone(preloadedEventsArray[i]);preloadedEventsArray.splice(i,1);break;}i+=1;}return loadEvent;};/**\n * Promote consent events to the top of the preloaded events array\n * @param preloadedEventsArray Preloaded events array\n * @returns None\n */const promotePreloadedConsentEventsToTop=preloadedEventsArray=>{const consentMethodName='consent';const consentEvents=preloadedEventsArray.filter(bufferedEvent=>bufferedEvent[0]===consentMethodName);const nonConsentEvents=preloadedEventsArray.filter(bufferedEvent=>bufferedEvent[0]!==consentMethodName);// Remove all elements and add consent events first followed by non consent events\n// eslint-disable-next-line unicorn/no-useless-spread\npreloadedEventsArray.splice(0,preloadedEventsArray.length,...consentEvents,...nonConsentEvents);};/**\n * Retrieve any existing events that were triggered before SDK load and enqueue in buffer\n */const retrievePreloadBufferEvents=instance=>{const preloadedEventsArray=getExposedGlobal(GLOBAL_PRELOAD_BUFFER)||[];// Get events that are pre-populated via query string params\nretrieveEventsFromQueryString(preloadedEventsArray);// Enqueue the non load events in the buffer of the global rudder analytics singleton\nif(preloadedEventsArray.length>0){instance.enqueuePreloadBufferEvents(preloadedEventsArray);setExposedGlobal(GLOBAL_PRELOAD_BUFFER,[]);}};const consumePreloadBufferedEvent=(event,analyticsInstance)=>{const methodName=event.shift();let callOptions;if(isFunction(analyticsInstance[methodName])){switch(methodName){case'page':callOptions=pageArgumentsToCallOptions(...event);break;case'track':callOptions=trackArgumentsToCallOptions(...event);break;case'identify':callOptions=identifyArgumentsToCallOptions(...event);break;case'alias':callOptions=aliasArgumentsToCallOptions(...event);break;case'group':callOptions=groupArgumentsToCallOptions(...event);break;default:analyticsInstance[methodName](...event);break;}if(callOptions){analyticsInstance[methodName](callOptions);}}};\n\nconst DEFAULT_EXT_SRC_LOAD_TIMEOUT_MS=10*1000;// 10 seconds\n\nconst LOG_CONTEXT_SEPARATOR=':: ';const SCRIPT_ALREADY_EXISTS_ERROR=id=>`A script with the id \"${id}\" is already loaded. Skipping the loading of this script to prevent conflicts.`;const SCRIPT_LOAD_ERROR=(id,url)=>`Failed to load the script with the id \"${id}\" from URL \"${url}\".`;const SCRIPT_LOAD_TIMEOUT_ERROR=(id,url,timeout)=>`A timeout of ${timeout} ms occurred while trying to load the script with id \"${id}\" from URL \"${url}\".`;const CIRCULAR_REFERENCE_WARNING=(context,key)=>`${context}${LOG_CONTEXT_SEPARATOR}A circular reference has been detected in the object and the property \"${key}\" has been dropped from the output.`;const JSON_STRINGIFY_WARNING=`Failed to convert the value to a JSON string.`;\n\nconst JSON_STRINGIFY='JSONStringify';const getCircularReplacer=(excludeNull,excludeKeys,logger)=>{const ancestors=[];// Here we do not want to use arrow function to use \"this\" in function context\n// eslint-disable-next-line func-names\nreturn function(key,value){if(excludeKeys?.includes(key)){return undefined;}if(excludeNull&&isNullOrUndefined(value)){return undefined;}if(typeof value!=='object'||isNull(value)){return value;}// `this` is the object that value is contained in, i.e., its direct parent.\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore-next-line\nwhile(ancestors.length>0&&ancestors[ancestors.length-1]!==this){ancestors.pop();}if(ancestors.includes(value)){logger?.warn(CIRCULAR_REFERENCE_WARNING(JSON_STRINGIFY,key));return '[Circular Reference]';}ancestors.push(value);return value;};};/**\n * Utility method for JSON stringify object excluding null values & circular references\n *\n * @param {*} value input\n * @param {boolean} excludeNull if it should exclude nul or not\n * @param {function} logger optional logger methods for warning\n * @returns string\n */const stringifyWithoutCircular=(value,excludeNull,excludeKeys,logger)=>{try{return JSON.stringify(value,getCircularReplacer(excludeNull,excludeKeys,logger));}catch(err){logger?.warn(JSON_STRINGIFY_WARNING,err);return null;}};\n\n/**\n * Get mutated error with issue prepended to error message\n * @param err Original error\n * @param issue Issue to prepend to error message\n * @returns Instance of Error with message prepended with issue\n */const getMutatedError=(err,issue)=>{let finalError=err;if(!isTypeOfError(err)){finalError=new Error(`${issue}: ${stringifyWithoutCircular(err)}`);}else {finalError.message=`${issue}: ${err.message}`;}return finalError;};\n\nconst EXTERNAL_SOURCE_LOAD_ORIGIN='RS_JS_SDK';\n\n/**\n * Create the DOM element to load a script marked as RS SDK originated\n *\n * @param {*} url The URL of the script to be loaded\n * @param {*} id ID for the script tag\n * @param {*} async Whether to load the script in async mode. Defaults to `true` [optional]\n * @param {*} onload callback to invoke onload [optional]\n * @param {*} onerror callback to invoke onerror [optional]\n * @param {*} extraAttributes key/value pair with html attributes to add in html tag [optional]\n *\n * @returns HTMLScriptElement\n */const createScriptElement=(url,id,async=true,onload=null,onerror=null,extraAttributes={})=>{const scriptElement=document.createElement('script');scriptElement.type='text/javascript';scriptElement.onload=onload;scriptElement.onerror=onerror;scriptElement.src=url;scriptElement.id=id;scriptElement.async=async;Object.keys(extraAttributes).forEach(attributeName=>{scriptElement.setAttribute(attributeName,extraAttributes[attributeName]);});scriptElement.setAttribute('data-loader',EXTERNAL_SOURCE_LOAD_ORIGIN);return scriptElement;};/**\n * Add script DOM element to DOM\n *\n * @param {*} newScriptElement the script element to add\n *\n * @returns\n */const insertScript=newScriptElement=>{// First try to add it to the head\nconst headElements=document.getElementsByTagName('head');if(headElements.length>0){headElements[0]?.insertBefore(newScriptElement,headElements[0]?.firstChild);return;}// Else wise add it before the first script tag\nconst scriptElements=document.getElementsByTagName('script');if(scriptElements.length>0&&scriptElements[0]?.parentNode){scriptElements[0]?.parentNode.insertBefore(newScriptElement,scriptElements[0]);return;}// Create a new head element and add the script as fallback\nconst headElement=document.createElement('head');headElement.appendChild(newScriptElement);const htmlElement=document.getElementsByTagName('html')[0];htmlElement?.insertBefore(headElement,htmlElement.firstChild);};/**\n * Loads external js file as a script html tag\n *\n * @param {*} url The URL of the script to be loaded\n * @param {*} id ID for the script tag\n * @param {*} timeout loading timeout\n * @param {*} async Whether to load the script in async mode. Defaults to `true` [optional]\n * @param {*} extraAttributes key/value pair with html attributes to add in html tag [optional]\n *\n * @returns\n */const jsFileLoader=(url,id,timeout,async=true,extraAttributes)=>new Promise((resolve,reject)=>{const scriptExists=document.getElementById(id);if(scriptExists){reject(new Error(SCRIPT_ALREADY_EXISTS_ERROR(id)));}try{let timeoutID;const onload=()=>{globalThis.clearTimeout(timeoutID);resolve(id);};const onerror=()=>{globalThis.clearTimeout(timeoutID);reject(new Error(SCRIPT_LOAD_ERROR(id,url)));};// Create the DOM element to load the script and add it to the DOM\ninsertScript(createScriptElement(url,id,async,onload,onerror,extraAttributes));// Reject on timeout\ntimeoutID=globalThis.setTimeout(()=>{reject(new Error(SCRIPT_LOAD_TIMEOUT_ERROR(id,url,timeout)));},timeout);}catch(err){reject(getMutatedError(err,SCRIPT_LOAD_ERROR(id,url)));}});\n\n/**\n * Service to load external resources/files\n */class ExternalSrcLoader{hasErrorHandler=false;constructor(errorHandler,logger,timeout=DEFAULT_EXT_SRC_LOAD_TIMEOUT_MS){this.errorHandler=errorHandler;this.logger=logger;this.timeout=timeout;this.hasErrorHandler=Boolean(this.errorHandler);this.onError=this.onError.bind(this);}/**\n   * Load external resource of type javascript\n   */loadJSFile(config){const{url,id,timeout,async,callback,extraAttributes}=config;const isFireAndForget=!isFunction(callback);jsFileLoader(url,id,timeout||this.timeout,async,extraAttributes).then(id=>{if(!isFireAndForget){callback(id);}}).catch(err=>{this.onError(err);if(!isFireAndForget){callback();}});}/**\n   * Handle errors\n   */onError(error){if(this.hasErrorHandler){this.errorHandler?.onError(error,EXTERNAL_SRC_LOADER);}else {throw error;}}}\n\nvar i=Symbol.for(\"preact-signals\");function t(){if(!(s>1)){var i,t=!1;while(void 0!==h){var r=h;h=void 0;f++;while(void 0!==r){var o=r.o;r.o=void 0;r.f&=-3;if(!(8&r.f)&&c(r))try{r.c();}catch(r){if(!t){i=r;t=!0;}}r=o;}}f=0;s--;if(t)throw i;}else s--;}function r(i){if(s>0)return i();s++;try{return i();}finally{t();}}var o=void 0;var h=void 0,s=0,f=0,v=0;function e(i){if(void 0!==o){var t=i.n;if(void 0===t||t.t!==o){t={i:0,S:i,p:o.s,n:void 0,t:o,e:void 0,x:void 0,r:t};if(void 0!==o.s)o.s.n=t;o.s=t;i.n=t;if(32&o.f)i.S(t);return t;}else if(-1===t.i){t.i=0;if(void 0!==t.n){t.n.p=t.p;if(void 0!==t.p)t.p.n=t.n;t.p=o.s;t.n=void 0;o.s.n=t;o.s=t;}return t;}}}function u(i){this.v=i;this.i=0;this.n=void 0;this.t=void 0;}u.prototype.brand=i;u.prototype.h=function(){return !0;};u.prototype.S=function(i){if(this.t!==i&&void 0===i.e){i.x=this.t;if(void 0!==this.t)this.t.e=i;this.t=i;}};u.prototype.U=function(i){if(void 0!==this.t){var t=i.e,r=i.x;if(void 0!==t){t.x=r;i.e=void 0;}if(void 0!==r){r.e=t;i.x=void 0;}if(i===this.t)this.t=r;}};u.prototype.subscribe=function(i){var t=this;return E(function(){var r=t.value,n=o;o=void 0;try{i(r);}finally{o=n;}});};u.prototype.valueOf=function(){return this.value;};u.prototype.toString=function(){return this.value+\"\";};u.prototype.toJSON=function(){return this.value;};u.prototype.peek=function(){var i=o;o=void 0;try{return this.value;}finally{o=i;}};Object.defineProperty(u.prototype,\"value\",{get:function(){var i=e(this);if(void 0!==i)i.i=this.i;return this.v;},set:function(i){if(i!==this.v){if(f>100)throw new Error(\"Cycle detected\");this.v=i;this.i++;v++;s++;try{for(var r=this.t;void 0!==r;r=r.x)r.t.N();}finally{t();}}}});function d(i){return new u(i);}function c(i){for(var t=i.s;void 0!==t;t=t.n)if(t.S.i!==t.i||!t.S.h()||t.S.i!==t.i)return !0;return !1;}function a(i){for(var t=i.s;void 0!==t;t=t.n){var r=t.S.n;if(void 0!==r)t.r=r;t.S.n=t;t.i=-1;if(void 0===t.n){i.s=t;break;}}}function l(i){var t=i.s,r=void 0;while(void 0!==t){var o=t.p;if(-1===t.i){t.S.U(t);if(void 0!==o)o.n=t.n;if(void 0!==t.n)t.n.p=o;}else r=t;t.S.n=t.r;if(void 0!==t.r)t.r=void 0;t=o;}i.s=r;}function y(i){u.call(this,void 0);this.x=i;this.s=void 0;this.g=v-1;this.f=4;}(y.prototype=new u()).h=function(){this.f&=-3;if(1&this.f)return !1;if(32==(36&this.f))return !0;this.f&=-5;if(this.g===v)return !0;this.g=v;this.f|=1;if(this.i>0&&!c(this)){this.f&=-2;return !0;}var i=o;try{a(this);o=this;var t=this.x();if(16&this.f||this.v!==t||0===this.i){this.v=t;this.f&=-17;this.i++;}}catch(i){this.v=i;this.f|=16;this.i++;}o=i;l(this);this.f&=-2;return !0;};y.prototype.S=function(i){if(void 0===this.t){this.f|=36;for(var t=this.s;void 0!==t;t=t.n)t.S.S(t);}u.prototype.S.call(this,i);};y.prototype.U=function(i){if(void 0!==this.t){u.prototype.U.call(this,i);if(void 0===this.t){this.f&=-33;for(var t=this.s;void 0!==t;t=t.n)t.S.U(t);}}};y.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var i=this.t;void 0!==i;i=i.x)i.t.N();}};Object.defineProperty(y.prototype,\"value\",{get:function(){if(1&this.f)throw new Error(\"Cycle detected\");var i=e(this);this.h();if(void 0!==i)i.i=this.i;if(16&this.f)throw this.v;return this.v;}});function _(i){var r=i.u;i.u=void 0;if(\"function\"==typeof r){s++;var n=o;o=void 0;try{r();}catch(t){i.f&=-2;i.f|=8;g(i);throw t;}finally{o=n;t();}}}function g(i){for(var t=i.s;void 0!==t;t=t.n)t.S.U(t);i.x=void 0;i.s=void 0;_(i);}function p(i){if(o!==this)throw new Error(\"Out-of-order effect\");l(this);o=i;this.f&=-2;if(8&this.f)g(this);t();}function b(i){this.x=i;this.u=void 0;this.s=void 0;this.o=void 0;this.f=32;}b.prototype.c=function(){var i=this.S();try{if(8&this.f)return;if(void 0===this.x)return;var t=this.x();if(\"function\"==typeof t)this.u=t;}finally{i();}};b.prototype.S=function(){if(1&this.f)throw new Error(\"Cycle detected\");this.f|=1;this.f&=-9;_(this);a(this);s++;var i=o;o=this;return p.bind(this,i);};b.prototype.N=function(){if(!(2&this.f)){this.f|=2;this.o=h;h=this;}};b.prototype.d=function(){this.f|=8;if(!(1&this.f))g(this);};function E(i){var t=new b(i);try{t.c();}catch(i){t.d();throw i;}return t.d.bind(t);}\n\n/**\n * A buffer queue to serve as a store for any type of data\n */class BufferQueue{constructor(){this.items=[];}enqueue(item){this.items.push(item);}dequeue(){if(this.items.length===0){return null;}return this.items.shift();}isEmpty(){return this.items.length===0;}size(){return this.items.length;}clear(){this.items=[];}}\n\nconst LOG_LEVEL_MAP={LOG:0,INFO:1,DEBUG:2,WARN:3,ERROR:4,NONE:5};const DEFAULT_LOG_LEVEL='ERROR';const LOG_MSG_PREFIX='RS SDK';const LOG_MSG_PREFIX_STYLE='font-weight: bold; background: black; color: white;';const LOG_MSG_STYLE='font-weight: normal;';/**\n * Service to log messages/data to output provider, default is console\n */class Logger{constructor(minLogLevel=DEFAULT_LOG_LEVEL,scope='',logProvider=console){this.minLogLevel=LOG_LEVEL_MAP[minLogLevel];this.scope=scope;this.logProvider=logProvider;}log(...data){this.outputLog('LOG',data);}info(...data){this.outputLog('INFO',data);}debug(...data){this.outputLog('DEBUG',data);}warn(...data){this.outputLog('WARN',data);}error(...data){this.outputLog('ERROR',data);}outputLog(logMethod,data){if(this.minLogLevel<=LOG_LEVEL_MAP[logMethod]){this.logProvider[logMethod.toLowerCase()]?.(...this.formatLogData(data));}}setScope(scopeVal){this.scope=scopeVal||this.scope;}// TODO: should we allow to change the level via global variable on run time\n//  to assist on the fly debugging?\nsetMinLogLevel(logLevel){this.minLogLevel=LOG_LEVEL_MAP[logLevel];if(isUndefined(this.minLogLevel)){this.minLogLevel=LOG_LEVEL_MAP[DEFAULT_LOG_LEVEL];}}/**\n   * Formats the console message using `scope` and styles\n   */formatLogData(data){if(Array.isArray(data)&&data.length>0){// prefix SDK identifier\nlet msg=`%c ${LOG_MSG_PREFIX}`;// format the log message using `scope`\nif(this.scope){msg=`${msg} - ${this.scope}`;}// trim whitespaces for original message\nconst originalMsg=isString(data[0])?data[0].trim():'';// prepare the final message\nmsg=`${msg} %c ${originalMsg}`;const styledLogArgs=[msg,LOG_MSG_PREFIX_STYLE,// add style for the prefix\nLOG_MSG_STYLE// reset the style for the actual message\n];// add first it if it was not a string msg\nif(!isString(data[0])){styledLogArgs.push(data[0]);}// append rest of the original arguments\nstyledLogArgs.push(...data.slice(1));return styledLogArgs;}return data;}}const defaultLogger=new Logger();\n\n// default is v3\nconst SUPPORTED_STORAGE_TYPES=['localStorage','memoryStorage','cookieStorage','sessionStorage','none'];const DEFAULT_STORAGE_TYPE='cookieStorage';\n\nconst SOURCE_CONFIG_OPTION_ERROR=`\"getSourceConfig\" must be a function. Please make sure that it is defined and returns a valid source configuration object.`;const SOURCE_CONFIG_RESOLUTION_ERROR=`Unable to process/parse source configuration response.`;const SOURCE_DISABLED_ERROR=`The source is disabled. Please enable the source in the dashboard to send events.`;const XHR_PAYLOAD_PREP_ERROR=`Failed to prepare data for the request.`;const EVENT_OBJECT_GENERATION_ERROR=`Failed to generate the event object.`;const PLUGIN_EXT_POINT_MISSING_ERROR=`Failed to invoke plugin because the extension point name is missing.`;const PLUGIN_EXT_POINT_INVALID_ERROR=`Failed to invoke plugin because the extension point name is invalid.`;const COMPONENT_BASE_URL_ERROR=component=>`Failed to load the SDK as the base URL for ${component} is not valid.`;// ERROR\nconst UNSUPPORTED_CONSENT_MANAGER_ERROR=(context,selectedConsentManager,consentManagersToPluginNameMap)=>`${context}${LOG_CONTEXT_SEPARATOR}The consent manager \"${selectedConsentManager}\" is not supported. Please choose one of the following supported consent managers: \"${Object.keys(consentManagersToPluginNameMap)}\".`;const REPORTING_PLUGIN_INIT_FAILURE_ERROR=context=>`${context}${LOG_CONTEXT_SEPARATOR}Failed to initialize the error reporting plugin.`;const NOTIFY_FAILURE_ERROR=context=>`${context}${LOG_CONTEXT_SEPARATOR}Failed to notify the error.`;const PLUGIN_NAME_MISSING_ERROR=context=>`${context}${LOG_CONTEXT_SEPARATOR}Plugin name is missing.`;const PLUGIN_ALREADY_EXISTS_ERROR=(context,pluginName)=>`${context}${LOG_CONTEXT_SEPARATOR}Plugin \"${pluginName}\" already exists.`;const PLUGIN_NOT_FOUND_ERROR=(context,pluginName)=>`${context}${LOG_CONTEXT_SEPARATOR}Plugin \"${pluginName}\" not found.`;const PLUGIN_ENGINE_BUG_ERROR=(context,pluginName)=>`${context}${LOG_CONTEXT_SEPARATOR}Plugin \"${pluginName}\" not found in plugins but found in byName. This indicates a bug in the plugin engine. Please report this issue to the development team.`;const PLUGIN_DEPS_ERROR=(context,pluginName,notExistDeps)=>`${context}${LOG_CONTEXT_SEPARATOR}Plugin \"${pluginName}\" could not be loaded because some of its dependencies \"${notExistDeps}\" do not exist.`;const PLUGIN_INVOCATION_ERROR=(context,extPoint,pluginName)=>`${context}${LOG_CONTEXT_SEPARATOR}Failed to invoke the \"${extPoint}\" extension point of plugin \"${pluginName}\".`;const STORAGE_UNAVAILABILITY_ERROR_PREFIX=(context,storageType)=>`${context}${LOG_CONTEXT_SEPARATOR}The \"${storageType}\" storage type is `;const SOURCE_CONFIG_FETCH_ERROR=reason=>`Failed to fetch the source config. Reason: ${reason}`;const WRITE_KEY_VALIDATION_ERROR=writeKey=>`The write key \"${writeKey}\" is invalid. It must be a non-empty string. Please check that the write key is correct and try again.`;const DATA_PLANE_URL_VALIDATION_ERROR=dataPlaneUrl=>`The data plane URL \"${dataPlaneUrl}\" is invalid. It must be a valid URL string. Please check that the data plane URL is correct and try again.`;const READY_API_CALLBACK_ERROR=context=>`${context}${LOG_CONTEXT_SEPARATOR}The callback is not a function.`;const XHR_DELIVERY_ERROR=(prefix,status,statusText,url)=>`${prefix} with status: ${status}, ${statusText} for URL: ${url}.`;const XHR_REQUEST_ERROR=(prefix,e,url)=>`${prefix} due to timeout or no connection (${e?e.type:''}) for URL: ${url}.`;const XHR_SEND_ERROR=(prefix,url)=>`${prefix} for URL: ${url}`;const STORE_DATA_SAVE_ERROR=key=>`Failed to save the value for \"${key}\" to storage`;const STORE_DATA_FETCH_ERROR=key=>`Failed to retrieve or parse data for \"${key}\" from storage`;const DATA_SERVER_REQUEST_FAIL_ERROR=status=>`The server responded with status ${status} while setting the cookies. As a fallback, the cookies will be set client side.`;const FAILED_SETTING_COOKIE_FROM_SERVER_ERROR=key=>`The server failed to set the ${key} cookie. As a fallback, the cookies will be set client side.`;const FAILED_SETTING_COOKIE_FROM_SERVER_GLOBAL_ERROR=`Failed to set/remove cookies via server. As a fallback, the cookies will be managed client side.`;// WARNING\nconst STORAGE_TYPE_VALIDATION_WARNING=(context,storageType,defaultStorageType)=>`${context}${LOG_CONTEXT_SEPARATOR}The storage type \"${storageType}\" is not supported. Please choose one of the following supported types: \"${SUPPORTED_STORAGE_TYPES}\". The default type \"${defaultStorageType}\" will be used instead.`;const UNSUPPORTED_ERROR_REPORTING_PROVIDER_WARNING=(context,selectedErrorReportingProvider,errorReportingProvidersToPluginNameMap,defaultProvider)=>`${context}${LOG_CONTEXT_SEPARATOR}The error reporting provider \"${selectedErrorReportingProvider}\" is not supported. Please choose one of the following supported providers: \"${Object.keys(errorReportingProvidersToPluginNameMap)}\". The default provider \"${defaultProvider}\" will be used instead.`;const UNSUPPORTED_STORAGE_ENCRYPTION_VERSION_WARNING=(context,selectedStorageEncryptionVersion,storageEncryptionVersionsToPluginNameMap,defaultVersion)=>`${context}${LOG_CONTEXT_SEPARATOR}The storage encryption version \"${selectedStorageEncryptionVersion}\" is not supported. Please choose one of the following supported versions: \"${Object.keys(storageEncryptionVersionsToPluginNameMap)}\". The default version \"${defaultVersion}\" will be used instead.`;const STORAGE_DATA_MIGRATION_OVERRIDE_WARNING=(context,storageEncryptionVersion,defaultVersion)=>`${context}${LOG_CONTEXT_SEPARATOR}The storage data migration has been disabled because the configured storage encryption version (${storageEncryptionVersion}) is not the latest (${defaultVersion}). To enable storage data migration, please update the storage encryption version to the latest version.`;const SERVER_SIDE_COOKIE_FEATURE_OVERRIDE_WARNING=(context,providedCookieDomain,currentCookieDomain)=>`${context}${LOG_CONTEXT_SEPARATOR}The provided cookie domain (${providedCookieDomain}) does not match the current webpage's domain (${currentCookieDomain}). Hence, the cookies will be set client-side.`;const RESERVED_KEYWORD_WARNING=(context,property,parentKeyPath,reservedElements)=>`${context}${LOG_CONTEXT_SEPARATOR}The \"${property}\" property defined under \"${parentKeyPath}\" is a reserved keyword. Please choose a different property name to avoid conflicts with reserved keywords (${reservedElements}).`;const UNSUPPORTED_BEACON_API_WARNING=context=>`${context}${LOG_CONTEXT_SEPARATOR}The Beacon API is not supported by your browser. The events will be sent using XHR instead.`;const TIMEOUT_NOT_NUMBER_WARNING=(context,timeout,defaultValue)=>`${context}${LOG_CONTEXT_SEPARATOR}The session timeout value \"${timeout}\" is not a number. The default timeout of ${defaultValue} ms will be used instead.`;const TIMEOUT_ZERO_WARNING=context=>`${context}${LOG_CONTEXT_SEPARATOR}The session timeout value is 0, which disables the automatic session tracking feature. If you want to enable session tracking, please provide a positive integer value for the timeout.`;const TIMEOUT_NOT_RECOMMENDED_WARNING=(context,timeout,minTimeout)=>`${context}${LOG_CONTEXT_SEPARATOR}The session timeout value ${timeout} ms is less than the recommended minimum of ${minTimeout} ms. Please consider increasing the timeout value to ensure optimal performance and reliability.`;const INVALID_SESSION_ID_WARNING=(context,sessionId,minSessionIdLength)=>`${context}${LOG_CONTEXT_SEPARATOR}The provided session ID (${sessionId}) is either invalid, not a positive integer, or not at least \"${minSessionIdLength}\" digits long. A new session ID will be auto-generated instead.`;const STORAGE_QUOTA_EXCEEDED_WARNING=context=>`${context}${LOG_CONTEXT_SEPARATOR}The storage is either full or unavailable, so the data will not be persisted. Switching to in-memory storage.`;const STORAGE_UNAVAILABLE_WARNING=(context,entry,selectedStorageType,finalStorageType)=>`${context}${LOG_CONTEXT_SEPARATOR}The storage type \"${selectedStorageType}\" is not available for entry \"${entry}\". The SDK will initialize the entry with \"${finalStorageType}\" storage type instead.`;const WRITE_KEY_NOT_A_STRING_ERROR=(context,writeKey)=>`${context}${LOG_CONTEXT_SEPARATOR}The write key \"${writeKey}\" is not a string. Please check that the write key is correct and try again.`;const EMPTY_GROUP_CALL_ERROR=context=>`${context}${LOG_CONTEXT_SEPARATOR}The group() method must be called with at least one argument.`;const READY_CALLBACK_INVOKE_ERROR=`Failed to invoke the ready callback`;const API_CALLBACK_INVOKE_ERROR=`API Callback Invocation Failed`;const NATIVE_DEST_PLUGIN_INITIALIZE_ERROR=`NativeDestinationQueuePlugin initialization failed`;const DATAPLANE_PLUGIN_INITIALIZE_ERROR=`XhrQueuePlugin initialization failed`;const DMT_PLUGIN_INITIALIZE_ERROR=`DeviceModeTransformationPlugin initialization failed`;const NATIVE_DEST_PLUGIN_ENQUEUE_ERROR=`NativeDestinationQueuePlugin event enqueue failed`;const DATAPLANE_PLUGIN_ENQUEUE_ERROR=`XhrQueuePlugin event enqueue failed`;const INVALID_CONFIG_URL_WARNING=(context,configUrl)=>`${context}${LOG_CONTEXT_SEPARATOR}The provided source config URL \"${configUrl}\" is invalid. Using the default source config URL instead.`;const POLYFILL_SCRIPT_LOAD_ERROR=(scriptId,url)=>`Failed to load the polyfill script with ID \"${scriptId}\" from URL ${url}.`;const UNSUPPORTED_PRE_CONSENT_STORAGE_STRATEGY=(context,selectedStrategy,defaultStrategy)=>`${context}${LOG_CONTEXT_SEPARATOR}The pre-consent storage strategy \"${selectedStrategy}\" is not supported. Please choose one of the following supported strategies: \"none, session, anonymousId\". The default strategy \"${defaultStrategy}\" will be used instead.`;const UNSUPPORTED_PRE_CONSENT_EVENTS_DELIVERY_TYPE=(context,selectedDeliveryType,defaultDeliveryType)=>`${context}${LOG_CONTEXT_SEPARATOR}The pre-consent events delivery type \"${selectedDeliveryType}\" is not supported. Please choose one of the following supported types: \"immediate, buffer\". The default type \"${defaultDeliveryType}\" will be used instead.`;const generateMisconfiguredPluginsWarning=(context,configurationStatus,missingPlugins,shouldAddMissingPlugins)=>{const isSinglePlugin=missingPlugins.length===1;const pluginsString=isSinglePlugin?` '${missingPlugins[0]}' plugin was`:` ['${missingPlugins.join(\"', '\")}'] plugins were`;const baseWarning=`${context}${LOG_CONTEXT_SEPARATOR}${configurationStatus}, but${pluginsString} not configured to load.`;if(shouldAddMissingPlugins){return `${baseWarning} So, ${isSinglePlugin?'the plugin':'those plugins'} will be loaded automatically.`;}return `${baseWarning} Ignore if this was intentional. Otherwise, consider adding ${isSinglePlugin?'it':'them'} to the 'plugins' load API option.`;};const INVALID_POLYFILL_URL_WARNING=(context,customPolyfillUrl)=>`${context}${LOG_CONTEXT_SEPARATOR}The provided polyfill URL \"${customPolyfillUrl}\" is invalid. The default polyfill URL will be used instead.`;// DEBUG\n\nconst CDN_INT_DIR='js-integrations';const CDN_PLUGINS_DIR='plugins';const URL_PATTERN=new RegExp('^(https?:\\\\/\\\\/)'+// protocol\n'('+'((([a-zA-Z\\\\d]([a-zA-Z\\\\d-]*[a-zA-Z\\\\d])*)\\\\.)+[a-zA-Z]{2,}|'+// domain name\n'localhost|'+// localhost\n'((25[0-5]|2[0-4][0-9]|[0-1]?[0-9]?[0-9]?)\\\\.){3}'+// OR IP (v4) address first 3 octets\n'(25[0-5]|2[0-4][0-9]|[0-1]?[0-9]?[0-9]?))'+// last octet of IP address\n')'+'(\\\\:\\\\d+)?'+// port\n'(\\\\/[-a-zA-Z\\\\d%_.~+]*)*'+// path\n'(\\\\?[;&a-zA-Z\\\\d%_.~+=-]*)?'+// query string\n'(\\\\#[-a-zA-Z\\\\d_]*)?$')// fragment locator\n;\n\nconst BUILD_TYPE='modern';const SDK_CDN_BASE_URL='https://cdn.rudderlabs.com';const CDN_ARCH_VERSION_DIR='v3';const DEST_SDK_BASE_URL=`${SDK_CDN_BASE_URL}/${CDN_ARCH_VERSION_DIR}/${BUILD_TYPE}/${CDN_INT_DIR}`;const PLUGINS_BASE_URL=`${SDK_CDN_BASE_URL}/${CDN_ARCH_VERSION_DIR}/${BUILD_TYPE}/${CDN_PLUGINS_DIR}`;const DEFAULT_CONFIG_BE_URL='https://api.rudderstack.com';\n\nconst DEFAULT_ERROR_REPORTING_PROVIDER='bugsnag';const DEFAULT_STORAGE_ENCRYPTION_VERSION='v3';const DEFAULT_DATA_PLANE_EVENTS_TRANSPORT='xhr';const ConsentManagersToPluginNameMap={oneTrust:'OneTrustConsentManager',ketch:'KetchConsentManager',custom:'CustomConsentManager'};const ErrorReportingProvidersToPluginNameMap={[DEFAULT_ERROR_REPORTING_PROVIDER]:'Bugsnag'};const StorageEncryptionVersionsToPluginNameMap={[DEFAULT_STORAGE_ENCRYPTION_VERSION]:'StorageEncryption',legacy:'StorageEncryptionLegacy'};const DataPlaneEventsTransportToPluginNameMap={[DEFAULT_DATA_PLANE_EVENTS_TRANSPORT]:'XhrQueue',beacon:'BeaconQueue'};const DEFAULT_DATA_SERVICE_ENDPOINT='rsaRequest';\n\nconst defaultLoadOptions={logLevel:'ERROR',configUrl:DEFAULT_CONFIG_BE_URL,loadIntegration:true,sessions:{autoTrack:true,timeout:DEFAULT_SESSION_TIMEOUT_MS},sameSiteCookie:'Lax',polyfillIfRequired:true,integrations:{All:true},useBeacon:false,beaconQueueOptions:{},destinationsQueueOptions:{},queueOptions:{},lockIntegrationsVersion:false,lockPluginsVersion:false,uaChTrackLevel:'none',plugins:[],useGlobalIntegrationsConfigInEvents:false,bufferDataPlaneEventsUntilReady:false,dataPlaneEventsBufferTimeout:DEFAULT_DATA_PLANE_EVENTS_BUFFER_TIMEOUT_MS,storage:{encryption:{version:DEFAULT_STORAGE_ENCRYPTION_VERSION},migrate:true},sendAdblockPageOptions:{},useServerSideCookies:false};const loadOptionsState=d(clone(defaultLoadOptions));\n\nconst DEFAULT_USER_SESSION_VALUES={userId:'',userTraits:{},anonymousId:'',groupId:'',groupTraits:{},initialReferrer:'',initialReferringDomain:'',sessionInfo:{},authToken:null};const SERVER_SIDE_COOKIES_DEBOUNCE_TIME=10;// milliseconds\n\nconst defaultSessionConfiguration={autoTrack:true,timeout:DEFAULT_SESSION_TIMEOUT_MS};const sessionState={userId:d(DEFAULT_USER_SESSION_VALUES.userId),userTraits:d(DEFAULT_USER_SESSION_VALUES.userTraits),anonymousId:d(DEFAULT_USER_SESSION_VALUES.anonymousId),groupId:d(DEFAULT_USER_SESSION_VALUES.groupId),groupTraits:d(DEFAULT_USER_SESSION_VALUES.groupTraits),initialReferrer:d(DEFAULT_USER_SESSION_VALUES.initialReferrer),initialReferringDomain:d(DEFAULT_USER_SESSION_VALUES.initialReferringDomain),sessionInfo:d(DEFAULT_USER_SESSION_VALUES.sessionInfo),authToken:d(DEFAULT_USER_SESSION_VALUES.authToken)};\n\nconst capabilitiesState={isOnline:d(true),storage:{isLocalStorageAvailable:d(false),isCookieStorageAvailable:d(false),isSessionStorageAvailable:d(false)},isBeaconAvailable:d(false),isLegacyDOM:d(false),isUaCHAvailable:d(false),isCryptoAvailable:d(false),isIE11:d(false),isAdBlocked:d(false)};\n\nconst reportingState={isErrorReportingEnabled:d(false),isMetricsReportingEnabled:d(false),errorReportingProviderPluginName:d(undefined),isErrorReportingPluginLoaded:d(false)};\n\nconst sourceConfigState=d(undefined);\n\nconst lifecycleState={activeDataplaneUrl:d(undefined),integrationsCDNPath:d(DEST_SDK_BASE_URL),pluginsCDNPath:d(PLUGINS_BASE_URL),sourceConfigUrl:d(undefined),status:d(undefined),initialized:d(false),logLevel:d('ERROR'),loaded:d(false),readyCallbacks:d([]),writeKey:d(undefined),dataPlaneUrl:d(undefined)};\n\nconst consentsState={enabled:d(false),initialized:d(false),data:d({}),activeConsentManagerPluginName:d(undefined),preConsent:d({enabled:false}),postConsent:d({}),resolutionStrategy:d('and'),provider:d(undefined),metadata:d(undefined)};\n\nconst metricsState={retries:d(0),dropped:d(0),sent:d(0),queued:d(0),triggered:d(0)};\n\nconst contextState={app:d({name:APP_NAME,namespace:APP_NAMESPACE,version:APP_VERSION,installType:MODULE_TYPE}),traits:d(null),library:d({name:APP_NAME,version:APP_VERSION,snippetVersion:globalThis.RudderSnippetVersion}),userAgent:d(''),device:d(null),network:d(null),os:d({name:'',version:''}),locale:d(null),screen:d({density:0,width:0,height:0,innerWidth:0,innerHeight:0}),'ua-ch':d(undefined),timezone:d(undefined)};\n\nconst nativeDestinationsState={configuredDestinations:d([]),activeDestinations:d([]),loadOnlyIntegrations:d({}),failedDestinations:d([]),loadIntegration:d(true),initializedDestinations:d([]),clientDestinationsReady:d(false),integrationsConfig:d({})};\n\nconst eventBufferState={toBeProcessedArray:d([]),readyCallbacksArray:d([])};\n\nconst pluginsState={ready:d(false),loadedPlugins:d([]),failedPlugins:d([]),pluginsToLoadFromConfig:d([]),activePlugins:d([]),totalPluginsToLoad:d(0)};\n\nconst storageState={encryptionPluginName:d(undefined),migrate:d(false),type:d(undefined),cookie:d(undefined),entries:d({}),trulyAnonymousTracking:d(false)};\n\nconst serverSideCookiesState={isEnabledServerSideCookies:d(false),dataServiceUrl:d(undefined)};\n\nconst dataPlaneEventsState={eventsQueuePluginName:d(undefined),deliveryEnabled:d(true)// Delivery should always happen\n};\n\nconst defaultStateValues={capabilities:capabilitiesState,consents:consentsState,context:contextState,eventBuffer:eventBufferState,lifecycle:lifecycleState,loadOptions:loadOptionsState,metrics:metricsState,nativeDestinations:nativeDestinationsState,plugins:pluginsState,reporting:reportingState,session:sessionState,source:sourceConfigState,storage:storageState,serverCookies:serverSideCookiesState,dataPlaneEvents:dataPlaneEventsState};const state={...clone(defaultStateValues)};\n\n//  to next or return the value if it is the last one instead of an array per\n//  plugin that is the normal invoke\n// TODO: add invoke method for extension point that we know only one plugin can be used. add invokeMultiple and invokeSingle methods\nclass PluginEngine{plugins=[];byName={};cache={};config={throws:true};constructor(options={},logger){this.config={throws:true,...options};this.logger=logger;}register(plugin,state){if(!plugin.name){const errorMessage=PLUGIN_NAME_MISSING_ERROR(PLUGIN_ENGINE);if(this.config.throws){throw new Error(errorMessage);}else {this.logger?.error(errorMessage,plugin);}}if(this.byName[plugin.name]){const errorMessage=PLUGIN_ALREADY_EXISTS_ERROR(PLUGIN_ENGINE,plugin.name);if(this.config.throws){throw new Error(errorMessage);}else {this.logger?.error(errorMessage);}}this.cache={};this.plugins=this.plugins.slice();let pos=this.plugins.length;this.plugins.forEach((pluginItem,index)=>{if(pluginItem.deps?.includes(plugin.name)){pos=Math.min(pos,index);}});this.plugins.splice(pos,0,plugin);this.byName[plugin.name]=plugin;if(isFunction(plugin.initialize)){plugin.initialize(state);}}unregister(name){const plugin=this.byName[name];if(!plugin){const errorMessage=PLUGIN_NOT_FOUND_ERROR(PLUGIN_ENGINE,name);if(this.config.throws){throw new Error(errorMessage);}else {this.logger?.error(errorMessage);}}const index=this.plugins.indexOf(plugin);if(index===-1){const errorMessage=PLUGIN_ENGINE_BUG_ERROR(PLUGIN_ENGINE,name);if(this.config.throws){throw new Error(errorMessage);}else {this.logger?.error(errorMessage);}}this.cache={};delete this.byName[name];this.plugins=this.plugins.slice();this.plugins.splice(index,1);}getPlugin(name){return this.byName[name];}getPlugins(extPoint){const lifeCycleName=extPoint??'.';if(!this.cache[lifeCycleName]){this.cache[lifeCycleName]=this.plugins.filter(plugin=>{if(plugin.deps?.some(dependency=>!this.byName[dependency])){// If deps not exist, then not load it.\nconst notExistDeps=plugin.deps.filter(dependency=>!this.byName[dependency]);this.logger?.error(PLUGIN_DEPS_ERROR(PLUGIN_ENGINE,plugin.name,notExistDeps));return false;}return lifeCycleName==='.'?true:hasValueByPath(plugin,lifeCycleName);});}return this.cache[lifeCycleName];}// This method allows to process this.plugins so that it could\n// do some unified pre-process before application starts.\nprocessRawPlugins(callback){callback(this.plugins);this.cache={};}invoke(extPoint,allowMultiple=true,...args){let extensionPointName=extPoint;if(!extensionPointName){throw new Error(PLUGIN_EXT_POINT_MISSING_ERROR);}const noCall=extensionPointName.startsWith('!');const throws=this.config.throws??extensionPointName.endsWith('!');// eslint-disable-next-line unicorn/better-regex\nextensionPointName=extensionPointName.replace(/(^!|!$)/g,'');if(!extensionPointName){throw new Error(PLUGIN_EXT_POINT_INVALID_ERROR);}const extensionPointNameParts=extensionPointName.split('.');extensionPointNameParts.pop();const pluginMethodPath=extensionPointNameParts.join('.');const pluginsToInvoke=allowMultiple?this.getPlugins(extensionPointName):[this.getPlugins(extensionPointName)[0]];return pluginsToInvoke.map(plugin=>{const method=getValueByPath(plugin,extensionPointName);if(!isFunction(method)||noCall){return method;}try{return method.apply(getValueByPath(plugin,pluginMethodPath),args);}catch(err){// When a plugin failed, doesn't break the app\nif(throws){throw err;}else {this.logger?.error(PLUGIN_INVOCATION_ERROR(PLUGIN_ENGINE,extensionPointName,plugin.name),err);}}return null;});}invokeSingle(extPoint,...args){return this.invoke(extPoint,false,...args)[0];}invokeMultiple(extPoint,...args){return this.invoke(extPoint,true,...args);}}const defaultPluginEngine=new PluginEngine({throws:true},defaultLogger);\n\nconst FAILED_REQUEST_ERR_MSG_PREFIX='The request failed';const ERROR_MESSAGES_TO_BE_FILTERED=[FAILED_REQUEST_ERR_MSG_PREFIX];\n\nconst LOAD_ORIGIN='RS_JS_SDK';\n\n/**\n * Utility method to normalise errors\n */const processError=error=>{let errorMessage;try{if(isString(error)){errorMessage=error;}else if(error instanceof Error){errorMessage=error.message;}else if(error instanceof ErrorEvent){errorMessage=error.message;}// TODO: remove this block once all device mode integrations start using the v3 script loader module (TS)\nelse if(error instanceof Event){const eventTarget=error.target;// Discard all the non-script loading errors\nif(eventTarget&&eventTarget.localName!=='script'){return '';}// Discard script errors that are not originated at SDK or from native SDKs\nif(eventTarget?.dataset&&(eventTarget.dataset.loader!==LOAD_ORIGIN||eventTarget.dataset.isnonnativesdk!=='true')){return '';}errorMessage=`Error in loading a third-party script from URL ${eventTarget?.src} with ID ${eventTarget?.id}.`;}else {errorMessage=error.message?error.message:stringifyWithoutCircular(error);}}catch(e){errorMessage=`Unknown error: ${e.message}`;}return errorMessage;};/**\n * A function to determine whether the error should be promoted to notify or not\n * @param {Error} error\n * @returns\n */const isAllowedToBeNotified=error=>{if(error.message){return !ERROR_MESSAGES_TO_BE_FILTERED.some(e=>error.message.includes(e));}return true;};\n\n/**\n * A service to handle errors\n */class ErrorHandler{// If no logger is passed errors will be thrown as unhandled error\nconstructor(logger,pluginEngine){this.logger=logger;this.pluginEngine=pluginEngine;this.errorBuffer=new BufferQueue();this.attachEffect();}attachEffect(){if(state.reporting.isErrorReportingPluginLoaded.value===true){while(this.errorBuffer.size()>0){this.errorBuffer.dequeue();}}}attachErrorListeners(){if('addEventListener'in globalThis){globalThis.addEventListener('error',event=>{this.onError(event,undefined,undefined,undefined,'unhandledException');});globalThis.addEventListener('unhandledrejection',event=>{this.onError(event,undefined,undefined,undefined,'unhandledPromiseRejection');});}else {this.logger?.debug(`Failed to attach global error listeners.`);}}init(externalSrcLoader){if(!this.pluginEngine){return;}try{const extPoint='errorReporting.init';const errReportingInitVal=this.pluginEngine.invokeSingle(extPoint,state,this.pluginEngine,externalSrcLoader,this.logger);if(errReportingInitVal instanceof Promise){errReportingInitVal.then(client=>{this.errReportingClient=client;}).catch(err=>{this.logger?.error(REPORTING_PLUGIN_INIT_FAILURE_ERROR(ERROR_HANDLER),err);});}}catch(err){this.onError(err,ERROR_HANDLER);}}onError(error,context='',customMessage='',shouldAlwaysThrow=false,errorType='handled'){// Error handling is already implemented in processError method\nlet errorMessage=processError(error);// If no error message after we normalize, then we swallow/ignore the errors\nif(!errorMessage){return;}// eslint-disable-next-line @typescript-eslint/no-unused-vars\nerrorMessage=removeDoubleSpaces(`${context}${LOG_CONTEXT_SEPARATOR}${customMessage} ${errorMessage}`);let normalizedError=new Error(errorMessage);if(isTypeOfError(error)){normalizedError=Object.create(error,{message:{value:errorMessage}});}if(errorType==='handled'){// TODO: Remove the below line once the new Reporting plugin is ready\nthis.notifyError(normalizedError);if(this.logger){this.logger.error(errorMessage);if(shouldAlwaysThrow){throw normalizedError;}}else {throw normalizedError;}}// eslint-disable-next-line sonarjs/no-all-duplicated-branches\nif(state.reporting.isErrorReportingEnabled.value&&!state.reporting.isErrorReportingPluginLoaded.value);}/**\n   * Add breadcrumbs to add insight of a user's journey before an error\n   * occurred and send to external error monitoring service via a plugin\n   *\n   * @param {string} breadcrumb breadcrumbs message\n   */leaveBreadcrumb(breadcrumb){if(this.pluginEngine){try{this.pluginEngine.invokeSingle('errorReporting.breadcrumb',this.pluginEngine,this.errReportingClient,breadcrumb,this.logger);}catch(err){this.onError(err,ERROR_HANDLER,'errorReporting.breadcrumb');}}}/**\n   * Send handled errors to external error monitoring service via a plugin\n   *\n   * @param {Error} error Error instance from handled error\n   */notifyError(error){if(this.errReportingClient&&isAllowedToBeNotified(error)){try{this.pluginEngine?.invokeSingle('errorReporting.notify',this.pluginEngine,this.errReportingClient,error,state,this.logger);}catch(err){// Not calling onError here as we don't want to go into infinite loop\nthis.logger?.error(NOTIFY_FAILURE_ERROR(ERROR_HANDLER),err);}}}}const defaultErrorHandler=new ErrorHandler(defaultLogger,defaultPluginEngine);\n\n/**\n * A function to filter and return non cloud mode destinations\n * @param destination\n *\n * @returns boolean\n */const isNonCloudDestination=destination=>Boolean(destination.config.connectionMode!=='cloud'||destination.config.useNativeSDKToSend===true||// this is the older flag for hybrid mode destinations\ndestination.config.useNativeSDK===true);const isHybridModeDestination=destination=>Boolean(destination.config.connectionMode==='hybrid'||destination.config.useNativeSDKToSend===true);/**\n * A function to filter and return non cloud mode destinations\n * @param destinations\n *\n * @returns destinations\n */const getNonCloudDestinations=destinations=>destinations.filter(isNonCloudDestination);\n\n/**\n * List of plugin names that are loaded as dynamic imports in modern builds\n */const pluginNamesList=['BeaconQueue','Bugsnag','CustomConsentManager','DeviceModeDestinations','DeviceModeTransformation','ErrorReporting','ExternalAnonymousId','GoogleLinker','KetchConsentManager','NativeDestinationQueue','OneTrustConsentManager','StorageEncryption','StorageEncryptionLegacy','StorageMigrator','XhrQueue'];\n\nconst remotesMap = {\n'rudderAnalyticsRemotePlugins':{url:()=>Promise.resolve(window.RudderStackGlobals && window.RudderStackGlobals.app && window.RudderStackGlobals.app.pluginsCDNPath ? \"\" + window.RudderStackGlobals.app.pluginsCDNPath + \"/rsa-plugins.js\" : \"https://cdn.rudderlabs.com/v3/modern/plugins/rsa-plugins.js\"),format:'esm',from:'vite'}\n};\n                const loadJS = async (url, fn) => {\n                    const resolvedUrl = typeof url === 'function' ? await url() : url;\n                    const script = document.createElement('script');\n                    script.type = 'text/javascript';\n                    script.onload = fn;\n                    script.src = resolvedUrl;\n                    document.getElementsByTagName('head')[0].appendChild(script);\n                };\n                \n                function merge(obj1, obj2) {\n                  const mergedObj = Object.assign(obj1, obj2);\n                  for (const key of Object.keys(mergedObj)) {\n                    if (typeof mergedObj[key] === 'object' && typeof obj2[key] === 'object') {\n                      mergedObj[key] = merge(mergedObj[key], obj2[key]);\n                    }\n                  }\n                  return mergedObj;\n                }\n\n                const wrapShareModule = remoteFrom => {\n                  return merge({\n                    \n                  }, (globalThis.__federation_shared__ || {})['default'] || {});\n                };\n\n                async function __federation_method_ensure(remoteId) {\n                    const remote = remotesMap[remoteId];\n                    if (!remote.inited) {\n                        if ('var' === remote.format) {\n                            // loading js with script tag\n                            return new Promise(resolve => {\n                                const callback = () => {\n                                    if (!remote.inited) {\n                                        remote.lib = window[remoteId];\n                                        remote.lib.init(wrapShareModule(remote.from));\n                                        remote.inited = true;\n                                    }\n                                    resolve(remote.lib);\n                                };\n                                return loadJS(remote.url, callback);\n                            });\n                        } else if (['esm', 'systemjs'].includes(remote.format)) {\n                            // loading js with import(...)\n                            return new Promise((resolve, reject) => {\n                                const getUrl = typeof remote.url === 'function' ? remote.url : () => Promise.resolve(remote.url);\n                                getUrl().then(url => {\n                                    import(/* webpackIgnore: true */ /* @vite-ignore */ url).then(lib => {\n                                        if (!remote.inited) {\n                                            const shareScope = wrapShareModule(remote.from);\n                                            lib.init(shareScope);\n                                            remote.lib = lib;\n                                            remote.lib.init(shareScope);\n                                            remote.inited = true;\n                                        }\n                                        resolve(remote.lib);\n                                    }).catch(reject);\n                                });\n                            })\n                        }\n                    } else {\n                        return remote.lib;\n                    }\n                }\n\n                function __federation_method_wrapDefault(module, need) {\n                    if (!module?.default && need) {\n                        let obj = Object.create(null);\n                        obj.default = module;\n                        obj.__esModule = true;\n                        return obj;\n                    }\n                    return module;\n                }\n\n                function __federation_method_getRemote(remoteName, componentName) {\n                    return __federation_method_ensure(remoteName).then((remote) => remote.get(componentName).then(factory => factory()));\n                }\n\n/**\n * Get the lazy loaded dynamic import for a plugin name\n */const getFederatedModuleImport=pluginName=>{switch(pluginName){case'BeaconQueue':return ()=>__federation_method_getRemote(\"rudderAnalyticsRemotePlugins\" , \"./BeaconQueue\").then(module=>__federation_method_wrapDefault(module, true));case'Bugsnag':return ()=>__federation_method_getRemote(\"rudderAnalyticsRemotePlugins\" , \"./Bugsnag\").then(module=>__federation_method_wrapDefault(module, true));case'CustomConsentManager':return ()=>__federation_method_getRemote(\"rudderAnalyticsRemotePlugins\" , \"./CustomConsentManager\").then(module=>__federation_method_wrapDefault(module, true));case'DeviceModeDestinations':return ()=>__federation_method_getRemote(\"rudderAnalyticsRemotePlugins\" , \"./DeviceModeDestinations\").then(module=>__federation_method_wrapDefault(module, true));case'DeviceModeTransformation':return ()=>__federation_method_getRemote(\"rudderAnalyticsRemotePlugins\" , \"./DeviceModeTransformation\").then(module=>__federation_method_wrapDefault(module, true));case'ErrorReporting':return ()=>__federation_method_getRemote(\"rudderAnalyticsRemotePlugins\" , \"./ErrorReporting\").then(module=>__federation_method_wrapDefault(module, true));case'ExternalAnonymousId':return ()=>__federation_method_getRemote(\"rudderAnalyticsRemotePlugins\" , \"./ExternalAnonymousId\").then(module=>__federation_method_wrapDefault(module, true));case'GoogleLinker':return ()=>__federation_method_getRemote(\"rudderAnalyticsRemotePlugins\" , \"./GoogleLinker\").then(module=>__federation_method_wrapDefault(module, true));case'KetchConsentManager':return ()=>__federation_method_getRemote(\"rudderAnalyticsRemotePlugins\" , \"./KetchConsentManager\").then(module=>__federation_method_wrapDefault(module, true));case'NativeDestinationQueue':return ()=>__federation_method_getRemote(\"rudderAnalyticsRemotePlugins\" , \"./NativeDestinationQueue\").then(module=>__federation_method_wrapDefault(module, true));case'OneTrustConsentManager':return ()=>__federation_method_getRemote(\"rudderAnalyticsRemotePlugins\" , \"./OneTrustConsentManager\").then(module=>__federation_method_wrapDefault(module, true));case'StorageEncryption':return ()=>__federation_method_getRemote(\"rudderAnalyticsRemotePlugins\" , \"./StorageEncryption\").then(module=>__federation_method_wrapDefault(module, true));case'StorageEncryptionLegacy':return ()=>__federation_method_getRemote(\"rudderAnalyticsRemotePlugins\" , \"./StorageEncryptionLegacy\").then(module=>__federation_method_wrapDefault(module, true));case'StorageMigrator':return ()=>__federation_method_getRemote(\"rudderAnalyticsRemotePlugins\" , \"./StorageMigrator\").then(module=>__federation_method_wrapDefault(module, true));case'XhrQueue':return ()=>__federation_method_getRemote(\"rudderAnalyticsRemotePlugins\" , \"./XhrQueue\").then(module=>__federation_method_wrapDefault(module, true));default:return undefined;}};/**\n * Map of active plugin names to their dynamic import\n */const federatedModulesBuildPluginImports=activePluginNames=>{const remotePlugins={};activePluginNames.forEach(pluginName=>{if(pluginNamesList.includes(pluginName)){const lazyLoadImport=getFederatedModuleImport(pluginName);if(lazyLoadImport){remotePlugins[pluginName]=lazyLoadImport;}}});return remotePlugins;};\n\n/**\n * Map of mandatory plugin names and direct imports\n */const getMandatoryPluginsMap=()=>({});/**\n * Map of optional plugin names and direct imports for legacy builds\n */const getOptionalPluginsMap=()=>{{return {};}};/**\n * Map of optional plugin names and dynamic imports for modern builds\n */const getRemotePluginsMap=activePluginNames=>{return federatedModulesBuildPluginImports?.(activePluginNames)||{};};const pluginsInventory={...getMandatoryPluginsMap(),...getOptionalPluginsMap()};const remotePluginsInventory=activePluginNames=>({...getRemotePluginsMap(activePluginNames)});\n\n// TODO: add retry mechanism for getting remote plugins\n// TODO: add timeout error mechanism for marking remote plugins that failed to load as failed in state\nclass PluginsManager{constructor(engine,errorHandler,logger){this.engine=engine;this.errorHandler=errorHandler;this.logger=logger;this.onError=this.onError.bind(this);}/**\n   * Orchestrate the plugin loading and registering\n   */init(){state.lifecycle.status.value='pluginsLoading';// Expose pluginsCDNPath to global object, so it can be used in the promise that determines\n// remote plugin cdn path to support proxied plugin remotes\n{setExposedGlobal('pluginsCDNPath',state.lifecycle.pluginsCDNPath.value);}this.setActivePlugins();this.registerLocalPlugins();this.registerRemotePlugins();this.attachEffects();}/**\n   * Update state based on plugin loaded status\n   */ // eslint-disable-next-line class-methods-use-this\nattachEffects(){E(()=>{const isAllPluginsReady=state.plugins.activePlugins.value.length===0||state.plugins.loadedPlugins.value.length+state.plugins.failedPlugins.value.length===state.plugins.totalPluginsToLoad.value;if(isAllPluginsReady){r(()=>{state.plugins.ready.value=true;// TODO: decide what to do if a plugin fails to load for any reason.\n//  Should we stop here or should we progress?\nstate.lifecycle.status.value='pluginsReady';});}});}/**\n   * Determine the list of plugins that should be loaded based on sourceConfig & load options\n   */ // eslint-disable-next-line class-methods-use-this\ngetPluginsToLoadBasedOnConfig(){// This contains the default plugins if load option has been omitted by user\nlet pluginsToLoadFromConfig=state.plugins.pluginsToLoadFromConfig.value;if(!pluginsToLoadFromConfig){return [];}const pluginGroupsToProcess=[{configurationStatus:()=>isDefined(state.dataPlaneEvents.eventsQueuePluginName.value),configurationStatusStr:'Data plane events delivery is enabled',activePluginName:state.dataPlaneEvents.eventsQueuePluginName.value,supportedPlugins:Object.values(DataPlaneEventsTransportToPluginNameMap),shouldAddMissingPlugins:true},{configurationStatus:()=>isDefined(state.reporting.errorReportingProviderPluginName.value),configurationStatusStr:'Error reporting is enabled',activePluginName:state.reporting.errorReportingProviderPluginName.value,basePlugins:['ErrorReporting'],supportedPlugins:Object.values(ErrorReportingProvidersToPluginNameMap)},{configurationStatus:()=>getNonCloudDestinations(state.nativeDestinations.configuredDestinations.value).length>0,configurationStatusStr:'Device mode destinations are connected to the source',supportedPlugins:['DeviceModeDestinations','NativeDestinationQueue']},{configurationStatus:()=>getNonCloudDestinations(state.nativeDestinations.configuredDestinations.value).some(destination=>destination.shouldApplyDeviceModeTransformation),configurationStatusStr:'Device mode transformations are enabled for at least one destination',supportedPlugins:['DeviceModeTransformation']},{configurationStatus:()=>isDefined(state.consents.activeConsentManagerPluginName.value),configurationStatusStr:'Consent management is enabled',activePluginName:state.consents.activeConsentManagerPluginName.value,supportedPlugins:Object.values(ConsentManagersToPluginNameMap)},{configurationStatus:()=>isDefined(state.storage.encryptionPluginName.value),configurationStatusStr:'Storage encryption is enabled',activePluginName:state.storage.encryptionPluginName.value,supportedPlugins:Object.values(StorageEncryptionVersionsToPluginNameMap)},{configurationStatus:()=>state.storage.migrate.value,configurationStatusStr:'Storage migration is enabled',supportedPlugins:['StorageMigrator']}];const addMissingPlugins=false;pluginGroupsToProcess.forEach(group=>{if(group.configurationStatus()){pluginsToLoadFromConfig=pluginsToLoadFromConfig.filter(group.activePluginName?pluginName=>!(pluginName!==group.activePluginName&&group.supportedPlugins.includes(pluginName)):pluginName=>isDefined(pluginName)// pass through\n);this.addMissingPlugins(group,addMissingPlugins,pluginsToLoadFromConfig);}else {pluginsToLoadFromConfig=pluginsToLoadFromConfig.filter(group.basePlugins!==undefined?pluginName=>!(group.basePlugins.includes(pluginName)||group.supportedPlugins.includes(pluginName)):pluginName=>!group.supportedPlugins.includes(pluginName));}});return [...Object.keys(getMandatoryPluginsMap()),...pluginsToLoadFromConfig];}addMissingPlugins(group,addMissingPlugins,pluginsToLoadFromConfig){const shouldAddMissingPlugins=group.shouldAddMissingPlugins||addMissingPlugins;let pluginsToConfigure;if(group.activePluginName){pluginsToConfigure=[...(group.basePlugins||[]),group.activePluginName];}else {pluginsToConfigure=[...group.supportedPlugins];}const missingPlugins=pluginsToConfigure.filter(pluginName=>!pluginsToLoadFromConfig.includes(pluginName));if(missingPlugins.length>0){if(shouldAddMissingPlugins){pluginsToLoadFromConfig.push(...missingPlugins);}this.logger?.warn(generateMisconfiguredPluginsWarning(PLUGINS_MANAGER,group.configurationStatusStr,missingPlugins,shouldAddMissingPlugins));}}/**\n   * Determine the list of plugins that should be activated\n   */setActivePlugins(){const pluginsToLoad=this.getPluginsToLoadBasedOnConfig();// Merging available mandatory and optional plugin name list\nconst availablePlugins=[...Object.keys(pluginsInventory),...pluginNamesList];const activePlugins=[];const failedPlugins=[];pluginsToLoad.forEach(pluginName=>{if(availablePlugins.includes(pluginName)){activePlugins.push(pluginName);}else {failedPlugins.push(pluginName);}});if(failedPlugins.length>0){this.onError(new Error(`Ignoring loading of unknown plugins: ${failedPlugins.join(',')}. Mandatory plugins: ${Object.keys(getMandatoryPluginsMap()).join(',')}. Load option plugins: ${state.plugins.pluginsToLoadFromConfig.value.join(',')}`));}r(()=>{state.plugins.totalPluginsToLoad.value=pluginsToLoad.length;state.plugins.activePlugins.value=activePlugins;state.plugins.failedPlugins.value=failedPlugins;});}/**\n   * Register plugins that are direct imports to PluginEngine\n   */registerLocalPlugins(){Object.values(pluginsInventory).forEach(localPlugin=>{if(isFunction(localPlugin)&&state.plugins.activePlugins.value.includes(localPlugin().name)){this.register([localPlugin()]);}});}/**\n   * Register plugins that are dynamic imports to PluginEngine\n   */registerRemotePlugins(){const remotePluginsList=remotePluginsInventory(state.plugins.activePlugins.value);Promise.all(Object.keys(remotePluginsList).map(async remotePluginKey=>{await remotePluginsList[remotePluginKey]().then(remotePluginModule=>this.register([remotePluginModule.default()])).catch(err=>{// TODO: add retry here if dynamic import fails\nstate.plugins.failedPlugins.value=[...state.plugins.failedPlugins.value,remotePluginKey];this.onError(err,remotePluginKey);});})).catch(err=>{this.onError(err);});}/**\n   * Extension point invoke that allows multiple plugins to be registered to it with error handling\n   */invokeMultiple(extPoint,...args){try{return this.engine.invokeMultiple(extPoint,...args);}catch(e){this.onError(e,extPoint);return [];}}/**\n   * Extension point invoke that allows a single plugin to be registered to it with error handling\n   */invokeSingle(extPoint,...args){try{return this.engine.invokeSingle(extPoint,...args);}catch(e){this.onError(e,extPoint);return null;}}/**\n   * Plugin engine register with error handling\n   */register(plugins){plugins.forEach(plugin=>{try{this.engine.register(plugin,state);}catch(e){state.plugins.failedPlugins.value=[...state.plugins.failedPlugins.value,plugin.name];this.onError(e);}});}// TODO: Implement reset API instead\nunregisterLocalPlugins(){Object.values(pluginsInventory).forEach(localPlugin=>{try{this.engine.unregister(localPlugin().name);}catch(e){this.onError(e);}});}/**\n   * Handle errors\n   */onError(error,customMessage){if(this.errorHandler){this.errorHandler.onError(error,PLUGINS_MANAGER,customMessage);}else {throw error;}}}\n\n/**\n * Utility to parse XHR JSON response\n */const responseTextToJson=(responseText,onError)=>{try{return JSON.parse(responseText||'');}catch(err){const error=getMutatedError(err,'Failed to parse response data');if(isFunction(onError)){onError(error);}else {throw error;}}return undefined;};\n\nconst DEFAULT_XHR_REQUEST_OPTIONS={headers:{Accept:'application/json','Content-Type':'application/json;charset=UTF-8'},method:'GET'};/**\n * Utility to create request configuration based on default options\n */const createXhrRequestOptions=(url,options,basicAuthHeader)=>{const requestOptions=mergeDeepRight(DEFAULT_XHR_REQUEST_OPTIONS,options||{});if(basicAuthHeader){requestOptions.headers=mergeDeepRight(requestOptions.headers,{Authorization:basicAuthHeader});}requestOptions.url=url;return requestOptions;};/**\n * Utility implementation of XHR, fetch cannot be used as it requires explicit\n * origin allowed values and not wildcard for CORS requests with credentials and\n * this is not supported by our sourceConfig API\n */const xhrRequest=(options,timeout=DEFAULT_XHR_TIMEOUT_MS,logger)=>new Promise((resolve,reject)=>{let payload;if(options.sendRawData===true){payload=options.data;}else {payload=stringifyWithoutCircular(options.data,false,[],logger);if(isNull(payload)){reject({error:new Error(XHR_PAYLOAD_PREP_ERROR),undefined,options});// return and don't process further if the payload could not be stringified\nreturn;}}const xhr=new XMLHttpRequest();// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst xhrReject=e=>{reject({error:new Error(XHR_DELIVERY_ERROR(FAILED_REQUEST_ERR_MSG_PREFIX,xhr.status,xhr.statusText,options.url)),xhr,options});};const xhrError=e=>{reject({error:new Error(XHR_REQUEST_ERROR(FAILED_REQUEST_ERR_MSG_PREFIX,e,options.url)),xhr,options});};xhr.ontimeout=xhrError;xhr.onerror=xhrError;xhr.onload=()=>{if(xhr.status>=200&&xhr.status<400){resolve({response:xhr.responseText,xhr,options});}else {xhrReject();}};xhr.open(options.method,options.url);if(options.withCredentials===true){xhr.withCredentials=true;}// The timeout property may be set only in the time interval between a call to the open method\n// and the first call to the send method in legacy browsers\nxhr.timeout=timeout;Object.keys(options.headers).forEach(headerName=>{if(options.headers[headerName]){xhr.setRequestHeader(headerName,options.headers[headerName]);}});try{xhr.send(payload);}catch(err){reject({error:getMutatedError(err,XHR_SEND_ERROR(FAILED_REQUEST_ERR_MSG_PREFIX,options.url)),xhr,options});}});\n\n/**\n * Service to handle data communication with APIs\n */class HttpClient{hasErrorHandler=false;constructor(errorHandler,logger){this.errorHandler=errorHandler;this.logger=logger;this.hasErrorHandler=Boolean(this.errorHandler);this.onError=this.onError.bind(this);}/**\n   * Implement requests in a blocking way\n   */async getData(config){const{url,options,timeout,isRawResponse}=config;try{const data=await xhrRequest(createXhrRequestOptions(url,options,this.basicAuthHeader),timeout,this.logger);return {data:isRawResponse?data.response:responseTextToJson(data.response,this.onError),details:data};}catch(reason){this.onError(reason.error??reason);return {data:undefined,details:reason};}}/**\n   * Implement requests in a non-blocking way\n   */getAsyncData(config){const{callback,url,options,timeout,isRawResponse}=config;const isFireAndForget=!isFunction(callback);xhrRequest(createXhrRequestOptions(url,options,this.basicAuthHeader),timeout,this.logger).then(data=>{if(!isFireAndForget){callback(isRawResponse?data.response:responseTextToJson(data.response,this.onError),data);}}).catch(data=>{this.onError(data.error??data);if(!isFireAndForget){callback(undefined,data);}});}/**\n   * Handle errors\n   */onError(error){if(this.hasErrorHandler){this.errorHandler?.onError(error,HTTP_CLIENT);}else {throw error;}}/**\n   * Set basic authentication header (eg writekey)\n   */setAuthHeader(value,noBtoa=false){const authVal=noBtoa?value:toBase64(`${value}:`);this.basicAuthHeader=`Basic ${authVal}`;}/**\n   * Clear basic authentication header\n   */resetAuthHeader(){this.basicAuthHeader=undefined;}}const defaultHttpClient=new HttpClient(defaultErrorHandler,defaultLogger);\n\nconst COOKIE_STORAGE='cookieStorage';const LOCAL_STORAGE='localStorage';const SESSION_STORAGE='sessionStorage';const MEMORY_STORAGE='memoryStorage';const NO_STORAGE='none';\n\nconst userIdKey='rl_user_id';const userTraitsKey='rl_trait';const anonymousUserIdKey='rl_anonymous_id';const groupIdKey='rl_group_id';const groupTraitsKey='rl_group_trait';const pageInitialReferrerKey='rl_page_init_referrer';const pageInitialReferringDomainKey='rl_page_init_referring_domain';const sessionInfoKey='rl_session';const authTokenKey='rl_auth_token';const COOKIE_KEYS={userId:userIdKey,userTraits:userTraitsKey,anonymousId:anonymousUserIdKey,groupId:groupIdKey,groupTraits:groupTraitsKey,initialReferrer:pageInitialReferrerKey,initialReferringDomain:pageInitialReferringDomainKey,sessionInfo:sessionInfoKey,authToken:authTokenKey};\n\nconst STORAGE_TEST_COOKIE='test_rudder_cookie';const STORAGE_TEST_LOCAL_STORAGE='test_rudder_ls';const STORAGE_TEST_SESSION_STORAGE='test_rudder_ss';const STORAGE_TEST_TOP_LEVEL_DOMAIN='__tld__';const CLIENT_DATA_STORE_COOKIE='clientDataInCookie';const CLIENT_DATA_STORE_LS='clientDataInLocalStorage';const CLIENT_DATA_STORE_MEMORY='clientDataInMemory';const CLIENT_DATA_STORE_SESSION='clientDataInSessionStorage';const USER_SESSION_KEYS=['userId','userTraits','anonymousId','groupId','groupTraits','initialReferrer','initialReferringDomain','sessionInfo','authToken'];\n\nconst storageClientDataStoreNameMap={[COOKIE_STORAGE]:CLIENT_DATA_STORE_COOKIE,[LOCAL_STORAGE]:CLIENT_DATA_STORE_LS,[MEMORY_STORAGE]:CLIENT_DATA_STORE_MEMORY,[SESSION_STORAGE]:CLIENT_DATA_STORE_SESSION};\n\nconst COOKIE_DATA_ENCODING_ERROR=`Failed to encode the cookie data.`;\n\n/**\n * Encode.\n */const encode=(value,logger)=>{try{return encodeURIComponent(value);}catch(err){logger?.error(COOKIE_DATA_ENCODING_ERROR,err);return undefined;}};/**\n * Decode\n */const decode=value=>{try{return decodeURIComponent(value);}catch(err){// Do nothing as non-RS SDK cookies may not be URI encoded\nreturn undefined;}};/**\n * Parse cookie `str`\n */const parse=str=>{const obj={};const pairs=str.split(/\\s*;\\s*/);let pair;if(!pairs[0]){return obj;}// TODO: Decode only the cookies that are needed by the SDK\npairs.forEach(pairItem=>{pair=pairItem.split('=');const keyName=pair[0]?decode(pair[0]):undefined;if(keyName){obj[keyName]=pair[1]?decode(pair[1]):undefined;}});return obj;};/**\n * Set cookie `name` to `value`\n */const set=(name,value,optionsConfig,logger)=>{const options={...(optionsConfig||{})};let cookieString=`${encode(name,logger)}=${encode(value,logger)}`;if(isNull(value)){options.maxage=-1;}if(options.maxage){options.expires=new Date(+new Date()+options.maxage);}if(options.path){cookieString+=`; path=${options.path}`;}if(options.domain){cookieString+=`; domain=${options.domain}`;}if(options.expires){cookieString+=`; expires=${options.expires.toUTCString()}`;}if(options.samesite){cookieString+=`; samesite=${options.samesite}`;}if(options.secure){cookieString+=`; secure`;}globalThis.document.cookie=cookieString;};/**\n * Return all cookies\n */const all=()=>{const cookieStringValue=globalThis.document.cookie;return parse(cookieStringValue);};/**\n * Get cookie `name`\n */const get=name=>all()[name];/**\n * Set or get cookie `name` with `value` and `options` object\n */ // eslint-disable-next-line func-names\nconst cookie=function(name,value,options,logger){switch(arguments.length){case 4:case 3:case 2:return set(name,value,options,logger);case 1:if(name){return get(name);}return all();default:return all();}};\n\nconst detectAdBlockers=(errorHandler,logger)=>{// Apparently, '?view=ad' is a query param that is blocked by majority of adblockers\n// Use source config URL here as it is very unlikely to be blocked by adblockers\n// Only the extra query param should make it vulnerable to adblockers\n// This will work even if the users proxies it.\n// The edge case where this doesn't work is when HEAD method is not allowed by the server (user's)\nconst baseUrl=new URL(state.lifecycle.sourceConfigUrl.value);const url=`${baseUrl.origin}${baseUrl.pathname}?view=ad`;const httpClient=new HttpClient(errorHandler,logger);httpClient.setAuthHeader(state.lifecycle.writeKey.value);httpClient.getAsyncData({url,options:{// We actually don't need the response from the request, so we are using HEAD\nmethod:'HEAD',headers:{'Content-Type':undefined}},isRawResponse:true,callback:(result,details)=>{// not ad blocked if the request is successful or it is not internally redirected on the client side\n// Often adblockers instead of blocking the request, they redirect it to an internal URL\nstate.capabilities.isAdBlocked.value=details?.error!==undefined||details?.xhr?.responseURL!==url;}});};\n\nconst hasCrypto$1=()=>!isNullOrUndefined(globalThis.crypto)&&isFunction(globalThis.crypto.getRandomValues);// eslint-disable-next-line compat/compat -- We are checking for the existence of navigator.userAgentData\nconst hasUAClientHints=()=>!isNullOrUndefined(globalThis.navigator.userAgentData);const hasBeacon=()=>!isNullOrUndefined(globalThis.navigator.sendBeacon)&&isFunction(globalThis.navigator.sendBeacon);const isIE11=()=>Boolean(globalThis.navigator.userAgent.match(/Trident.*rv:11\\./));\n\nconst getUserAgentClientHint=(callback,level='none')=>{if(level==='none'){callback(undefined);}if(level==='default'){callback(navigator.userAgentData);}if(level==='full'){navigator.userAgentData?.getHighEntropyValues(['architecture','bitness','brands','mobile','model','platform','platformVersion','uaFullVersion','fullVersionList','wow64']).then(ua=>{callback(ua);}).catch(()=>{callback();});}};\n\nconst isDatasetAvailable=()=>{const testElement=globalThis.document.createElement('div');testElement.setAttribute('data-a-b','c');return testElement.dataset?testElement.dataset.aB==='c':false;};const legacyJSEngineRequiredPolyfills={// Ideally, we should separate the checks for URL and URLSearchParams but\n// the polyfill service serves them under the same feature name, \"URL\".\nURL:()=>!isFunction(globalThis.URL)||!isFunction(globalThis.URLSearchParams),Promise:()=>!isFunction(globalThis.Promise),'Number.isNaN':()=>!isFunction(globalThis.Number.isNaN),'Number.isInteger':()=>!isFunction(globalThis.Number.isInteger),'Array.from':()=>!isFunction(globalThis.Array.from),'Array.prototype.find':()=>!isFunction(globalThis.Array.prototype.find),'Array.prototype.includes':()=>!isFunction(globalThis.Array.prototype.includes),'String.prototype.endsWith':()=>!isFunction(globalThis.String.prototype.endsWith),'String.prototype.startsWith':()=>!isFunction(globalThis.String.prototype.startsWith),'String.prototype.includes':()=>!isFunction(globalThis.String.prototype.includes),'String.prototype.replaceAll':()=>!isFunction(globalThis.String.prototype.replaceAll),'String.fromCodePoint':()=>!isFunction(globalThis.String.fromCodePoint),'Object.entries':()=>!isFunction(globalThis.Object.entries),'Object.values':()=>!isFunction(globalThis.Object.values),'Object.assign':()=>!isFunction(globalThis.Object.assign),'Object.fromEntries':()=>!isFunction(globalThis.Object.fromEntries),'Element.prototype.dataset':()=>!isDatasetAvailable(),// Ideally, we should separate the checks for TextEncoder and TextDecoder but\n// the polyfill service serves them under the same feature name, \"TextEncoder\".\nTextEncoder:()=>!isFunction(globalThis.TextEncoder)||!isFunction(globalThis.TextDecoder),requestAnimationFrame:()=>!isFunction(globalThis.requestAnimationFrame)||!isFunction(globalThis.cancelAnimationFrame),CustomEvent:()=>!isFunction(globalThis.CustomEvent),'navigator.sendBeacon':()=>!isFunction(globalThis.navigator.sendBeacon),// Note, the polyfill service serves both ArrayBuffer and Uint8Array under the same feature name, \"ArrayBuffer\".\nArrayBuffer:()=>!isFunction(globalThis.Uint8Array),Set:()=>!isFunction(globalThis.Set),atob:()=>!isFunction(globalThis.atob)};const isLegacyJSEngine=()=>{const requiredCapabilitiesList=Object.keys(legacyJSEngineRequiredPolyfills);let needsPolyfill=false;/* eslint-disable-next-line unicorn/no-for-loop */for(let i=0;i<requiredCapabilitiesList.length;i++){const isCapabilityMissing=legacyJSEngineRequiredPolyfills[requiredCapabilitiesList[i]];if(isFunction(isCapabilityMissing)&&isCapabilityMissing()){needsPolyfill=true;break;}}return needsPolyfill;};\n\nconst getScreenDetails=()=>{let screenDetails={density:0,width:0,height:0,innerWidth:0,innerHeight:0};screenDetails={width:globalThis.screen.width,height:globalThis.screen.height,density:globalThis.devicePixelRatio,innerWidth:globalThis.innerWidth,innerHeight:globalThis.innerHeight};return screenDetails;};\n\nconst isStorageQuotaExceeded=e=>{const matchingNames=['QuotaExceededError','NS_ERROR_DOM_QUOTA_REACHED'];// [everything except Firefox, Firefox]\nconst matchingCodes=[22,1014];// [everything except Firefox, Firefox]\nconst isQuotaExceededError=matchingNames.includes(e.name)||matchingCodes.includes(e.code);return e instanceof DOMException&&isQuotaExceededError;};// TODO: also check for SecurityErrors\n//  https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage#exceptions\nconst isStorageAvailable=(type=LOCAL_STORAGE,storageInstance,logger)=>{let storage;let testData;try{switch(type){case MEMORY_STORAGE:return true;case COOKIE_STORAGE:storage=storageInstance;testData=STORAGE_TEST_COOKIE;break;case LOCAL_STORAGE:storage=storageInstance??globalThis.localStorage;testData=STORAGE_TEST_LOCAL_STORAGE;// was STORAGE_TEST_LOCAL_STORAGE in ours and generateUUID() in segment retry one\nbreak;case SESSION_STORAGE:storage=storageInstance??globalThis.sessionStorage;testData=STORAGE_TEST_SESSION_STORAGE;break;default:return false;}if(!storage){return false;}storage.setItem(testData,'true');if(storage.getItem(testData)){storage.removeItem(testData);return true;}return false;}catch(err){const msgPrefix=STORAGE_UNAVAILABILITY_ERROR_PREFIX(CAPABILITIES_MANAGER,type);let reason='unavailable';if(isStorageQuotaExceeded(err)){reason='full';}logger?.warn(`${msgPrefix}${reason}.`,err);return false;}};\n\nconst legacyGetHostname=href=>{const l=document.createElement('a');l.href=href;return l.hostname;};/**\n * Levels returns all levels of the given url\n *\n * The method returns an empty array when the hostname is an ip.\n */const levelsFunc=url=>{// This is called before the polyfills load thus new URL cannot be used\nconst host=typeof globalThis.URL!=='function'?legacyGetHostname(url):new URL(url).hostname;const parts=host?.split('.')??[];const last=parts[parts.length-1];const levels=[];// Ip address.\nif(parts.length===4&&last&&last===parseInt(last,10).toString()){return levels;}// Localhost.\nif(parts.length<=1){// Fix to support localhost\nif(parts[0]&&parts[0].indexOf('localhost')!==-1){return ['localhost'];}return levels;}// Create levels.\nfor(let i=parts.length-2;i>=0;i-=1){levels.push(parts.slice(i).join('.'));}return levels;};/**\n * Get the top domain.\n *\n * The function constructs the levels of domain and attempts to set a global\n * cookie on each one when it succeeds it returns the top level domain.\n *\n * The method returns an empty string when the hostname is an ip.\n */const domain=url=>{const levels=levelsFunc(url);// Lookup the real top level one.\n// eslint-disable-next-line unicorn/no-for-loop\nfor(let i=0;i<levels.length;i+=1){const domain=levels[i];const cname=STORAGE_TEST_TOP_LEVEL_DOMAIN;const opts={domain:`${domain.indexOf('localhost')!==-1?'':'.'}${domain}`};// Set cookie on domain\ncookie(cname,1,opts);// If successful\nif(cookie(cname)){// Remove cookie from domain\ncookie(cname,null,opts);return domain;}}return '';};\n\nconst getDefaultCookieOptions=()=>{const topDomain=`.${domain(globalThis.location.href)}`;return {maxage:DEFAULT_COOKIE_MAX_AGE_MS,path:'/',domain:!topDomain||topDomain==='.'?undefined:topDomain,samesite:'Lax',enabled:true};};const getDefaultLocalStorageOptions=()=>({enabled:true});const getDefaultSessionStorageOptions=()=>({enabled:true});const getDefaultInMemoryStorageOptions=()=>({enabled:true});\n\n/**\n * A storage utility to persist values in cookies via Storage interface\n */class CookieStorage{static globalSingleton=null;isSupportAvailable=true;isEnabled=true;length=0;constructor(options={},logger){if(CookieStorage.globalSingleton){// eslint-disable-next-line no-constructor-return\nreturn CookieStorage.globalSingleton;}this.options=getDefaultCookieOptions();this.logger=logger;this.configure(options);CookieStorage.globalSingleton=this;}configure(options){this.options=mergeDeepRight(this.options??{},options);if(options.sameDomainCookiesOnly){delete this.options.domain;}this.isSupportAvailable=isStorageAvailable(COOKIE_STORAGE,this,this.logger);this.isEnabled=Boolean(this.options.enabled&&this.isSupportAvailable);return this.options;}setItem(key,value){cookie(key,value,this.options,this.logger);this.length=Object.keys(cookie()).length;return true;}// eslint-disable-next-line class-methods-use-this\ngetItem(key){const value=cookie(key);return isUndefined(value)?null:value;}removeItem(key){const result=this.setItem(key,null);this.length=Object.keys(cookie()).length;return result;}// eslint-disable-next-line class-methods-use-this\nclear(){// Not implemented\n// getting a list of all cookie storage keys and remove all values\n// sounds risky to do as it will take on all top domain cookies\n// better to explicitly clear specific ones if needed\n}key(index){const curKeys=this.keys();return curKeys[index]??null;}// eslint-disable-next-line class-methods-use-this\nkeys(){return Object.keys(cookie());}}\n\n/**\n * A storage utility to retain values in memory via Storage interface\n */class InMemoryStorage{isEnabled=true;length=0;data={};constructor(options,logger){this.options=getDefaultInMemoryStorageOptions();this.logger=logger;this.configure(options??{});}configure(options){this.options=mergeDeepRight(this.options,options);this.isEnabled=Boolean(this.options.enabled);return this.options;}setItem(key,value){this.data[key]=value;this.length=Object.keys(this.data).length;return value;}getItem(key){if(key in this.data){return this.data[key];}return null;}removeItem(key){if(key in this.data){delete this.data[key];}this.length=Object.keys(this.data).length;return null;}clear(){this.data={};this.length=0;}key(index){const curKeys=this.keys();return curKeys[index]??null;}keys(){return Object.keys(this.data);}}const defaultInMemoryStorage=new InMemoryStorage({},defaultLogger);\n\nvar commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\nfunction getDefaultExportFromCjs (x) {\n\treturn x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;\n}\n\nvar store$1 = {exports: {}};\n\n(function(module,exports){(function(global,factory){module.exports=factory();})(commonjsGlobal,function(){function isJSON(obj){obj=JSON.stringify(obj);if(!/^\\{[\\s\\S]*\\}$/.test(obj)){return false;}return true;}function stringify(val){return val===undefined||typeof val===\"function\"?val+'':JSON.stringify(val);}function deserialize(value){if(typeof value!=='string'){return undefined;}try{return JSON.parse(value);}catch(e){return value;}}function isFunction(value){return {}.toString.call(value)===\"[object Function]\";}function isArray(value){return Object.prototype.toString.call(value)===\"[object Array]\";}// https://github.com/jaywcjlove/store.js/pull/8\n// Error: QuotaExceededError\nfunction dealIncognito(storage){var _KEY='_Is_Incognit',_VALUE='yes';try{// NOTE: set default storage when not passed in\nif(!storage){storage=window.localStorage;}storage.setItem(_KEY,_VALUE);storage.removeItem(_KEY);}catch(e){var inMemoryStorage={};inMemoryStorage._data={};inMemoryStorage.setItem=function(id,val){return inMemoryStorage._data[id]=String(val);};inMemoryStorage.getItem=function(id){return inMemoryStorage._data.hasOwnProperty(id)?inMemoryStorage._data[id]:undefined;};inMemoryStorage.removeItem=function(id){return delete inMemoryStorage._data[id];};inMemoryStorage.clear=function(){return inMemoryStorage._data={};};storage=inMemoryStorage;}finally{if(storage.getItem(_KEY)===_VALUE)storage.removeItem(_KEY);}return storage;}// deal QuotaExceededError if user use incognito mode in browser\nvar storage=dealIncognito();function Store(){if(!(this instanceof Store)){return new Store();}}Store.prototype={set:function set(key,val){if(key&&!isJSON(key)){storage.setItem(key,stringify(val));}else if(isJSON(key)){for(var a in key)this.set(a,key[a]);}return this;},get:function get(key){// Return all entries if no key\nif(key===undefined){var ret={};this.forEach(function(key,val){return ret[key]=val;});return ret;}if(key.charAt(0)==='?'){return this.has(key.substr(1));}var args=arguments;if(args.length>1){var dt={};for(var i=0,len=args.length;i<len;i++){var value=deserialize(storage.getItem(args[i]));if(this.has(args[i])){dt[args[i]]=value;}}return dt;}return deserialize(storage.getItem(key));},clear:function clear(){storage.clear();return this;},remove:function remove(key){var val=this.get(key);storage.removeItem(key);return val;},has:function has(key){return {}.hasOwnProperty.call(this.get(),key);},keys:function keys(){var d=[];this.forEach(function(k){d.push(k);});return d;},forEach:function forEach(callback){for(var i=0,len=storage.length;i<len;i++){var key=storage.key(i);callback(key,this.get(key));}return this;},search:function search(str){var arr=this.keys(),dt={};for(var i=0,len=arr.length;i<len;i++){if(arr[i].indexOf(str)>-1)dt[arr[i]]=this.get(arr[i]);}return dt;},len:function len(){return storage.length;}};var _Store=null;function store(key,data){var argm=arguments;var dt=null;if(!_Store)_Store=Store();if(argm.length===0)return _Store.get();if(argm.length===1){if(typeof key===\"string\")return _Store.get(key);if(isJSON(key))return _Store.set(key);}if(argm.length===2&&typeof key===\"string\"){if(!data)return _Store.remove(key);if(data&&typeof data===\"string\")return _Store.set(key,data);if(data&&isFunction(data)){dt=null;dt=data(key,_Store.get(key));store.set(key,dt);}}if(argm.length===2&&isArray(key)&&isFunction(data)){for(var i=0,len=key.length;i<len;i++){dt=data(key[i],_Store.get(key[i]));store.set(key[i],dt);}}return store;}for(var a in Store.prototype)store[a]=Store.prototype[a];return store;});})(store$1);var storeExports=store$1.exports;const store = /*@__PURE__*/getDefaultExportFromCjs(storeExports);\n\n//  check if the get, set overloads and search methods are used at all\n//  if we do, ensure we provide types to support overloads as per storejs docs\n//  https://www.npmjs.com/package/storejs\n/**\n * A storage utility to persist values in localstorage via Storage interface\n */class LocalStorage{isSupportAvailable=true;isEnabled=true;length=0;constructor(options={},logger){this.options=getDefaultLocalStorageOptions();this.logger=logger;this.configure(options);}configure(options){this.options=mergeDeepRight(this.options,options);this.isSupportAvailable=isStorageAvailable(LOCAL_STORAGE,this,this.logger);this.isEnabled=Boolean(this.options.enabled&&this.isSupportAvailable);return this.options;}setItem(key,value){store.set(key,value);this.length=store.len();}// eslint-disable-next-line class-methods-use-this\ngetItem(key){const value=store.get(key);return isUndefined(value)?null:value;}removeItem(key){store.remove(key);this.length=store.len();}clear(){store.clear();this.length=0;}key(index){const curKeys=this.keys();return curKeys[index]??null;}// eslint-disable-next-line class-methods-use-this\nkeys(){return store.keys();}}const defaultLocalStorage=new LocalStorage({},defaultLogger);\n\n/**\n * A storage utility to persist values in SessionStorage via Storage interface\n */class SessionStorage{isSupportAvailable=true;isEnabled=true;length=0;store=globalThis.sessionStorage;constructor(options={},logger){this.options=getDefaultSessionStorageOptions();this.logger=logger;this.configure(options);}configure(options){this.options=mergeDeepRight(this.options,options);this.isSupportAvailable=isStorageAvailable(SESSION_STORAGE,this,this.logger);this.isEnabled=Boolean(this.options.enabled&&this.isSupportAvailable);return this.options;}setItem(key,value){this.store.setItem(key,value);this.length=this.store.length;}getItem(key){const value=this.store.getItem(key);return isUndefined(value)?null:value;}removeItem(key){this.store.removeItem(key);this.length=this.store.length;}clear(){this.store.clear();this.length=0;}key(index){return this.store.key(index);}keys(){const keys=[];for(let i=0;i<this.store.length;i+=1){const key=this.store.key(i);if(key!==null){keys.push(key);}}return keys;}}const defaultSessionStorage=new SessionStorage({},defaultLogger);\n\n/**\n * A utility to retrieve the storage singleton instance by type\n */const getStorageEngine=type=>{switch(type){case LOCAL_STORAGE:return defaultLocalStorage;case SESSION_STORAGE:return defaultSessionStorage;case MEMORY_STORAGE:return defaultInMemoryStorage;case COOKIE_STORAGE:return new CookieStorage({},defaultLogger);default:return defaultInMemoryStorage;}};/**\n * Configure cookie storage singleton\n */const configureCookieStorageEngine=options=>{const cookieStorageOptions=new CookieStorage({},defaultLogger).configure(options);state.storage.cookie.value={maxage:cookieStorageOptions.maxage,path:cookieStorageOptions.path,domain:cookieStorageOptions.domain,samesite:cookieStorageOptions.samesite,expires:cookieStorageOptions.expires,secure:cookieStorageOptions.secure};};/**\n * Configure local storage singleton\n */const configureLocalStorageEngine=options=>{defaultLocalStorage.configure(options);};/**\n * Configure in memory storage singleton\n */const configureInMemoryStorageEngine=options=>{defaultInMemoryStorage.configure(options);};/**\n * Configure session storage singleton\n */const configureSessionStorageEngine=options=>{defaultSessionStorage.configure(options);};/**\n * Configure all storage singleton instances\n */const configureStorageEngines=(cookieStorageOptions={},localStorageOptions={},inMemoryStorageOptions={},sessionStorageOptions={})=>{configureCookieStorageEngine(cookieStorageOptions);configureLocalStorageEngine(localStorageOptions);configureInMemoryStorageEngine(inMemoryStorageOptions);configureSessionStorageEngine(sessionStorageOptions);};\n\n/**\n * Store Implementation with dedicated storage\n */class Store{hasErrorHandler=false;constructor(config,engine,pluginsManager){this.id=config.id;this.name=config.name;this.isEncrypted=config.isEncrypted??false;this.validKeys=config.validKeys??{};this.engine=engine??getStorageEngine(LOCAL_STORAGE);this.noKeyValidation=Object.keys(this.validKeys).length===0;this.noCompoundKey=config.noCompoundKey;this.originalEngine=this.engine;this.errorHandler=config.errorHandler??defaultErrorHandler;this.hasErrorHandler=Boolean(this.errorHandler);this.logger=config.logger??defaultLogger;this.pluginsManager=pluginsManager;}/**\n   * Ensure the key is valid and with correct format\n   */createValidKey(key){const{name,id,validKeys,noKeyValidation,noCompoundKey}=this;if(noKeyValidation){return noCompoundKey?key:[name,id,key].join('.');}// validate and return undefined if invalid key\nlet compoundKey;Object.values(validKeys).forEach(validKeyName=>{if(validKeyName===key){compoundKey=noCompoundKey?key:[name,id,key].join('.');}});return compoundKey;}/**\n   * Switch to inMemoryEngine, bringing any existing data with.\n   */swapQueueStoreToInMemoryEngine(){const{name,id,validKeys,noCompoundKey}=this;const inMemoryStorage=getStorageEngine(MEMORY_STORAGE);// grab existing data, but only for this page's queue instance, not all\n// better to keep other queues in localstorage to be flushed later\n// than to pull them into memory and remove them from durable storage\nObject.keys(validKeys).forEach(key=>{const value=this.get(validKeys[key]);const validKey=noCompoundKey?key:[name,id,key].join('.');inMemoryStorage.setItem(validKey,value);// TODO: are we sure we want to drop clientData\n//  if cookies are not available and localstorage is full?\nthis.remove(key);});this.engine=inMemoryStorage;}/**\n   * Set value by key.\n   */set(key,value){const validKey=this.createValidKey(key);if(!validKey){return;}try{// storejs that is used in localstorage engine already stringifies json\nthis.engine.setItem(validKey,this.encrypt(stringifyWithoutCircular(value,false,[],this.logger)));}catch(err){if(isStorageQuotaExceeded(err)){this.logger?.warn(STORAGE_QUOTA_EXCEEDED_WARNING(`Store ${this.id}`));// switch to inMemory engine\nthis.swapQueueStoreToInMemoryEngine();// and save it there\nthis.set(key,value);}else {this.onError(getMutatedError(err,STORE_DATA_SAVE_ERROR(key)));}}}/**\n   * Get by Key.\n   */get(key){const validKey=this.createValidKey(key);try{if(!validKey){return null;}const str=this.decrypt(this.engine.getItem(validKey));if(isNullOrUndefined(str)){return null;}// storejs that is used in localstorage engine already deserializes json strings but swallows errors\nreturn JSON.parse(str);}catch(err){this.onError(new Error(`${STORE_DATA_FETCH_ERROR(key)}: ${err.message}`));return null;}}/**\n   * Remove by Key.\n   */remove(key){const validKey=this.createValidKey(key);if(validKey){this.engine.removeItem(validKey);}}/**\n   * Get original engine\n   */getOriginalEngine(){return this.originalEngine;}/**\n   * Decrypt values\n   */decrypt(value){if(isNullOrUndefined(value)){return null;}return this.crypto(value,'decrypt');}/**\n   * Encrypt value\n   */encrypt(value){return this.crypto(value,'encrypt');}/**\n   * Extension point to use with encryption plugins\n   */crypto(value,mode){const noEncryption=!this.isEncrypted||!value||typeof value!=='string'||trim(value)==='';if(noEncryption){return value;}const extensionPointName=`storage.${mode}`;const formattedValue=this.pluginsManager?this.pluginsManager.invokeSingle(extensionPointName,value):value;return typeof formattedValue==='undefined'?value:formattedValue??'';}/**\n   * Handle errors\n   */onError(error){if(this.hasErrorHandler){this.errorHandler?.onError(error,`Store ${this.id}`);}else {throw error;}}}\n\nconst getStorageTypeFromPreConsentIfApplicable=(state,sessionKey)=>{let overriddenStorageType;if(state.consents.preConsent.value.enabled){switch(state.consents.preConsent.value.storage?.strategy){case'none':overriddenStorageType=NO_STORAGE;break;case'session':if(sessionKey!=='sessionInfo'){overriddenStorageType=NO_STORAGE;}break;case'anonymousId':if(sessionKey!=='anonymousId'){overriddenStorageType=NO_STORAGE;}break;}}return overriddenStorageType;};\n\n/**\n * A service to manage stores & available storage client configurations\n */class StoreManager{stores={};isInitialized=false;hasErrorHandler=false;constructor(pluginsManager,errorHandler,logger){this.errorHandler=errorHandler;this.logger=logger;this.hasErrorHandler=Boolean(this.errorHandler);this.pluginsManager=pluginsManager;this.onError=this.onError.bind(this);}/**\n   * Configure available storage client instances\n   */init(){if(this.isInitialized){return;}const loadOptions=state.loadOptions.value;const config={cookieStorageOptions:{samesite:loadOptions.sameSiteCookie,secure:loadOptions.secureCookie,domain:loadOptions.setCookieDomain,sameDomainCookiesOnly:loadOptions.sameDomainCookiesOnly,enabled:true},localStorageOptions:{enabled:true},inMemoryStorageOptions:{enabled:true},sessionStorageOptions:{enabled:true}};configureStorageEngines(removeUndefinedValues(mergeDeepRight(config.cookieStorageOptions??{},state.storage.cookie?.value??{})),removeUndefinedValues(config.localStorageOptions),removeUndefinedValues(config.inMemoryStorageOptions),removeUndefinedValues(config.sessionStorageOptions));this.initClientDataStores();this.isInitialized=true;}/**\n   * Create store to persist data used by the SDK like session, used details etc\n   */initClientDataStores(){this.initializeStorageState();// TODO: fill in extra config values and bring them in from StoreManagerOptions if needed\n// TODO: should we pass the keys for all in order to validate or leave free as v1.1?\n// Initializing all the enabled store because previous user data might be in different storage\n// that needs auto migration\nconst storageTypes=[MEMORY_STORAGE,LOCAL_STORAGE,COOKIE_STORAGE,SESSION_STORAGE];storageTypes.forEach(storageType=>{if(getStorageEngine(storageType)?.isEnabled){this.setStore({id:storageClientDataStoreNameMap[storageType],name:storageClientDataStoreNameMap[storageType],isEncrypted:true,noCompoundKey:true,type:storageType});}});}initializeStorageState(){let globalStorageType=state.storage.type.value;let entriesOptions=state.loadOptions.value.storage?.entries;// Use the storage options from post consent if anything is defined\nconst postConsentStorageOpts=state.consents.postConsent.value.storage;if(isDefined(postConsentStorageOpts?.type)||isDefined(postConsentStorageOpts?.entries)){globalStorageType=postConsentStorageOpts?.type;entriesOptions=postConsentStorageOpts?.entries;}let trulyAnonymousTracking=true;let storageEntries={};USER_SESSION_KEYS.forEach(sessionKey=>{const key=sessionKey;const storageKey=sessionKey;const configuredStorageType=entriesOptions?.[key]?.type;const preConsentStorageType=getStorageTypeFromPreConsentIfApplicable(state,sessionKey);// Storage type precedence order: pre-consent strategy > entry type > global type > default\nconst storageType=preConsentStorageType??configuredStorageType??globalStorageType??DEFAULT_STORAGE_TYPE;const finalStorageType=this.getResolvedStorageTypeForEntry(storageType,sessionKey);if(finalStorageType!==NO_STORAGE){trulyAnonymousTracking=false;}storageEntries={...storageEntries,[sessionKey]:{type:finalStorageType,key:COOKIE_KEYS[storageKey]}};});r(()=>{state.storage.type.value=globalStorageType;state.storage.entries.value=storageEntries;state.storage.trulyAnonymousTracking.value=trulyAnonymousTracking;});}getResolvedStorageTypeForEntry(storageType,sessionKey){let finalStorageType=storageType;switch(storageType){case LOCAL_STORAGE:if(!getStorageEngine(LOCAL_STORAGE)?.isEnabled){finalStorageType=MEMORY_STORAGE;}break;case SESSION_STORAGE:if(!getStorageEngine(SESSION_STORAGE)?.isEnabled){finalStorageType=MEMORY_STORAGE;}break;case MEMORY_STORAGE:case NO_STORAGE:break;case COOKIE_STORAGE:default:// First try setting the storage to cookie else to local storage\nif(getStorageEngine(COOKIE_STORAGE)?.isEnabled){finalStorageType=COOKIE_STORAGE;}else if(getStorageEngine(LOCAL_STORAGE)?.isEnabled){finalStorageType=LOCAL_STORAGE;}else if(getStorageEngine(SESSION_STORAGE)?.isEnabled){finalStorageType=SESSION_STORAGE;}else {finalStorageType=MEMORY_STORAGE;}break;}if(finalStorageType!==storageType){this.logger?.warn(STORAGE_UNAVAILABLE_WARNING(STORE_MANAGER,sessionKey,storageType,finalStorageType));}return finalStorageType;}/**\n   * Create a new store\n   */setStore(storeConfig){const storageEngine=getStorageEngine(storeConfig.type);this.stores[storeConfig.id]=new Store(storeConfig,storageEngine,this.pluginsManager);return this.stores[storeConfig.id];}/**\n   * Retrieve a store\n   */getStore(id){return this.stores[id];}/**\n   * Handle errors\n   */onError(error){if(this.hasErrorHandler){this.errorHandler?.onError(error,STORE_MANAGER);}else {throw error;}}}\n\nconst removeDuplicateSlashes=str=>str.replace(/\\/{2,}/g,'/');/**\n * Checks if provided url is valid or not\n * @param url\n * @returns true if `url` is valid and false otherwise\n */const isValidURL=url=>{if(!isString(url)){return false;}try{// If URL is supported by the browser, we can use it to validate the URL\n// Otherwise, we can at least check if the URL matches the pattern\nif(isFunction(globalThis.URL)){// eslint-disable-next-line no-new\nnew URL(url);}return URL_PATTERN.test(url);}catch(e){return false;}};\n\nconst validateWriteKey=writeKey=>{if(!isString(writeKey)||writeKey.trim().length===0){throw new Error(WRITE_KEY_VALIDATION_ERROR(writeKey));}};const validateDataPlaneUrl=dataPlaneUrl=>{if(!isValidURL(dataPlaneUrl)){throw new Error(DATA_PLANE_URL_VALIDATION_ERROR(dataPlaneUrl));}};const validateLoadArgs=(writeKey,dataPlaneUrl)=>{validateWriteKey(writeKey);validateDataPlaneUrl(dataPlaneUrl);};const isValidSourceConfig=res=>isObjectLiteralAndNotNull(res)&&isObjectLiteralAndNotNull(res.source)&&!isNullOrUndefined(res.source.id)&&isObjectLiteralAndNotNull(res.source.config)&&Array.isArray(res.source.destinations);const isValidStorageType=storageType=>typeof storageType==='string'&&SUPPORTED_STORAGE_TYPES.includes(storageType);const getTopDomain=url=>{// Create a URL object\nconst urlObj=new URL(url);// Extract the host and protocol\nconst{host,protocol}=urlObj;// Split the host into parts\nconst parts=host.split('.');let topDomain;// Handle different cases, especially for co.uk or similar TLDs\nif(parts.length>2){// Join the last two parts for the top-level domain\ntopDomain=`${parts[parts.length-2]}.${parts[parts.length-1]}`;}else {// If only two parts or less, return as it is\ntopDomain=host;}return {topDomain,protocol};};const getTopDomainUrl=url=>{const{topDomain,protocol}=getTopDomain(url);return `${protocol}//${topDomain}`;};const getDataServiceUrl=(endpoint,useExactDomain)=>{const url=useExactDomain?window.location.origin:getTopDomainUrl(window.location.href);const formattedEndpoint=endpoint.startsWith('/')?endpoint.substring(1):endpoint;return `${url}/${formattedEndpoint}`;};const isWebpageTopLevelDomain=providedDomain=>{const{topDomain}=getTopDomain(window.location.href);return topDomain===providedDomain;};\n\n/**\n * A function to filter enabled destinations and map to required properties only\n * @param destinations\n *\n * @returns Destination[]\n */const filterEnabledDestination=destinations=>{const nativeDestinations=[];destinations.forEach(destination=>{if(destination.enabled&&!destination.deleted){nativeDestinations.push({id:destination.id,displayName:destination.destinationDefinition.displayName,config:destination.config,shouldApplyDeviceModeTransformation:destination.shouldApplyDeviceModeTransformation||false,propagateEventsUntransformedOnError:destination.propagateEventsUntransformedOnError||false,userFriendlyId:`${destination.destinationDefinition.displayName.replaceAll(' ','-')}___${destination.id}`});}});return nativeDestinations;};\n\n/**\n * Removes trailing slash from url\n * @param url\n * @returns url\n */const removeTrailingSlashes=url=>url?.endsWith('/')?removeTrailingSlashes(url.substring(0,url.length-1)):url;const getDomain=url=>{try{const urlObj=new URL(url);return urlObj.host;}catch(error){return null;}};/**\n * Get the referring domain from the referrer URL\n * @param referrer Page referrer\n * @returns Page referring domain\n */const getReferringDomain=referrer=>getDomain(referrer)??'';/**\n * Extracts UTM parameters from the URL\n * @param url Page URL\n * @returns UTM parameters\n */const extractUTMParameters=url=>{const result={};try{const urlObj=new URL(url);const UTM_PREFIX='utm_';urlObj.searchParams.forEach((value,sParam)=>{if(sParam.startsWith(UTM_PREFIX)){let utmParam=sParam.substring(UTM_PREFIX.length);// Not sure why we're doing this\nif(utmParam==='campaign'){utmParam='name';}result[utmParam]=value;}});}catch(error){// Do nothing\n}return result;};/**\n * To get the URL until the hash\n * @param url The input URL\n * @returns URL until the hash\n */const getUrlWithoutHash=url=>{let urlWithoutHash=url;try{const urlObj=new URL(url);urlWithoutHash=urlObj.origin+urlObj.pathname+urlObj.search;}catch(error){// Do nothing\n}return urlWithoutHash;};\n\n/**\n * Determines if the SDK is running inside a chrome extension\n * @returns boolean\n */const isSDKRunningInChromeExtension=()=>!!(window.chrome&&window.chrome.runtime&&window.chrome.runtime.id);\n\nconst DEFAULT_PRE_CONSENT_STORAGE_STRATEGY='none';const DEFAULT_PRE_CONSENT_EVENTS_DELIVERY_TYPE='immediate';\n\nconst isErrorReportingEnabled=sourceConfig=>sourceConfig?.statsCollection?.errors?.enabled===true;const getErrorReportingProviderNameFromConfig=sourceConfig=>sourceConfig?.statsCollection?.errors?.provider;const isMetricsReportingEnabled=sourceConfig=>sourceConfig?.statsCollection?.metrics?.enabled===true;\n\nconst DEFAULT_INTEGRATIONS_CONFIG={All:true};\n\n/**\n * Validates and normalizes the consent options provided by the user\n * @param options Consent options provided by the user\n * @returns Validated and normalized consent options\n */const getValidPostConsentOptions=options=>{const validOptions={sendPageEvent:false,trackConsent:false,discardPreConsentEvents:false};if(isObjectLiteralAndNotNull(options)){const clonedOptions=clone(options);validOptions.storage=clonedOptions.storage;if(isDefined(clonedOptions.integrations)){validOptions.integrations=isObjectLiteralAndNotNull(clonedOptions.integrations)?clonedOptions.integrations:DEFAULT_INTEGRATIONS_CONFIG;}validOptions.discardPreConsentEvents=clonedOptions.discardPreConsentEvents===true;validOptions.sendPageEvent=clonedOptions.sendPageEvent===true;validOptions.trackConsent=clonedOptions.trackConsent===true;if(isNonEmptyObject(clonedOptions.consentManagement)){// Override enabled value with the current state value\nvalidOptions.consentManagement=mergeDeepRight(clonedOptions.consentManagement,{enabled:state.consents.enabled.value});}}return validOptions;};/**\n * Validates if the input is a valid consents data\n * @param value Input consents data\n * @returns true if the input is a valid consents data else false\n */const isValidConsentsData=value=>isNonEmptyObject(value)||Array.isArray(value);/**\n * Retrieves the corresponding provider and plugin name of the selected consent manager from the supported consent managers\n * @param consentManagementOpts consent management options\n * @param logger logger instance\n * @returns Corresponding provider and plugin name of the selected consent manager from the supported consent managers\n */const getConsentManagerInfo=(consentManagementOpts,logger)=>{let{provider}=consentManagementOpts;const consentManagerPluginName=provider?ConsentManagersToPluginNameMap[provider]:undefined;if(provider&&!consentManagerPluginName){logger?.error(UNSUPPORTED_CONSENT_MANAGER_ERROR(CONFIG_MANAGER,provider,ConsentManagersToPluginNameMap));// Reset the provider value\nprovider=undefined;}return {provider,consentManagerPluginName};};/**\n * Validates and converts the consent management options into a normalized format\n * @param consentManagementOpts Consent management options provided by the user\n * @param logger logger instance\n * @returns An object containing the consent manager plugin name, initialized, enabled and consents data\n */const getConsentManagementData=(consentManagementOpts,logger)=>{let consentManagerPluginName;let allowedConsentIds=[];let deniedConsentIds=[];let initialized=false;let provider;let enabled=consentManagementOpts?.enabled===true;if(isNonEmptyObject(consentManagementOpts)&&enabled){// Get the corresponding plugin name of the selected consent manager from the supported consent managers\n({provider,consentManagerPluginName}=getConsentManagerInfo(consentManagementOpts,logger));if(isValidConsentsData(consentManagementOpts.allowedConsentIds)){allowedConsentIds=consentManagementOpts.allowedConsentIds;initialized=true;}if(isValidConsentsData(consentManagementOpts.deniedConsentIds)){deniedConsentIds=consentManagementOpts.deniedConsentIds;initialized=true;}}const consentsData={allowedConsentIds,deniedConsentIds};// Enable consent management only if consent manager is supported\nenabled=enabled&&Boolean(consentManagerPluginName);return {provider,consentManagerPluginName,initialized,enabled,consentsData};};\n\n/**\n * Determines the SDK URL\n * @returns sdkURL\n */const getSDKUrl=()=>{const scripts=document.getElementsByTagName('script');const sdkFileNameRegex=/(?:^|\\/)rsa(\\.min)?\\.js$/;// eslint-disable-next-line no-restricted-syntax\nfor(const script of scripts){const src=script.getAttribute('src');if(src&&sdkFileNameRegex.test(src)){return src;}}return undefined;};/**\n * Updates the reporting state variables from the source config data\n * @param res Source config\n * @param logger Logger instance\n */const updateReportingState=(res,logger)=>{state.reporting.isErrorReportingEnabled.value=isErrorReportingEnabled(res.source.config)&&!isSDKRunningInChromeExtension();state.reporting.isMetricsReportingEnabled.value=isMetricsReportingEnabled(res.source.config);if(state.reporting.isErrorReportingEnabled.value){const errReportingProvider=getErrorReportingProviderNameFromConfig(res.source.config);// Get the corresponding plugin name of the selected error reporting provider from the supported error reporting providers\nconst errReportingProviderPlugin=errReportingProvider?ErrorReportingProvidersToPluginNameMap[errReportingProvider]:undefined;if(!isUndefined(errReportingProvider)&&!errReportingProviderPlugin){// set the default error reporting provider\nlogger?.warn(UNSUPPORTED_ERROR_REPORTING_PROVIDER_WARNING(CONFIG_MANAGER,errReportingProvider,ErrorReportingProvidersToPluginNameMap,DEFAULT_ERROR_REPORTING_PROVIDER));}state.reporting.errorReportingProviderPluginName.value=errReportingProviderPlugin??ErrorReportingProvidersToPluginNameMap[DEFAULT_ERROR_REPORTING_PROVIDER];}};const updateStorageStateFromLoadOptions=logger=>{const{useServerSideCookies,dataServiceEndpoint,storage:storageOptsFromLoad,setCookieDomain,sameDomainCookiesOnly}=state.loadOptions.value;let storageType=storageOptsFromLoad?.type;if(isDefined(storageType)&&!isValidStorageType(storageType)){logger?.warn(STORAGE_TYPE_VALIDATION_WARNING(CONFIG_MANAGER,storageType,DEFAULT_STORAGE_TYPE));storageType=DEFAULT_STORAGE_TYPE;}let storageEncryptionVersion=storageOptsFromLoad?.encryption?.version;const encryptionPluginName=storageEncryptionVersion&&StorageEncryptionVersionsToPluginNameMap[storageEncryptionVersion];if(!isUndefined(storageEncryptionVersion)&&isUndefined(encryptionPluginName)){// set the default encryption plugin\nlogger?.warn(UNSUPPORTED_STORAGE_ENCRYPTION_VERSION_WARNING(CONFIG_MANAGER,storageEncryptionVersion,StorageEncryptionVersionsToPluginNameMap,DEFAULT_STORAGE_ENCRYPTION_VERSION));storageEncryptionVersion=DEFAULT_STORAGE_ENCRYPTION_VERSION;}else if(isUndefined(storageEncryptionVersion)){storageEncryptionVersion=DEFAULT_STORAGE_ENCRYPTION_VERSION;}// Allow migration only if the configured encryption version is the default encryption version\nconst configuredMigrationValue=storageOptsFromLoad?.migrate;const finalMigrationVal=configuredMigrationValue&&storageEncryptionVersion===DEFAULT_STORAGE_ENCRYPTION_VERSION;if(configuredMigrationValue===true&&finalMigrationVal!==configuredMigrationValue){logger?.warn(STORAGE_DATA_MIGRATION_OVERRIDE_WARNING(CONFIG_MANAGER,storageEncryptionVersion,DEFAULT_STORAGE_ENCRYPTION_VERSION));}r(()=>{state.storage.type.value=storageType;let cookieOptions=storageOptsFromLoad?.cookie??{};if(useServerSideCookies){state.serverCookies.isEnabledServerSideCookies.value=useServerSideCookies;const providedCookieDomain=cookieOptions.domain??setCookieDomain;/**\n       * Based on the following conditions, we decide whether to use the exact domain or not to determine the data service URL:\n       * 1. If the cookie domain is provided and it is not a top-level domain, then use the exact domain\n       * 2. If the sameDomainCookiesOnly flag is set to true, then use the exact domain\n       */const useExactDomain=isDefined(providedCookieDomain)&&!isWebpageTopLevelDomain(removeLeadingPeriod(providedCookieDomain))||sameDomainCookiesOnly;const dataServiceUrl=getDataServiceUrl(dataServiceEndpoint??DEFAULT_DATA_SERVICE_ENDPOINT,useExactDomain??false);if(isValidURL(dataServiceUrl)){state.serverCookies.dataServiceUrl.value=removeTrailingSlashes(dataServiceUrl);const curHost=getDomain(window.location.href);const dataServiceHost=getDomain(dataServiceUrl);// If the current host is different from the data service host, then it is a cross-site request\n// For server-side cookies to work, we need to set the SameSite=None and Secure attributes\n// One round of cookie options manipulation is taking place here\n// Based on these(setCookieDomain/storage.cookie or sameDomainCookiesOnly) two load-options, final cookie options are set in the storage module\n// TODO: Refactor the cookie options manipulation logic in one place\nif(curHost!==dataServiceHost){cookieOptions={...cookieOptions,samesite:'None',secure:true};}/**\n         * If the sameDomainCookiesOnly flag is not set and the cookie domain is provided(not top level domain),\n         * and the data service host is different from the provided cookie domain, then we disable server-side cookies\n         * ex: provided cookie domain: 'random.com', data service host: 'sub.example.com'\n         */if(!sameDomainCookiesOnly&&useExactDomain&&dataServiceHost!==removeLeadingPeriod(providedCookieDomain)){state.serverCookies.isEnabledServerSideCookies.value=false;logger?.warn(SERVER_SIDE_COOKIE_FEATURE_OVERRIDE_WARNING(CONFIG_MANAGER,providedCookieDomain,dataServiceHost));}}else {state.serverCookies.isEnabledServerSideCookies.value=false;}}state.storage.cookie.value=cookieOptions;state.storage.encryptionPluginName.value=StorageEncryptionVersionsToPluginNameMap[storageEncryptionVersion];state.storage.migrate.value=finalMigrationVal;});};const updateConsentsStateFromLoadOptions=logger=>{const{provider,consentManagerPluginName,initialized,enabled,consentsData}=getConsentManagementData(state.loadOptions.value.consentManagement,logger);// Pre-consent\nconst preConsentOpts=state.loadOptions.value.preConsent;let storageStrategy=preConsentOpts?.storage?.strategy??DEFAULT_PRE_CONSENT_STORAGE_STRATEGY;const StorageStrategies=['none','session','anonymousId'];if(isDefined(storageStrategy)&&!StorageStrategies.includes(storageStrategy)){storageStrategy=DEFAULT_PRE_CONSENT_STORAGE_STRATEGY;logger?.warn(UNSUPPORTED_PRE_CONSENT_STORAGE_STRATEGY(CONFIG_MANAGER,preConsentOpts?.storage?.strategy,DEFAULT_PRE_CONSENT_STORAGE_STRATEGY));}let eventsDeliveryType=preConsentOpts?.events?.delivery??DEFAULT_PRE_CONSENT_EVENTS_DELIVERY_TYPE;const deliveryTypes=['immediate','buffer'];if(isDefined(eventsDeliveryType)&&!deliveryTypes.includes(eventsDeliveryType)){eventsDeliveryType=DEFAULT_PRE_CONSENT_EVENTS_DELIVERY_TYPE;logger?.warn(UNSUPPORTED_PRE_CONSENT_EVENTS_DELIVERY_TYPE(CONFIG_MANAGER,preConsentOpts?.events?.delivery,DEFAULT_PRE_CONSENT_EVENTS_DELIVERY_TYPE));}r(()=>{state.consents.activeConsentManagerPluginName.value=consentManagerPluginName;state.consents.initialized.value=initialized;state.consents.enabled.value=enabled;state.consents.data.value=consentsData;state.consents.provider.value=provider;state.consents.preConsent.value={// Only enable pre-consent if it is explicitly enabled and\n// if it is not already initialized and\n// if consent management is enabled\nenabled:state.loadOptions.value.preConsent?.enabled===true&&initialized===false&&enabled===true,storage:{strategy:storageStrategy},events:{delivery:eventsDeliveryType}};});};/**\n * Determines the consent management state variables from the source config data\n * @param resp Source config response\n * @param logger Logger instance\n */const updateConsentsState=resp=>{let resolutionStrategy=state.consents.resolutionStrategy.value;let cmpMetadata;if(isObjectLiteralAndNotNull(resp.consentManagementMetadata)){if(state.consents.provider.value){resolutionStrategy=resp.consentManagementMetadata.providers.find(p=>p.provider===state.consents.provider.value)?.resolutionStrategy??state.consents.resolutionStrategy.value;}cmpMetadata=resp.consentManagementMetadata;}// If the provider is custom, then the resolution strategy is not applicable\nif(state.consents.provider.value==='custom'){resolutionStrategy=undefined;}r(()=>{state.consents.metadata.value=clone(cmpMetadata);state.consents.resolutionStrategy.value=resolutionStrategy;});};const updateDataPlaneEventsStateFromLoadOptions=logger=>{if(state.dataPlaneEvents.deliveryEnabled.value){const defaultEventsQueuePluginName='XhrQueue';let eventsQueuePluginName=defaultEventsQueuePluginName;if(state.loadOptions.value.useBeacon){if(state.capabilities.isBeaconAvailable.value){eventsQueuePluginName='BeaconQueue';}else {eventsQueuePluginName=defaultEventsQueuePluginName;logger?.warn(UNSUPPORTED_BEACON_API_WARNING(CONFIG_MANAGER));}}r(()=>{state.dataPlaneEvents.eventsQueuePluginName.value=eventsQueuePluginName;});}};const getSourceConfigURL=(configUrl,writeKey,lockIntegrationsVersion,lockPluginsVersion,logger)=>{const defSearchParams=new URLSearchParams({p:MODULE_TYPE,v:APP_VERSION,build:BUILD_TYPE,writeKey,lockIntegrationsVersion:lockIntegrationsVersion.toString(),lockPluginsVersion:lockPluginsVersion.toString()});let origin=DEFAULT_CONFIG_BE_URL;let searchParams=defSearchParams;let pathname='/sourceConfig/';let hash='';if(isValidURL(configUrl)){const configUrlInstance=new URL(configUrl);if(!removeTrailingSlashes(configUrlInstance.pathname).endsWith('/sourceConfig')){configUrlInstance.pathname=`${removeTrailingSlashes(configUrlInstance.pathname)}/sourceConfig/`;}configUrlInstance.pathname=removeDuplicateSlashes(configUrlInstance.pathname);defSearchParams.forEach((value,key)=>{if(configUrlInstance.searchParams.get(key)===null){configUrlInstance.searchParams.set(key,value);}});origin=configUrlInstance.origin;pathname=configUrlInstance.pathname;searchParams=configUrlInstance.searchParams;hash=configUrlInstance.hash;}else {logger?.warn(INVALID_CONFIG_URL_WARNING(CONFIG_MANAGER,configUrl));}return `${origin}${pathname}?${searchParams}${hash}`;};\n\nconst getSDKComponentBaseURL=(componentType,pathSuffix,baseURL,currentVersion,lockVersion,customURL)=>{let sdkComponentURL='';if(customURL){if(!isValidURL(customURL)){throw new Error(COMPONENT_BASE_URL_ERROR(componentType));}return removeTrailingSlashes(customURL);}const sdkURL=getSDKUrl();sdkComponentURL=sdkURL?sdkURL.split('/').slice(0,-1).concat(pathSuffix).join('/'):baseURL;if(lockVersion){sdkComponentURL=sdkComponentURL.replace(`/${CDN_ARCH_VERSION_DIR}/${BUILD_TYPE}/${pathSuffix}`,`/${currentVersion}/${BUILD_TYPE}/${pathSuffix}`);}return sdkComponentURL;};/**\n * A function that determines integration SDK loading path\n * @param currentVersion\n * @param lockIntegrationsVersion\n * @param customIntegrationsCDNPath\n * @returns\n */const getIntegrationsCDNPath=(currentVersion,lockIntegrationsVersion,customIntegrationsCDNPath)=>getSDKComponentBaseURL('integrations',CDN_INT_DIR,DEST_SDK_BASE_URL,currentVersion,lockIntegrationsVersion,customIntegrationsCDNPath);/**\n * A function that determines plugins SDK loading path\n * @param currentVersion Current SDK version\n * @param lockPluginsVersion Flag to lock the plugins version\n * @param customPluginsCDNPath URL to load the plugins from\n * @returns Final plugins CDN path\n */const getPluginsCDNPath=(currentVersion,lockPluginsVersion,customPluginsCDNPath)=>getSDKComponentBaseURL('plugins',CDN_PLUGINS_DIR,PLUGINS_BASE_URL,currentVersion,lockPluginsVersion,customPluginsCDNPath);\n\nclass ConfigManager{hasErrorHandler=false;constructor(httpClient,errorHandler,logger){this.errorHandler=errorHandler;this.logger=logger;this.httpClient=httpClient;this.hasErrorHandler=Boolean(this.errorHandler);this.onError=this.onError.bind(this);this.processConfig=this.processConfig.bind(this);}attachEffects(){E(()=>{this.logger?.setMinLogLevel(state.lifecycle.logLevel.value);});}/**\n   * A function to validate, construct and store loadOption, lifecycle, source and destination\n   * config related information in global state\n   */init(){this.attachEffects();validateLoadArgs(state.lifecycle.writeKey.value,state.lifecycle.dataPlaneUrl.value);const{logLevel,configUrl,lockIntegrationsVersion,lockPluginsVersion,destSDKBaseURL,pluginsSDKBaseURL}=state.loadOptions.value;state.lifecycle.activeDataplaneUrl.value=removeTrailingSlashes(state.lifecycle.dataPlaneUrl.value);// determine the path to fetch integration SDK from\nconst intgCdnUrl=getIntegrationsCDNPath(APP_VERSION,lockIntegrationsVersion,destSDKBaseURL);// determine the path to fetch remote plugins from\nconst pluginsCDNPath=getPluginsCDNPath(APP_VERSION,lockPluginsVersion,pluginsSDKBaseURL);updateStorageStateFromLoadOptions(this.logger);updateConsentsStateFromLoadOptions(this.logger);updateDataPlaneEventsStateFromLoadOptions(this.logger);// set application lifecycle state in global state\nr(()=>{state.lifecycle.integrationsCDNPath.value=intgCdnUrl;state.lifecycle.pluginsCDNPath.value=pluginsCDNPath;if(logLevel){state.lifecycle.logLevel.value=logLevel;}state.lifecycle.sourceConfigUrl.value=getSourceConfigURL(configUrl,state.lifecycle.writeKey.value,lockIntegrationsVersion,lockPluginsVersion,this.logger);});this.getConfig();}/**\n   * Handle errors\n   */onError(error,customMessage,shouldAlwaysThrow){if(this.hasErrorHandler){this.errorHandler?.onError(error,CONFIG_MANAGER,customMessage,shouldAlwaysThrow);}else {throw error;}}/**\n   * A callback function that is executed once we fetch the source config response.\n   * Use to construct and store information that are dependent on the sourceConfig.\n   */processConfig(response,details){// TODO: add retry logic with backoff based on rejectionDetails.xhr.status\n// We can use isErrRetryable utility method\nif(!response){this.onError(SOURCE_CONFIG_FETCH_ERROR(details?.error));return;}let res;try{if(isString(response)){res=JSON.parse(response);}else {res=response;}}catch(err){this.onError(err,SOURCE_CONFIG_RESOLUTION_ERROR,true);return;}if(!isValidSourceConfig(res)){this.onError(new Error(SOURCE_CONFIG_RESOLUTION_ERROR),undefined,true);return;}// Log error and abort if source is disabled\nif(res.source.enabled===false){this.logger?.error(SOURCE_DISABLED_ERROR);return;}// set the values in state for reporting slice\nupdateReportingState(res,this.logger);const nativeDestinations=res.source.destinations.length>0?filterEnabledDestination(res.source.destinations):[];// set in the state --> source, destination, lifecycle, reporting\nr(()=>{// set source related information in state\nstate.source.value={config:res.source.config,id:res.source.id,workspaceId:res.source.workspaceId};// set device mode destination related information in state\nstate.nativeDestinations.configuredDestinations.value=nativeDestinations;// set the desired optional plugins\nstate.plugins.pluginsToLoadFromConfig.value=state.loadOptions.value.plugins??[];updateConsentsState(res);// set application lifecycle state\nstate.lifecycle.status.value='configured';});}/**\n   * A function to fetch source config either from /sourceConfig endpoint\n   * or from getSourceConfig load option\n   * @returns\n   */getConfig(){const sourceConfigFunc=state.loadOptions.value.getSourceConfig;if(sourceConfigFunc){if(!isFunction(sourceConfigFunc)){throw new Error(SOURCE_CONFIG_OPTION_ERROR);}// Fetch source config from the function\nconst res=sourceConfigFunc();if(res instanceof Promise){res.then(pRes=>this.processConfig(pRes)).catch(err=>{this.onError(err,'SourceConfig');});}else {this.processConfig(res);}}else {// Fetch source configuration from the configured URL\nthis.httpClient.getAsyncData({url:state.lifecycle.sourceConfigUrl.value,options:{headers:{'Content-Type':undefined}},callback:this.processConfig});}}}\n\n/**\n * To get the timezone of the user\n *\n * @returns string\n */const getTimezone=()=>{const timezone=new Date().toString().match(/([A-Z]+[+-]\\d+)/);return timezone&&timezone[1]?timezone[1]:'NA';};\n\n/**\n * Get the referrer URL\n * @returns The referrer URL\n */const getReferrer=()=>document?.referrer||'$direct';/**\n * To get the canonical URL of the page\n * @returns canonical URL\n */const getCanonicalUrl=()=>{const tags=document.getElementsByTagName('link');let canonicalUrl='';for(let i=0;tags[i];i+=1){const tag=tags[i];if(tag.getAttribute('rel')==='canonical'&&!canonicalUrl){canonicalUrl=tag.getAttribute('href')??'';break;}}return canonicalUrl;};const getUserAgent=()=>{if(isUndefined(globalThis.navigator)){return null;}let{userAgent}=globalThis.navigator;const{brave}=globalThis.navigator;// For supporting Brave browser detection,\n// add \"Brave/<version>\" to the user agent with the version value from the Chrome component\nif(brave&&Object.getPrototypeOf(brave).isBrave){// Example:\n// Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.5060.114 Safari/537.36\nconst matchedArr=userAgent.match(/(chrome)\\/([\\w.]+)/i);if(matchedArr){userAgent=`${userAgent} Brave/${matchedArr[2]}`;}}return userAgent;};const getLanguage=()=>{if(isUndefined(globalThis.navigator)){return null;}return globalThis.navigator.language??globalThis.navigator.browserLanguage;};/**\n * Default page properties\n * @returns Default page properties\n */const getDefaultPageProperties=()=>{const canonicalUrl=getCanonicalUrl();let path=globalThis.location.pathname;const{href:tabUrl}=globalThis.location;let pageUrl=tabUrl;const{search}=globalThis.location;// If valid canonical URL is provided use this as page URL.\nif(canonicalUrl){try{const urlObj=new URL(canonicalUrl);// If existing, query params of canonical URL will be used instead of the location.search ones\nif(urlObj.search===''){pageUrl=canonicalUrl+search;}else {pageUrl=canonicalUrl;}path=urlObj.pathname;}catch(err){// Do nothing\n}}const url=getUrlWithoutHash(pageUrl);const{title}=document;const referrer=getReferrer();return {path,referrer,referring_domain:getReferringDomain(referrer),search,title,url,tab_url:tabUrl};};\n\nconst POLYFILL_URL=`https://polyfill-fastly.io/v3/polyfill.min.js?version=3.111.0&features=${Object.keys(legacyJSEngineRequiredPolyfills).join('%2C')}`;const POLYFILL_LOAD_TIMEOUT=10*1000;// 10 seconds\nconst POLYFILL_SCRIPT_ID='rudderstackPolyfill';\n\nclass CapabilitiesManager{constructor(errorHandler,logger){this.logger=logger;this.errorHandler=errorHandler;this.externalSrcLoader=new ExternalSrcLoader(this.errorHandler,this.logger);this.onError=this.onError.bind(this);this.onReady=this.onReady.bind(this);}init(){try{this.prepareBrowserCapabilities();this.attachWindowListeners();}catch(err){this.onError(err);}}/**\n   * Detect supported capabilities and set values in state\n   */ // eslint-disable-next-line class-methods-use-this\ndetectBrowserCapabilities(){r(()=>{// Storage related details\nstate.capabilities.storage.isCookieStorageAvailable.value=isStorageAvailable(COOKIE_STORAGE,getStorageEngine(COOKIE_STORAGE),this.logger);state.capabilities.storage.isLocalStorageAvailable.value=isStorageAvailable(LOCAL_STORAGE,undefined,this.logger);state.capabilities.storage.isSessionStorageAvailable.value=isStorageAvailable(SESSION_STORAGE,undefined,this.logger);// Browser feature detection details\nstate.capabilities.isBeaconAvailable.value=hasBeacon();state.capabilities.isUaCHAvailable.value=hasUAClientHints();state.capabilities.isCryptoAvailable.value=hasCrypto$1();state.capabilities.isIE11.value=isIE11();state.capabilities.isOnline.value=globalThis.navigator.onLine;// Get page context details\nstate.context.userAgent.value=getUserAgent();state.context.locale.value=getLanguage();state.context.screen.value=getScreenDetails();state.context.timezone.value=getTimezone();if(hasUAClientHints()){getUserAgentClientHint(uach=>{state.context['ua-ch'].value=uach;},state.loadOptions.value.uaChTrackLevel);}});// Ad blocker detection\nE(()=>{if(state.loadOptions.value.sendAdblockPage===true&&state.lifecycle.sourceConfigUrl.value!==undefined){detectAdBlockers(this.errorHandler,this.logger);}});}/**\n   * Detect if polyfills are required and then load script from polyfill URL\n   */prepareBrowserCapabilities(){state.capabilities.isLegacyDOM.value=isLegacyJSEngine();const customPolyfillUrl=state.loadOptions.value.polyfillURL;let polyfillUrl=POLYFILL_URL;if(isDefinedAndNotNull(customPolyfillUrl)){if(isValidURL(customPolyfillUrl)){polyfillUrl=customPolyfillUrl;}else {this.logger?.warn(INVALID_POLYFILL_URL_WARNING(CAPABILITIES_MANAGER,customPolyfillUrl));}}const shouldLoadPolyfill=state.loadOptions.value.polyfillIfRequired&&state.capabilities.isLegacyDOM.value&&isValidURL(polyfillUrl);if(shouldLoadPolyfill){const isDefaultPolyfillService=polyfillUrl!==state.loadOptions.value.polyfillURL;if(isDefaultPolyfillService){// write key specific callback\n// NOTE: we're not putting this into RudderStackGlobals as providing the property path to the callback function in the polyfill URL is not possible\nconst polyfillCallbackName=`RS_polyfillCallback_${state.lifecycle.writeKey.value}`;const polyfillCallback=()=>{this.onReady();// Remove the entry from window so we don't leave room for calling it again\ndelete globalThis[polyfillCallbackName];};globalThis[polyfillCallbackName]=polyfillCallback;polyfillUrl=`${polyfillUrl}&callback=${polyfillCallbackName}`;}this.externalSrcLoader.loadJSFile({url:polyfillUrl,id:POLYFILL_SCRIPT_ID,async:true,timeout:POLYFILL_LOAD_TIMEOUT,callback:scriptId=>{if(!scriptId){this.onError(new Error(POLYFILL_SCRIPT_LOAD_ERROR(POLYFILL_SCRIPT_ID,polyfillUrl)));}else if(!isDefaultPolyfillService){this.onReady();}}});}else {this.onReady();}}/**\n   * Attach listeners to window to observe event that update capabilities state values\n   */attachWindowListeners(){globalThis.addEventListener('offline',()=>{state.capabilities.isOnline.value=false;});globalThis.addEventListener('online',()=>{state.capabilities.isOnline.value=true;});globalThis.addEventListener('resize',debounce(()=>{state.context.screen.value=getScreenDetails();},this));}/**\n   * Set the lifecycle status to next phase\n   */ // eslint-disable-next-line class-methods-use-this\nonReady(){this.detectBrowserCapabilities();state.lifecycle.status.value='browserCapabilitiesReady';}/**\n   * Handles error\n   * @param error The error object\n   */onError(error){if(this.errorHandler){this.errorHandler.onError(error,CAPABILITIES_MANAGER);}else {throw error;}}}\n\nfunction random(len){return crypto.getRandomValues(new Uint8Array(len));}\n\nvar SIZE=4096,HEX$1=[],IDX$1=0,BUFFER$1;for(;IDX$1<256;IDX$1++){HEX$1[IDX$1]=(IDX$1+256).toString(16).substring(1);}function v4$1(){if(!BUFFER$1||IDX$1+16>SIZE){BUFFER$1=random(SIZE);IDX$1=0;}var i=0,tmp,out='';for(;i<16;i++){tmp=BUFFER$1[IDX$1+i];if(i==6)out+=HEX$1[tmp&15|64];else if(i==8)out+=HEX$1[tmp&63|128];else out+=HEX$1[tmp];if(i&1&&i>1&&i<11)out+='-';}IDX$1+=16;return out;}\n\nvar IDX=256,HEX=[],BUFFER;while(IDX--)HEX[IDX]=(IDX+256).toString(16).substring(1);function v4(){var i=0,num,out='';if(!BUFFER||IDX+16>256){BUFFER=Array(i=256);while(i--)BUFFER[i]=256*Math.random()|0;i=IDX=0;}for(;i<16;i++){num=BUFFER[IDX+i];if(i==6)out+=HEX[num&15|64];else if(i==8)out+=HEX[num&63|128];else out+=HEX[num];if(i&1&&i>1&&i<11)out+='-';}IDX++;return out;}\n\nconst hasCrypto=()=>!isNullOrUndefined(globalThis.crypto)&&isFunction(globalThis.crypto.getRandomValues);\n\nconst generateUUID=()=>{if(hasCrypto()){return v4$1();}return v4();};\n\n/**\n * To get the current timestamp in ISO string format\n * @returns ISO formatted timestamp string\n */const getCurrentTimeFormatted=()=>{const curDateTime=new Date().toISOString();return curDateTime;};\n\nconst CHANNEL='web';// These are the top-level elements in the standard RudderStack event spec\nconst TOP_LEVEL_ELEMENTS=['integrations','anonymousId','originalTimestamp'];// Reserved elements in the context of standard RudderStack event spec\n// Typically, these elements are not allowed to be overridden by the user\nconst CONTEXT_RESERVED_ELEMENTS=['library','consentManagement','userAgent','ua-ch','screen'];// Reserved elements in the standard RudderStack event spec\nconst RESERVED_ELEMENTS=['id','anonymous_id','user_id','sent_at','timestamp','received_at','original_timestamp','event','event_text','channel','context_ip','context_request_ip','context_passed_ip','group_id','previous_id'];\n\n/**\n * A function to check given value is a number or not\n * @param num input value\n * @returns boolean\n */const isNumber=num=>typeof num==='number'&&!Number.isNaN(num);/**\n * A function to check given number has minimum length or not\n * @param minimumLength     minimum length\n * @param num               input number\n * @returns boolean\n */const hasMinLength=(minimumLength,num)=>num.toString().length>=minimumLength;/**\n * A function to check given value is a positive integer or not\n * @param num input value\n * @returns boolean\n */const isPositiveInteger=num=>isNumber(num)&&num>=0&&Number.isInteger(num);\n\nconst MIN_SESSION_ID_LENGTH=10;/**\n * A function to validate current session and return true/false depending on that\n * @returns boolean\n */const hasSessionExpired=expiresAt=>{const timestamp=Date.now();return Boolean(!expiresAt||timestamp>expiresAt);};/**\n * A function to generate session id\n * @returns number\n */const generateSessionId=()=>Date.now();/**\n * Function to validate user provided sessionId\n * @param {number} sessionId\n * @param logger logger\n * @returns\n */const isManualSessionIdValid=(sessionId,logger)=>{if(!sessionId||!isPositiveInteger(sessionId)||!hasMinLength(MIN_SESSION_ID_LENGTH,sessionId)){logger?.warn(INVALID_SESSION_ID_WARNING(USER_SESSION_MANAGER,sessionId,MIN_SESSION_ID_LENGTH));return false;}return true;};/**\n * A function to generate new auto tracking session\n * @param sessionTimeout current timestamp\n * @returns SessionInfo\n */const generateAutoTrackingSession=sessionTimeout=>{const timestamp=Date.now();const timeout=sessionTimeout||DEFAULT_SESSION_TIMEOUT_MS;return {id:timestamp,// set the current timestamp\nexpiresAt:timestamp+timeout,// set the expiry time of the session\ntimeout,sessionStart:undefined,autoTrack:true};};/**\n * A function to generate new manual tracking session\n * @param id Provided sessionId\n * @param logger Logger module\n * @returns SessionInfo\n */const generateManualTrackingSession=(id,logger)=>{const sessionId=isManualSessionIdValid(id,logger)?id:generateSessionId();return {id:sessionId,sessionStart:undefined,manualTrack:true};};const isStorageTypeValidForStoringData=storageType=>Boolean(storageType===COOKIE_STORAGE||storageType===LOCAL_STORAGE||storageType===SESSION_STORAGE||storageType===MEMORY_STORAGE);/**\n * Generate a new anonymousId\n * @returns string anonymousID\n */const generateAnonymousId=()=>generateUUID();\n\n/**\n * To get the page properties for context object\n * @param pageProps Page properties\n * @returns page properties object for context\n */const getContextPageProperties=pageProps=>{// Need to get updated page details on each event as an event to notify on SPA URL changes does not seem to exist\nconst curPageProps=getDefaultPageProperties();const ctxPageProps={};Object.keys(curPageProps).forEach(key=>{ctxPageProps[key]=pageProps?.[key]||curPageProps[key];});ctxPageProps.initial_referrer=pageProps?.initial_referrer||state.session.initialReferrer.value;ctxPageProps.initial_referring_domain=pageProps?.initial_referring_domain||state.session.initialReferringDomain.value;return ctxPageProps;};/**\n * Add any missing default page properties using values from options and defaults\n * @param properties Input page properties\n * @param options API options\n */const getUpdatedPageProperties=(properties,options)=>{const optionsPageProps=options?.page||{};const pageProps=properties;// Need to get updated page details on each event as an event to notify on SPA URL changes does not seem to exist\nconst curPageProps=getDefaultPageProperties();Object.keys(curPageProps).forEach(key=>{if(isUndefined(pageProps[key])){pageProps[key]=optionsPageProps[key]||curPageProps[key];}});if(isUndefined(pageProps.initial_referrer)){pageProps.initial_referrer=optionsPageProps.initial_referrer||state.session.initialReferrer.value;}if(isUndefined(pageProps.initial_referring_domain)){pageProps.initial_referring_domain=optionsPageProps.initial_referring_domain||state.session.initialReferringDomain.value;}return pageProps;};/**\n * Utility to check for reserved keys in the input object\n * @param obj Generic object\n * @param parentKeyPath Object's parent key path\n * @param logger Logger instance\n */const checkForReservedElementsInObject=(obj,parentKeyPath,logger)=>{if(isObjectLiteralAndNotNull(obj)){Object.keys(obj).forEach(property=>{if(RESERVED_ELEMENTS.includes(property)||RESERVED_ELEMENTS.includes(property.toLowerCase())){logger?.warn(RESERVED_KEYWORD_WARNING(EVENT_MANAGER,property,parentKeyPath,RESERVED_ELEMENTS));}});}};/**\n * Checks for reserved keys in traits, properties, and contextual traits\n * @param rudderEvent Generated rudder event\n * @param logger Logger instance\n */const checkForReservedElements=(rudderEvent,logger)=>{//  properties, traits, contextualTraits are either undefined or object\nconst{properties,traits,context}=rudderEvent;const{traits:contextualTraits}=context;checkForReservedElementsInObject(properties,'properties',logger);checkForReservedElementsInObject(traits,'traits',logger);checkForReservedElementsInObject(contextualTraits,'context.traits',logger);};/**\n * Overrides the top-level event properties with data from API options\n * @param rudderEvent Generated rudder event\n * @param options API options\n */const updateTopLevelEventElements=(rudderEvent,options)=>{if(options.anonymousId&&isString(options.anonymousId)){// eslint-disable-next-line no-param-reassign\nrudderEvent.anonymousId=options.anonymousId;}if(isObjectLiteralAndNotNull(options.integrations)){// eslint-disable-next-line no-param-reassign\nrudderEvent.integrations=options.integrations;}if(options.originalTimestamp&&isString(options.originalTimestamp)){// eslint-disable-next-line no-param-reassign\nrudderEvent.originalTimestamp=options.originalTimestamp;}};/**\n * To merge the contextual information in API options with existing data\n * @param rudderContext Generated rudder event\n * @param options API options\n * @param logger Logger instance\n */const getMergedContext=(rudderContext,options,logger)=>{let context=rudderContext;Object.keys(options).forEach(key=>{if(!TOP_LEVEL_ELEMENTS.includes(key)&&!CONTEXT_RESERVED_ELEMENTS.includes(key)){if(key!=='context'){context=mergeDeepRight(context,{[key]:options[key]});}else if(!isUndefined(options[key])&&isObjectLiteralAndNotNull(options[key])){const tempContext={};Object.keys(options[key]).forEach(e=>{if(!CONTEXT_RESERVED_ELEMENTS.includes(e)){tempContext[e]=options[key][e];}});context=mergeDeepRight(context,{...tempContext});}else;}});return context;};/**\n * A function to determine whether SDK should use the integration option provided in load call\n * @returns boolean\n */const shouldUseGlobalIntegrationsConfigInEvents=()=>state.loadOptions.value.useGlobalIntegrationsConfigInEvents&&(isObjectLiteralAndNotNull(state.consents.postConsent.value?.integrations)||isObjectLiteralAndNotNull(state.nativeDestinations.loadOnlyIntegrations.value));/**\n * Updates rudder event object with data from the API options\n * @param rudderEvent Generated rudder event\n * @param options API options\n */const processOptions=(rudderEvent,options)=>{// Only allow object type for options\nif(isObjectLiteralAndNotNull(options)){updateTopLevelEventElements(rudderEvent,options);// eslint-disable-next-line no-param-reassign\nrudderEvent.context=getMergedContext(rudderEvent.context,options);}};/**\n * Returns the final integrations config for the event based on the global config and event's config\n * @param integrationsConfig Event's integrations config\n * @returns Final integrations config\n */const getEventIntegrationsConfig=integrationsConfig=>{let finalIntgConfig;if(shouldUseGlobalIntegrationsConfigInEvents()){finalIntgConfig=clone(state.consents.postConsent.value?.integrations??state.nativeDestinations.loadOnlyIntegrations.value);}else if(isObjectLiteralAndNotNull(integrationsConfig)){finalIntgConfig=integrationsConfig;}else {finalIntgConfig=DEFAULT_INTEGRATIONS_CONFIG;}return finalIntgConfig;};/**\n * Enrich the base event object with data from state and the API options\n * @param rudderEvent RudderEvent object\n * @param options API options\n * @param pageProps Page properties\n * @param logger logger\n * @returns Enriched RudderEvent object\n */const getEnrichedEvent=(rudderEvent,options,pageProps,logger)=>{const commonEventData={channel:CHANNEL,context:{traits:clone(state.session.userTraits.value),sessionId:state.session.sessionInfo.value.id||undefined,sessionStart:state.session.sessionInfo.value.sessionStart||undefined,// Add 'consentManagement' only if consent management is enabled\n...(state.consents.enabled.value&&{consentManagement:{deniedConsentIds:clone(state.consents.data.value.deniedConsentIds),allowedConsentIds:clone(state.consents.data.value.allowedConsentIds),provider:state.consents.provider.value,resolutionStrategy:state.consents.resolutionStrategy.value}}),'ua-ch':state.context['ua-ch'].value,app:state.context.app.value,library:state.context.library.value,userAgent:state.context.userAgent.value,os:state.context.os.value,locale:state.context.locale.value,screen:state.context.screen.value,campaign:extractUTMParameters(globalThis.location.href),page:getContextPageProperties(pageProps),timezone:state.context.timezone.value},originalTimestamp:getCurrentTimeFormatted(),integrations:DEFAULT_INTEGRATIONS_CONFIG,messageId:generateUUID(),userId:rudderEvent.userId||state.session.userId.value};if(!isStorageTypeValidForStoringData(state.storage.entries.value.anonymousId?.type)){// Generate new anonymous id for each request\ncommonEventData.anonymousId=generateAnonymousId();}else {// Type casting to string as the user session manager will take care of initializing the value\ncommonEventData.anonymousId=state.session.anonymousId.value;}// set truly anonymous tracking flag\nif(state.storage.trulyAnonymousTracking.value){commonEventData.context.trulyAnonymousTracking=true;}if(rudderEvent.type==='identify'){commonEventData.context.traits=state.storage.entries.value.userTraits?.type!==NO_STORAGE?clone(state.session.userTraits.value):rudderEvent.context.traits;}if(rudderEvent.type==='group'){if(rudderEvent.groupId||state.session.groupId.value){commonEventData.groupId=rudderEvent.groupId||state.session.groupId.value;}if(rudderEvent.traits||state.session.groupTraits.value){commonEventData.traits=state.storage.entries.value.groupTraits?.type!==NO_STORAGE?clone(state.session.groupTraits.value):rudderEvent.traits;}}const processedEvent=mergeDeepRight(rudderEvent,commonEventData);// Set the default values for the event properties\n// matching with v1.1 payload\nif(processedEvent.event===undefined){processedEvent.event=null;}if(processedEvent.properties===undefined){processedEvent.properties=null;}processOptions(processedEvent,options);checkForReservedElements(processedEvent,logger);// Update the integrations config for the event\nprocessedEvent.integrations=getEventIntegrationsConfig(processedEvent.integrations);return processedEvent;};\n\nclass RudderEventFactory{constructor(logger){this.logger=logger;}/**\n   * Generate a 'page' event based on the user-input fields\n   * @param category Page's category\n   * @param name Page name\n   * @param properties Page properties\n   * @param options API options\n   */generatePageEvent(category,name,properties,options){let props=properties??{};props.name=name;props.category=category;props=getUpdatedPageProperties(props,options);const pageEvent={properties:props,name,category,type:'page'};return getEnrichedEvent(pageEvent,options,props,this.logger);}/**\n   * Generate a 'track' event based on the user-input fields\n   * @param event The event name\n   * @param properties Event properties\n   * @param options API options\n   */generateTrackEvent(event,properties,options){const trackEvent={properties,event,type:'track'};return getEnrichedEvent(trackEvent,options,undefined,this.logger);}/**\n   * Generate an 'identify' event based on the user-input fields\n   * @param userId New user ID\n   * @param traits new traits\n   * @param options API options\n   */generateIdentifyEvent(userId,traits,options){const identifyEvent={userId,type:'identify',context:{traits}};return getEnrichedEvent(identifyEvent,options,undefined,this.logger);}/**\n   * Generate an 'alias' event based on the user-input fields\n   * @param to New user ID\n   * @param from Old user ID\n   * @param options API options\n   */generateAliasEvent(to,from,options){const aliasEvent={previousId:from,type:'alias'};const enrichedEvent=getEnrichedEvent(aliasEvent,options,undefined,this.logger);// override the User ID from the API inputs\nenrichedEvent.userId=to??enrichedEvent.userId;return enrichedEvent;}/**\n   * Generate a 'group' event based on the user-input fields\n   * @param groupId New group ID\n   * @param traits new group traits\n   * @param options API options\n   */generateGroupEvent(groupId,traits,options){const groupEvent={type:'group'};if(groupId){groupEvent.groupId=groupId;}if(traits){groupEvent.traits=traits;}return getEnrichedEvent(groupEvent,options,undefined,this.logger);}/**\n   * Generates a new RudderEvent object based on the user-input fields\n   * @param event API event parameters object\n   * @returns A RudderEvent object\n   */create(event){let eventObj;switch(event.type){case'page':eventObj=this.generatePageEvent(event.category,event.name,event.properties,event.options);break;case'track':eventObj=this.generateTrackEvent(event.name,event.properties,event.options);break;case'identify':eventObj=this.generateIdentifyEvent(event.userId,event.traits,event.options);break;case'alias':eventObj=this.generateAliasEvent(event.to,event.from,event.options);break;case'group':eventObj=this.generateGroupEvent(event.groupId,event.traits,event.options);break;}return eventObj;}}\n\n/**\n * A service to generate valid event payloads and queue them for processing\n */class EventManager{/**\n   *\n   * @param eventRepository Event repository instance\n   * @param userSessionManager UserSession Manager instance\n   * @param errorHandler Error handler object\n   * @param logger Logger object\n   */constructor(eventRepository,userSessionManager,errorHandler,logger){this.eventRepository=eventRepository;this.userSessionManager=userSessionManager;this.errorHandler=errorHandler;this.logger=logger;this.eventFactory=new RudderEventFactory(this.logger);this.onError=this.onError.bind(this);}/**\n   * Initializes the event manager\n   */init(){this.eventRepository.init();}resume(){this.eventRepository.resume();}/**\n   * Consumes a new incoming event\n   * @param event Incoming event data\n   */addEvent(event){this.userSessionManager.refreshSession();const rudderEvent=this.eventFactory.create(event);if(rudderEvent){this.eventRepository.enqueue(rudderEvent,event.callback);}else {this.onError(new Error(EVENT_OBJECT_GENERATION_ERROR));}}/**\n   * Handles error\n   * @param error The error object\n   */onError(error,customMessage,shouldAlwaysThrow){if(this.errorHandler){this.errorHandler.onError(error,EVENT_MANAGER,customMessage,shouldAlwaysThrow);}else {throw error;}}}\n\nclass UserSessionManager{constructor(errorHandler,logger,pluginsManager,storeManager,httpClient){this.storeManager=storeManager;this.pluginsManager=pluginsManager;this.logger=logger;this.errorHandler=errorHandler;this.httpClient=httpClient;this.onError=this.onError.bind(this);this.serverSideCookieDebounceFuncs={};}/**\n   * Initialize User session with values from storage\n   */init(){this.syncStorageDataToState();// Register the effect to sync with storage\nthis.registerEffects();}syncStorageDataToState(){this.migrateStorageIfNeeded();this.migrateDataFromPreviousStorage();// get the values from storage and set it again\nthis.setUserId(this.getUserId());this.setUserTraits(this.getUserTraits());this.setGroupId(this.getGroupId());this.setGroupTraits(this.getGroupTraits());const{externalAnonymousIdCookieName,anonymousIdOptions}=state.loadOptions.value;let externalAnonymousId;if(isDefinedAndNotNull(externalAnonymousIdCookieName)&&typeof externalAnonymousIdCookieName==='string'){externalAnonymousId=this.getExternalAnonymousIdByCookieName(externalAnonymousIdCookieName);}this.setAnonymousId(externalAnonymousId??this.getAnonymousId(anonymousIdOptions));this.setAuthToken(this.getAuthToken());this.setInitialReferrerInfo();this.configureSessionTracking();}configureSessionTracking(){let sessionInfo=this.getSessionInfo();if(this.isPersistenceEnabledForStorageEntry('sessionInfo')){const configuredSessionTrackingInfo=this.getConfiguredSessionTrackingInfo();const initialSessionInfo=sessionInfo??defaultSessionConfiguration;sessionInfo={...initialSessionInfo,...configuredSessionTrackingInfo,autoTrack:configuredSessionTrackingInfo.autoTrack&&initialSessionInfo.manualTrack!==true};}state.session.sessionInfo.value=this.isPersistenceEnabledForStorageEntry('sessionInfo')?sessionInfo:DEFAULT_USER_SESSION_VALUES.sessionInfo;// If auto session tracking is enabled start the session tracking\nif(state.session.sessionInfo.value.autoTrack){this.startOrRenewAutoTracking(state.session.sessionInfo.value);}}setInitialReferrerInfo(){const persistedInitialReferrer=this.getInitialReferrer();const persistedInitialReferringDomain=this.getInitialReferringDomain();if(persistedInitialReferrer&&persistedInitialReferringDomain){this.setInitialReferrer(persistedInitialReferrer);this.setInitialReferringDomain(persistedInitialReferringDomain);}else {const initialReferrer=persistedInitialReferrer||getReferrer();this.setInitialReferrer(initialReferrer);this.setInitialReferringDomain(getReferringDomain(initialReferrer));}}isPersistenceEnabledForStorageEntry(entryName){return isStorageTypeValidForStoringData(state.storage.entries.value[entryName]?.type);}migrateDataFromPreviousStorage(){const entries=state.storage.entries.value;const storageTypesForMigration=[COOKIE_STORAGE,LOCAL_STORAGE,SESSION_STORAGE];Object.keys(entries).forEach(entry=>{const key=entry;const currentStorage=entries[key]?.type;const curStore=this.storeManager?.getStore(storageClientDataStoreNameMap[currentStorage]);if(curStore){storageTypesForMigration.forEach(storage=>{const store=this.storeManager?.getStore(storageClientDataStoreNameMap[storage]);if(store&&storage!==currentStorage){const value=store.get(COOKIE_KEYS[key]);if(isDefinedNotNullAndNotEmptyString(value)){curStore.set(COOKIE_KEYS[key],value);}store.remove(COOKIE_KEYS[key]);}});}});}migrateStorageIfNeeded(){if(!state.storage.migrate.value){return;}const persistentStoreNames=[CLIENT_DATA_STORE_COOKIE,CLIENT_DATA_STORE_LS,CLIENT_DATA_STORE_SESSION];const stores=[];persistentStoreNames.forEach(storeName=>{const store=this.storeManager?.getStore(storeName);if(store){stores.push(store);}});Object.keys(COOKIE_KEYS).forEach(storageKey=>{const storageEntry=COOKIE_KEYS[storageKey];stores.forEach(store=>{const migratedVal=this.pluginsManager?.invokeSingle('storage.migrate',storageEntry,store.engine,this.errorHandler,this.logger);// Skip setting the value if it is null or undefined\n// as those values indicate there is no need for migration or\n// migration failed\nif(!isNullOrUndefined(migratedVal)){store.set(storageEntry,migratedVal);}});});}getConfiguredSessionTrackingInfo(){let autoTrack=state.loadOptions.value.sessions?.autoTrack!==false;// Do not validate any further if autoTrack is disabled\nif(!autoTrack){return {autoTrack};}let timeout;const configuredSessionTimeout=state.loadOptions.value.sessions?.timeout;if(!isPositiveInteger(configuredSessionTimeout)){this.logger?.warn(TIMEOUT_NOT_NUMBER_WARNING(USER_SESSION_MANAGER,configuredSessionTimeout,DEFAULT_SESSION_TIMEOUT_MS));timeout=DEFAULT_SESSION_TIMEOUT_MS;}else {timeout=configuredSessionTimeout;}if(timeout===0){this.logger?.warn(TIMEOUT_ZERO_WARNING(USER_SESSION_MANAGER));autoTrack=false;}// In case user provides a timeout value greater than 0 but less than 10 seconds SDK will show a warning\n// and will proceed with it\nif(timeout>0&&timeout<MIN_SESSION_TIMEOUT_MS){this.logger?.warn(TIMEOUT_NOT_RECOMMENDED_WARNING(USER_SESSION_MANAGER,timeout,MIN_SESSION_TIMEOUT_MS));}return {timeout,autoTrack};}/**\n   * Handles error\n   * @param error The error object\n   */onError(error,customMessage){if(this.errorHandler){this.errorHandler.onError(error,USER_SESSION_MANAGER,customMessage);}else {throw error;}}/**\n   * A function to encrypt the cookie value and return the encrypted data\n   * @param cookiesData\n   * @param store\n   * @returns\n   */getEncryptedCookieData(cookiesData,store){const encryptedCookieData=[];cookiesData.forEach(cData=>{const encryptedValue=store?.encrypt(stringifyWithoutCircular(cData.value,false,[],this.logger));if(isDefinedAndNotNull(encryptedValue)){encryptedCookieData.push({name:cData.name,value:encryptedValue});}});return encryptedCookieData;}/**\n   * A function that makes request to data service to set the cookie\n   * @param encryptedCookieData\n   * @param callback\n   */makeRequestToSetCookie(encryptedCookieData,callback){this.httpClient?.getAsyncData({url:state.serverCookies.dataServiceUrl.value,options:{method:'POST',data:stringifyWithoutCircular({reqType:'setCookies',workspaceId:state.source.value?.workspaceId,data:{options:{maxAge:state.storage.cookie.value?.maxage,path:state.storage.cookie.value?.path,domain:state.storage.cookie.value?.domain,sameSite:state.storage.cookie.value?.samesite,secure:state.storage.cookie.value?.secure,expires:state.storage.cookie.value?.expires},cookies:encryptedCookieData}}),sendRawData:true,withCredentials:true},isRawResponse:true,callback});}/**\n   * A function to make an external request to set the cookie from server side\n   * @param key       cookie name\n   * @param value     encrypted cookie value\n   */setServerSideCookies(cookiesData,cb,store){try{// encrypt cookies values\nconst encryptedCookieData=this.getEncryptedCookieData(cookiesData,store);if(encryptedCookieData.length>0){// make request to data service to set the cookie from server side\nthis.makeRequestToSetCookie(encryptedCookieData,(res,details)=>{if(details?.xhr?.status===200){cookiesData.forEach(cData=>{const cookieValue=store?.get(cData.name);const before=stringifyWithoutCircular(cData.value,false,[]);const after=stringifyWithoutCircular(cookieValue,false,[]);if(after!==before){this.logger?.error(FAILED_SETTING_COOKIE_FROM_SERVER_ERROR(cData.name));if(cb){cb(cData.name,cData.value);}}});}else {this.logger?.error(DATA_SERVER_REQUEST_FAIL_ERROR(details?.xhr?.status));cookiesData.forEach(each=>{if(cb){cb(each.name,each.value);}});}});}}catch(e){this.onError(e,FAILED_SETTING_COOKIE_FROM_SERVER_GLOBAL_ERROR);cookiesData.forEach(each=>{if(cb){cb(each.name,each.value);}});}}/**\n   * A function to sync values in storage\n   * @param sessionKey\n   * @param value\n   */syncValueToStorage(sessionKey,value){const entries=state.storage.entries.value;const storageType=entries[sessionKey]?.type;if(isStorageTypeValidForStoringData(storageType)){const curStore=this.storeManager?.getStore(storageClientDataStoreNameMap[storageType]);const key=entries[sessionKey]?.key;if(value&&(isString(value)||isNonEmptyObject(value))){// if useServerSideCookies load option is set to true\n// set the cookie from server side\nif(state.serverCookies.isEnabledServerSideCookies.value&&storageType===COOKIE_STORAGE){if(this.serverSideCookieDebounceFuncs[sessionKey]){globalThis.clearTimeout(this.serverSideCookieDebounceFuncs[sessionKey]);}this.serverSideCookieDebounceFuncs[sessionKey]=globalThis.setTimeout(()=>{this.setServerSideCookies([{name:key,value}],(cookieName,cookieValue)=>{curStore?.set(cookieName,cookieValue);},curStore);},SERVER_SIDE_COOKIES_DEBOUNCE_TIME);}else {curStore?.set(key,value);}}else {curStore?.remove(key);}}}/**\n   * Function to update storage whenever state value changes\n   */registerEffects(){// This will work as long as the user session entry key names are same as the state keys\nUSER_SESSION_KEYS.forEach(sessionKey=>{E(()=>{this.syncValueToStorage(sessionKey,state.session[sessionKey].value);});});}/**\n   * Sets anonymous id in the following precedence:\n   *\n   * 1. anonymousId: Id directly provided to the function.\n   * 2. rudderAmpLinkerParam: value generated from linker query parm (rudderstack)\n   *    using parseLinker util.\n   * 3. generateUUID: A new unique id is generated and assigned.\n   */setAnonymousId(anonymousId,rudderAmpLinkerParam){let finalAnonymousId=anonymousId;if(this.isPersistenceEnabledForStorageEntry('anonymousId')){if(!finalAnonymousId&&rudderAmpLinkerParam){const linkerPluginsResult=this.pluginsManager?.invokeSingle('userSession.anonymousIdGoogleLinker',rudderAmpLinkerParam);finalAnonymousId=linkerPluginsResult;}finalAnonymousId=finalAnonymousId||generateAnonymousId();}else {finalAnonymousId=DEFAULT_USER_SESSION_VALUES.anonymousId;}state.session.anonymousId.value=finalAnonymousId;}/**\n   * Fetches anonymousId\n   * @param options option to fetch it from external source\n   * @returns anonymousId\n   */getAnonymousId(options){const storage=state.storage.entries.value.anonymousId?.type;// fetch the anonymousId from storage\nif(isStorageTypeValidForStoringData(storage)){let persistedAnonymousId=this.getEntryValue('anonymousId');if(!persistedAnonymousId&&options){// fetch anonymousId from external source\nconst autoCapturedAnonymousId=this.pluginsManager?.invokeSingle('storage.getAnonymousId',getStorageEngine,options);persistedAnonymousId=autoCapturedAnonymousId;}state.session.anonymousId.value=persistedAnonymousId||generateAnonymousId();}return state.session.anonymousId.value;}getEntryValue(sessionKey){const entries=state.storage.entries.value;const storageType=entries[sessionKey]?.type;if(isStorageTypeValidForStoringData(storageType)){const store=this.storeManager?.getStore(storageClientDataStoreNameMap[storageType]);const storageKey=entries[sessionKey]?.key;return store?.get(storageKey)??null;}return null;}getExternalAnonymousIdByCookieName(key){const storageEngine=getStorageEngine(COOKIE_STORAGE);if(storageEngine?.isEnabled){return storageEngine.getItem(key)??null;}return null;}/**\n   * Fetches User Id\n   * @returns\n   */getUserId(){return this.getEntryValue('userId');}/**\n   * Fetches User Traits\n   * @returns\n   */getUserTraits(){return this.getEntryValue('userTraits');}/**\n   * Fetches Group Id\n   * @returns\n   */getGroupId(){return this.getEntryValue('groupId');}/**\n   * Fetches Group Traits\n   * @returns\n   */getGroupTraits(){return this.getEntryValue('groupTraits');}/**\n   * Fetches Initial Referrer\n   * @returns\n   */getInitialReferrer(){return this.getEntryValue('initialReferrer');}/**\n   * Fetches Initial Referring domain\n   * @returns\n   */getInitialReferringDomain(){return this.getEntryValue('initialReferringDomain');}/**\n   * Fetches session tracking information from storage\n   * @returns\n   */getSessionInfo(){return this.getEntryValue('sessionInfo');}/**\n   * Fetches auth token from storage\n   * @returns\n   */getAuthToken(){return this.getEntryValue('authToken');}/**\n   * If session is active it returns the sessionId\n   * @returns\n   */getSessionId(){const sessionInfo=this.getSessionInfo()??DEFAULT_USER_SESSION_VALUES.sessionInfo;if(sessionInfo.autoTrack&&!hasSessionExpired(sessionInfo.expiresAt)||sessionInfo.manualTrack){return sessionInfo.id??null;}return null;}/**\n   * A function to keep the session information up to date in the state\n   * before using it for building event payloads.\n   */refreshSession(){let sessionInfo=this.getSessionInfo()??DEFAULT_USER_SESSION_VALUES.sessionInfo;if(sessionInfo.autoTrack||sessionInfo.manualTrack){if(sessionInfo.autoTrack){this.startOrRenewAutoTracking(sessionInfo);sessionInfo=state.session.sessionInfo.value;}// Note that if sessionStart is false, then it's an active session.\n// So, we needn't update the session info.\n//\n// For other scenarios,\n// 1. If sessionStart is undefined, then it's a new session.\n//   Mark it as sessionStart.\n// 2. If sessionStart is true, then need to flip it for the future events.\nif(sessionInfo.sessionStart===undefined){sessionInfo={...sessionInfo,sessionStart:true};}else if(sessionInfo.sessionStart){sessionInfo={...sessionInfo,sessionStart:false};}}// Always write to state (in-turn to storage) to keep the session info up to date.\nstate.session.sessionInfo.value=sessionInfo;if(state.lifecycle.status.value!=='readyExecuted'){// Force update the storage as the 'effect' blocks are not getting triggered\n// when processing preload buffered requests\nthis.syncValueToStorage('sessionInfo',sessionInfo);}}/**\n   * Reset state values\n   * @param resetAnonymousId\n   * @param noNewSessionStart\n   * @returns\n   */reset(resetAnonymousId,noNewSessionStart){const{session}=state;const{manualTrack,autoTrack}=session.sessionInfo.value;r(()=>{session.userId.value=DEFAULT_USER_SESSION_VALUES.userId;session.userTraits.value=DEFAULT_USER_SESSION_VALUES.userTraits;session.groupId.value=DEFAULT_USER_SESSION_VALUES.groupId;session.groupTraits.value=DEFAULT_USER_SESSION_VALUES.groupTraits;session.authToken.value=DEFAULT_USER_SESSION_VALUES.authToken;if(resetAnonymousId){// This will generate a new anonymous ID\nthis.setAnonymousId();}if(noNewSessionStart){return;}if(autoTrack){session.sessionInfo.value=DEFAULT_USER_SESSION_VALUES.sessionInfo;this.startOrRenewAutoTracking(session.sessionInfo.value);}else if(manualTrack){this.startManualTrackingInternal();}});}/**\n   * Set user Id\n   * @param userId\n   */setUserId(userId){state.session.userId.value=this.isPersistenceEnabledForStorageEntry('userId')&&userId?userId:DEFAULT_USER_SESSION_VALUES.userId;}/**\n   * Set user traits\n   * @param traits\n   */setUserTraits(traits){state.session.userTraits.value=this.isPersistenceEnabledForStorageEntry('userTraits')&&traits?mergeDeepRight(state.session.userTraits.value??DEFAULT_USER_SESSION_VALUES.userTraits,traits):DEFAULT_USER_SESSION_VALUES.userTraits;}/**\n   * Set group Id\n   * @param groupId\n   */setGroupId(groupId){state.session.groupId.value=this.isPersistenceEnabledForStorageEntry('groupId')&&groupId?groupId:DEFAULT_USER_SESSION_VALUES.groupId;}/**\n   * Set group traits\n   * @param traits\n   */setGroupTraits(traits){state.session.groupTraits.value=this.isPersistenceEnabledForStorageEntry('groupTraits')&&traits?mergeDeepRight(state.session.groupTraits.value??DEFAULT_USER_SESSION_VALUES.groupTraits,traits):DEFAULT_USER_SESSION_VALUES.groupTraits;}/**\n   * Set initial referrer\n   * @param referrer\n   */setInitialReferrer(referrer){state.session.initialReferrer.value=this.isPersistenceEnabledForStorageEntry('initialReferrer')&&referrer?referrer:DEFAULT_USER_SESSION_VALUES.initialReferrer;}/**\n   * Set initial referring domain\n   * @param {String} referringDomain\n   */setInitialReferringDomain(referringDomain){state.session.initialReferringDomain.value=this.isPersistenceEnabledForStorageEntry('initialReferringDomain')&&referringDomain?referringDomain:DEFAULT_USER_SESSION_VALUES.initialReferringDomain;}/**\n   * A function to check for existing session details and depending on that create a new session\n   */startOrRenewAutoTracking(sessionInfo){if(hasSessionExpired(sessionInfo.expiresAt)){state.session.sessionInfo.value=generateAutoTrackingSession(sessionInfo.timeout);}else {const timestamp=Date.now();const timeout=sessionInfo.timeout;state.session.sessionInfo.value=mergeDeepRight(sessionInfo,{expiresAt:timestamp+timeout// set the expiry time of the session\n});}}/**\n   * A function method to start a manual session\n   * @param {number} id     session identifier\n   * @returns\n   */start(id){state.session.sessionInfo.value=generateManualTrackingSession(id,this.logger);}/**\n   * An internal function to start manual session\n   */startManualTrackingInternal(){this.start(Date.now());}/**\n   * A public method to end an ongoing session.\n   */end(){state.session.sessionInfo.value=DEFAULT_USER_SESSION_VALUES.sessionInfo;}/**\n   * Set auth token\n   * @param userId\n   */setAuthToken(token){state.session.authToken.value=this.isPersistenceEnabledForStorageEntry('authToken')&&token?token:DEFAULT_USER_SESSION_VALUES.authToken;}}\n\n/**\n * Plugins to be loaded in the plugins loadOption is not defined\n */const defaultOptionalPluginsList=['BeaconQueue','Bugsnag','CustomConsentManager','DeviceModeDestinations','DeviceModeTransformation','ErrorReporting','ExternalAnonymousId','GoogleLinker','KetchConsentManager','NativeDestinationQueue','OneTrustConsentManager','StorageEncryption','StorageEncryptionLegacy','StorageMigrator','XhrQueue'];\n\nconst normalizeLoadOptions=(loadOptionsFromState,loadOptions)=>{// TODO: Maybe add warnings for invalid values\nconst normalizedLoadOpts=clone(loadOptions);if(!isString(normalizedLoadOpts.setCookieDomain)){delete normalizedLoadOpts.setCookieDomain;}const cookieSameSiteValues=['Strict','Lax','None'];if(!cookieSameSiteValues.includes(normalizedLoadOpts.sameSiteCookie)){delete normalizedLoadOpts.sameSiteCookie;}normalizedLoadOpts.secureCookie=normalizedLoadOpts.secureCookie===true;const uaChTrackLevels=['none','default','full'];if(!uaChTrackLevels.includes(normalizedLoadOpts.uaChTrackLevel)){delete normalizedLoadOpts.uaChTrackLevel;}if(!isObjectLiteralAndNotNull(normalizedLoadOpts.integrations)){delete normalizedLoadOpts.integrations;}normalizedLoadOpts.plugins=normalizedLoadOpts.plugins??defaultOptionalPluginsList;normalizedLoadOpts.useGlobalIntegrationsConfigInEvents=normalizedLoadOpts.useGlobalIntegrationsConfigInEvents===true;normalizedLoadOpts.bufferDataPlaneEventsUntilReady=normalizedLoadOpts.bufferDataPlaneEventsUntilReady===true;normalizedLoadOpts.sendAdblockPage=normalizedLoadOpts.sendAdblockPage===true;normalizedLoadOpts.useServerSideCookies=normalizedLoadOpts.useServerSideCookies===true;if(normalizedLoadOpts.dataServiceEndpoint&&typeof normalizedLoadOpts.dataServiceEndpoint!=='string'){delete normalizedLoadOpts.dataServiceEndpoint;}if(!isObjectLiteralAndNotNull(normalizedLoadOpts.sendAdblockPageOptions)){delete normalizedLoadOpts.sendAdblockPageOptions;}if(!isDefined(normalizedLoadOpts.loadIntegration)){delete normalizedLoadOpts.loadIntegration;}else {normalizedLoadOpts.loadIntegration=normalizedLoadOpts.loadIntegration===true;}if(!isObjectLiteralAndNotNull(normalizedLoadOpts.storage)){delete normalizedLoadOpts.storage;}else {normalizedLoadOpts.storage=removeUndefinedAndNullValues(normalizedLoadOpts.storage);normalizedLoadOpts.storage.migrate=normalizedLoadOpts.storage?.migrate===true;}if(!isObjectLiteralAndNotNull(normalizedLoadOpts.beaconQueueOptions)){delete normalizedLoadOpts.beaconQueueOptions;}else {normalizedLoadOpts.beaconQueueOptions=removeUndefinedAndNullValues(normalizedLoadOpts.beaconQueueOptions);}if(!isObjectLiteralAndNotNull(normalizedLoadOpts.destinationsQueueOptions)){delete normalizedLoadOpts.destinationsQueueOptions;}else {normalizedLoadOpts.destinationsQueueOptions=removeUndefinedAndNullValues(normalizedLoadOpts.destinationsQueueOptions);}if(!isObjectLiteralAndNotNull(normalizedLoadOpts.queueOptions)){delete normalizedLoadOpts.queueOptions;}else {normalizedLoadOpts.queueOptions=removeUndefinedAndNullValues(normalizedLoadOpts.queueOptions);}normalizedLoadOpts.lockIntegrationsVersion=normalizedLoadOpts.lockIntegrationsVersion===true;normalizedLoadOpts.lockPluginsVersion=normalizedLoadOpts.lockPluginsVersion===true;if(!isNumber(normalizedLoadOpts.dataPlaneEventsBufferTimeout)){delete normalizedLoadOpts.dataPlaneEventsBufferTimeout;}if(!isObjectLiteralAndNotNull(normalizedLoadOpts.storage?.cookie)){delete normalizedLoadOpts.storage?.cookie;}else {normalizedLoadOpts.storage.cookie=removeUndefinedAndNullValues(normalizedLoadOpts.storage?.cookie);}if(!isObjectLiteralAndNotNull(normalizedLoadOpts.preConsent)){delete normalizedLoadOpts.preConsent;}else {normalizedLoadOpts.preConsent=removeUndefinedAndNullValues(normalizedLoadOpts.preConsent);}const mergedLoadOptions=mergeDeepRight(loadOptionsFromState,normalizedLoadOpts);return mergedLoadOptions;};\n\nconst DATA_PLANE_QUEUE_EXT_POINT_PREFIX='dataplaneEventsQueue';const DESTINATIONS_QUEUE_EXT_POINT_PREFIX='destinationsEventsQueue';const DMT_EXT_POINT_PREFIX='transformEvent';\n\n/**\n * Filters and returns the user supplied integrations config that should take preference over the destination specific integrations config\n * @param eventIntgConfig User supplied integrations config at event level\n * @param destinationsIntgConfig Cumulative integrations config from all destinations\n * @returns Filtered user supplied integrations config\n */const getOverriddenIntegrationOptions=(eventIntgConfig,destinationsIntgConfig)=>Object.keys(eventIntgConfig).filter(intgName=>eventIntgConfig[intgName]!==true||!destinationsIntgConfig[intgName]).reduce((obj,key)=>{const retVal=clone(obj);retVal[key]=eventIntgConfig[key];return retVal;},{});/**\n * Returns the event object with final integrations config\n * @param event RudderEvent object\n * @param state Application state\n * @returns Mutated event with final integrations config\n */const getFinalEvent=(event,state)=>{const finalEvent=clone(event);// Merge the destination specific integrations config with the event's integrations config\n// In general, the preference is given to the event's integrations config\nconst eventIntgConfig=event.integrations??DEFAULT_INTEGRATIONS_CONFIG;const destinationsIntgConfig=state.nativeDestinations.integrationsConfig.value;const overriddenIntgOpts=getOverriddenIntegrationOptions(eventIntgConfig,destinationsIntgConfig);finalEvent.integrations=mergeDeepRight(destinationsIntgConfig,overriddenIntgOpts);return finalEvent;};const shouldBufferEventsForPreConsent=state=>state.consents.preConsent.value.enabled&&state.consents.preConsent.value.events?.delivery==='buffer'&&(state.consents.preConsent.value.storage?.strategy==='session'||state.consents.preConsent.value.storage?.strategy==='none');\n\n/**\n * Event repository class responsible for queuing events for further processing and delivery\n */class EventRepository{/**\n   *\n   * @param pluginsManager Plugins manager instance\n   * @param storeManager Store Manager instance\n   * @param errorHandler Error handler object\n   * @param logger Logger object\n   */constructor(pluginsManager,storeManager,errorHandler,logger){this.pluginsManager=pluginsManager;this.errorHandler=errorHandler;this.logger=logger;this.httpClient=new HttpClient(errorHandler,logger);this.storeManager=storeManager;this.onError=this.onError.bind(this);}/**\n   * Initializes the event repository\n   */init(){try{this.dataplaneEventsQueue=this.pluginsManager.invokeSingle(`${DATA_PLANE_QUEUE_EXT_POINT_PREFIX}.init`,state,this.httpClient,this.storeManager,this.errorHandler,this.logger);}catch(e){this.onError(e,DATAPLANE_PLUGIN_INITIALIZE_ERROR);}try{this.dmtEventsQueue=this.pluginsManager.invokeSingle(`${DMT_EXT_POINT_PREFIX}.init`,state,this.pluginsManager,this.httpClient,this.storeManager,this.errorHandler,this.logger);}catch(e){this.onError(e,DMT_PLUGIN_INITIALIZE_ERROR);}try{this.destinationsEventsQueue=this.pluginsManager.invokeSingle(`${DESTINATIONS_QUEUE_EXT_POINT_PREFIX}.init`,state,this.pluginsManager,this.storeManager,this.dmtEventsQueue,this.errorHandler,this.logger);}catch(e){this.onError(e,NATIVE_DEST_PLUGIN_INITIALIZE_ERROR);}// Start the queue once the client destinations are ready\nE(()=>{if(state.nativeDestinations.clientDestinationsReady.value===true){this.destinationsEventsQueue?.start();this.dmtEventsQueue?.start();}});const bufferEventsBeforeConsent=shouldBufferEventsForPreConsent(state);// Start the queue processing only when the destinations are ready or hybrid mode destinations exist\n// However, events will be enqueued for now.\n// At the time of processing the events, the integrations config data from destinations\n// is merged into the event object\nlet timeoutId;E(()=>{const shouldBufferDpEvents=state.loadOptions.value.bufferDataPlaneEventsUntilReady===true&&state.nativeDestinations.clientDestinationsReady.value===false;const hybridDestExist=state.nativeDestinations.activeDestinations.value.some(dest=>isHybridModeDestination(dest));if((hybridDestExist===false||shouldBufferDpEvents===false)&&!bufferEventsBeforeConsent&&this.dataplaneEventsQueue?.scheduleTimeoutActive!==true){globalThis.clearTimeout(timeoutId);this.dataplaneEventsQueue?.start();}});// Force start the data plane events queue processing after a timeout\nif(state.loadOptions.value.bufferDataPlaneEventsUntilReady===true){timeoutId=globalThis.setTimeout(()=>{if(this.dataplaneEventsQueue?.scheduleTimeoutActive!==true){this.dataplaneEventsQueue?.start();}},state.loadOptions.value.dataPlaneEventsBufferTimeout);}}resume(){if(this.dataplaneEventsQueue?.scheduleTimeoutActive!==true){if(state.consents.postConsent.value.discardPreConsentEvents){this.dataplaneEventsQueue?.clear();this.destinationsEventsQueue?.clear();}this.dataplaneEventsQueue?.start();}}/**\n   * Enqueues the event for processing\n   * @param event RudderEvent object\n   * @param callback API callback function\n   */enqueue(event,callback){let dpQEvent;try{dpQEvent=getFinalEvent(event,state);this.pluginsManager.invokeSingle(`${DATA_PLANE_QUEUE_EXT_POINT_PREFIX}.enqueue`,state,this.dataplaneEventsQueue,dpQEvent,this.errorHandler,this.logger);}catch(e){this.onError(e,DATAPLANE_PLUGIN_ENQUEUE_ERROR);}try{const dQEvent=clone(event);this.pluginsManager.invokeSingle(`${DESTINATIONS_QUEUE_EXT_POINT_PREFIX}.enqueue`,state,this.destinationsEventsQueue,dQEvent,this.errorHandler,this.logger);}catch(e){this.onError(e,NATIVE_DEST_PLUGIN_ENQUEUE_ERROR);}// Invoke the callback if it exists\ntry{// Using the event sent to the data plane queue here\n// to ensure the mutated (if any) event is sent to the callback\ncallback?.(dpQEvent);}catch(error){this.onError(error,API_CALLBACK_INVOKE_ERROR);}}/**\n   * Handles error\n   * @param error The error object\n   * @param customMessage a message\n   * @param shouldAlwaysThrow if it should throw or use logger\n   */onError(error,customMessage,shouldAlwaysThrow){if(this.errorHandler){this.errorHandler.onError(error,EVENT_REPOSITORY,customMessage,shouldAlwaysThrow);}else {throw error;}}}\n\nconst dispatchSDKEvent=event=>{const customEvent=new CustomEvent(event,{detail:{analyticsInstance:globalThis.rudderanalytics},bubbles:true,cancelable:true,composed:true});globalThis.document.dispatchEvent(customEvent);};\n\n/*\n * Analytics class with lifecycle based on state ad user triggered events\n */class Analytics{/**\n   * Initialize services and components or use default ones if singletons\n   */constructor(){this.preloadBuffer=new BufferQueue();this.initialized=false;this.errorHandler=defaultErrorHandler;this.logger=defaultLogger;this.externalSrcLoader=new ExternalSrcLoader(this.errorHandler,this.logger);this.capabilitiesManager=new CapabilitiesManager(this.errorHandler,this.logger);this.httpClient=defaultHttpClient;}/**\n   * Start application lifecycle if not already started\n   */load(writeKey,dataPlaneUrl,loadOptions={}){if(state.lifecycle.status.value){return;}let clonedDataPlaneUrl=clone(dataPlaneUrl);let clonedLoadOptions=clone(loadOptions);// dataPlaneUrl is not provided\nif(isObjectAndNotNull(dataPlaneUrl)){clonedLoadOptions=dataPlaneUrl;clonedDataPlaneUrl=undefined;}// Set initial state values\nr(()=>{state.lifecycle.writeKey.value=writeKey;state.lifecycle.dataPlaneUrl.value=clonedDataPlaneUrl;state.loadOptions.value=normalizeLoadOptions(state.loadOptions.value,clonedLoadOptions);state.lifecycle.status.value='mounted';});// set log level as early as possible\nif(state.loadOptions.value.logLevel){this.logger?.setMinLogLevel(state.loadOptions.value.logLevel);}// Expose state to global objects\nsetExposedGlobal('state',state,writeKey);// Configure initial config of any services or components here\n// State application lifecycle\nthis.startLifecycle();}// Start lifecycle methods\n/**\n   * Orchestrate the lifecycle of the application phases/status\n   */startLifecycle(){E(()=>{try{switch(state.lifecycle.status.value){case'mounted':this.onMounted();break;case'browserCapabilitiesReady':this.onBrowserCapabilitiesReady();break;case'configured':this.onConfigured();break;case'pluginsLoading':break;case'pluginsReady':this.onPluginsReady();break;case'initialized':this.onInitialized();break;case'loaded':this.onLoaded();break;case'destinationsLoading':break;case'destinationsReady':this.onDestinationsReady();break;case'ready':this.onReady();break;case'readyExecuted':default:break;}}catch(err){const issue='Failed to load the SDK';this.errorHandler.onError(getMutatedError(err,issue),ANALYTICS_CORE);}});}onBrowserCapabilitiesReady(){// initialize the preloaded events enqueuing\nretrievePreloadBufferEvents(this);this.prepareInternalServices();this.loadConfig();}onLoaded(){this.processBufferedEvents();// Short-circuit the life cycle and move to the ready state if pre-consent behavior is enabled\nif(state.consents.preConsent.value.enabled===true){state.lifecycle.status.value='ready';}else {this.loadDestinations();}}/**\n   * Load browser polyfill if required\n   */onMounted(){this.capabilitiesManager.init();}/**\n   * Enqueue in SDK preload buffer events, used from preloadBuffer component\n   */enqueuePreloadBufferEvents(bufferedEvents){if(Array.isArray(bufferedEvents)){bufferedEvents.forEach(bufferedEvent=>this.preloadBuffer.enqueue(clone(bufferedEvent)));}}/**\n   * Process the buffer preloaded events by passing their arguments to the respective facade methods\n   */processDataInPreloadBuffer(){while(this.preloadBuffer.size()>0){const eventToProcess=this.preloadBuffer.dequeue();if(eventToProcess){consumePreloadBufferedEvent([...eventToProcess],this);}}}prepareInternalServices(){this.pluginsManager=new PluginsManager(defaultPluginEngine,this.errorHandler,this.logger);this.storeManager=new StoreManager(this.pluginsManager,this.errorHandler,this.logger);this.configManager=new ConfigManager(this.httpClient,this.errorHandler,this.logger);this.userSessionManager=new UserSessionManager(this.errorHandler,this.logger,this.pluginsManager,this.storeManager,this.httpClient);this.eventRepository=new EventRepository(this.pluginsManager,this.storeManager,this.errorHandler,this.logger);this.eventManager=new EventManager(this.eventRepository,this.userSessionManager,this.errorHandler,this.logger);}/**\n   * Load configuration\n   */loadConfig(){if(state.lifecycle.writeKey.value){this.httpClient.setAuthHeader(state.lifecycle.writeKey.value);}this.configManager?.init();}/**\n   * Initialize the storage and event queue\n   */onPluginsReady(){this.errorHandler.init(this.externalSrcLoader);// Initialize storage\nthis.storeManager?.init();this.userSessionManager?.init();// Initialize the appropriate consent manager plugin\nif(state.consents.enabled.value&&!state.consents.initialized.value){this.pluginsManager?.invokeSingle(`consentManager.init`,state,this.logger);if(state.consents.preConsent.value.enabled===false){this.pluginsManager?.invokeSingle(`consentManager.updateConsentsInfo`,state,this.storeManager,this.logger);}}// Initialize event manager\nthis.eventManager?.init();// Mark the SDK as initialized\nstate.lifecycle.status.value='initialized';}/**\n   * Load plugins\n   */onConfigured(){this.pluginsManager?.init();// TODO: are we going to enable custom plugins to be passed as load options?\n// registerCustomPlugins(state.loadOptions.value.customPlugins);\n}/**\n   * Trigger onLoaded callback if any is provided in config & emit initialised event\n   */onInitialized(){// Process any preloaded events\nthis.processDataInPreloadBuffer();// TODO: we need to avoid passing the window object to the callback function\n// as this will prevent us from supporting multiple SDK instances in the same page\n// Execute onLoaded callback if provided in load options\nif(isFunction(state.loadOptions.value.onLoaded)){state.loadOptions.value.onLoaded(globalThis.rudderanalytics);}// Set lifecycle state\nr(()=>{state.lifecycle.loaded.value=true;state.lifecycle.status.value='loaded';});this.initialized=true;// Emit an event to use as substitute to the onLoaded callback\ndispatchSDKEvent('RSA_Initialised');}/**\n   * Emit ready event\n   */ // eslint-disable-next-line class-methods-use-this\nonReady(){state.lifecycle.status.value='readyExecuted';state.eventBuffer.readyCallbacksArray.value.forEach(callback=>{try{callback();}catch(err){this.errorHandler.onError(err,ANALYTICS_CORE,READY_CALLBACK_INVOKE_ERROR);}});// Emit an event to use as substitute to the ready callback\ndispatchSDKEvent('RSA_Ready');}/**\n   * Consume preloaded events buffer\n   */processBufferedEvents(){// This logic has been intentionally implemented without a simple\n// for-loop as the individual events that are processed may\n// add more events to the buffer (this is needed for the consent API)\nlet bufferedEvents=state.eventBuffer.toBeProcessedArray.value;while(bufferedEvents.length>0){const bufferedEvent=bufferedEvents.shift();state.eventBuffer.toBeProcessedArray.value=bufferedEvents;if(bufferedEvent){const methodName=bufferedEvent[0];if(isFunction(this[methodName])){// Send additional arg 'true' to indicate that this is a buffered invocation\nthis[methodName](...bufferedEvent.slice(1),true);}}bufferedEvents=state.eventBuffer.toBeProcessedArray.value;}}/**\n   * Load device mode destinations\n   */loadDestinations(){if(state.nativeDestinations.clientDestinationsReady.value){return;}// Set in state the desired activeDestinations to inject in DOM\nthis.pluginsManager?.invokeSingle('nativeDestinations.setActiveDestinations',state,this.pluginsManager,this.errorHandler,this.logger);const totalDestinationsToLoad=state.nativeDestinations.activeDestinations.value.length;if(totalDestinationsToLoad===0){state.lifecycle.status.value='destinationsReady';return;}// Start loading native integration scripts and create instances\nstate.lifecycle.status.value='destinationsLoading';this.pluginsManager?.invokeSingle('nativeDestinations.load',state,this.externalSrcLoader,this.errorHandler,this.logger);// Progress to next lifecycle phase if all native destinations are initialized or failed\nE(()=>{const areAllDestinationsReady=totalDestinationsToLoad===0||state.nativeDestinations.initializedDestinations.value.length+state.nativeDestinations.failedDestinations.value.length===totalDestinationsToLoad;if(areAllDestinationsReady){r(()=>{state.lifecycle.status.value='destinationsReady';state.nativeDestinations.clientDestinationsReady.value=true;});}});}/**\n   * Move to the ready state\n   */ // eslint-disable-next-line class-methods-use-this\nonDestinationsReady(){// May be do any destination specific actions here\n// Mark the ready status if not already done\nif(state.lifecycle.status.value!=='ready'){state.lifecycle.status.value='ready';}}// End lifecycle methods\n// Start consumer exposed methods\nready(callback,isBufferedInvocation=false){const type='ready';if(!state.lifecycle.loaded.value){state.eventBuffer.toBeProcessedArray.value=[...state.eventBuffer.toBeProcessedArray.value,[type,callback]];return;}this.errorHandler.leaveBreadcrumb(`New ${type} invocation`);if(!isFunction(callback)){this.logger.error(READY_API_CALLBACK_ERROR(READY_API));return;}/**\n     * If destinations are loaded or no integration is available for loading\n     * execute the callback immediately else push the callbacks to a queue that\n     * will be executed after loading completes\n     */if(state.lifecycle.status.value==='readyExecuted'){try{callback();}catch(err){this.errorHandler.onError(err,ANALYTICS_CORE,READY_CALLBACK_INVOKE_ERROR);}}else {state.eventBuffer.readyCallbacksArray.value=[...state.eventBuffer.readyCallbacksArray.value,callback];}}page(payload,isBufferedInvocation=false){const type='page';if(!state.lifecycle.loaded.value){state.eventBuffer.toBeProcessedArray.value=[...state.eventBuffer.toBeProcessedArray.value,[type,payload]];return;}this.errorHandler.leaveBreadcrumb(`New ${type} event`);state.metrics.triggered.value+=1;this.eventManager?.addEvent({type:'page',category:payload.category,name:payload.name,properties:payload.properties,options:payload.options,callback:payload.callback});// TODO: Maybe we should alter the behavior to send the ad-block page event even if the SDK is still loaded. It'll be pushed into the to be processed queue.\n// Send automatic ad blocked page event if ad-blockers are detected on the page\n// Check page category to avoid infinite loop\nif(state.capabilities.isAdBlocked.value===true&&payload.category!==ADBLOCK_PAGE_CATEGORY){this.page(pageArgumentsToCallOptions(ADBLOCK_PAGE_CATEGORY,ADBLOCK_PAGE_NAME,{// 'title' is intentionally omitted as it does not make sense\n// in v3 implementation\npath:ADBLOCK_PAGE_PATH},state.loadOptions.value.sendAdblockPageOptions));}}track(payload,isBufferedInvocation=false){const type='track';if(!state.lifecycle.loaded.value){state.eventBuffer.toBeProcessedArray.value=[...state.eventBuffer.toBeProcessedArray.value,[type,payload]];return;}this.errorHandler.leaveBreadcrumb(`New ${type} event`);state.metrics.triggered.value+=1;this.eventManager?.addEvent({type,name:payload.name||undefined,properties:payload.properties,options:payload.options,callback:payload.callback});}identify(payload,isBufferedInvocation=false){const type='identify';if(!state.lifecycle.loaded.value){state.eventBuffer.toBeProcessedArray.value=[...state.eventBuffer.toBeProcessedArray.value,[type,payload]];return;}this.errorHandler.leaveBreadcrumb(`New ${type} event`);state.metrics.triggered.value+=1;const shouldResetSession=Boolean(payload.userId&&state.session.userId.value&&payload.userId!==state.session.userId.value);if(shouldResetSession){this.reset();}// `null` value indicates that previous user ID needs to be retained\nif(!isNull(payload.userId)){this.userSessionManager?.setUserId(payload.userId);}this.userSessionManager?.setUserTraits(payload.traits);this.eventManager?.addEvent({type,userId:payload.userId,traits:payload.traits,options:payload.options,callback:payload.callback});}alias(payload,isBufferedInvocation=false){const type='alias';if(!state.lifecycle.loaded.value){state.eventBuffer.toBeProcessedArray.value=[...state.eventBuffer.toBeProcessedArray.value,[type,payload]];return;}this.errorHandler.leaveBreadcrumb(`New ${type} event`);state.metrics.triggered.value+=1;const previousId=payload.from??this.userSessionManager?.getUserId()??this.userSessionManager?.getAnonymousId();this.eventManager?.addEvent({type,to:payload.to,from:previousId,options:payload.options,callback:payload.callback});}group(payload,isBufferedInvocation=false){const type='group';if(!state.lifecycle.loaded.value){state.eventBuffer.toBeProcessedArray.value=[...state.eventBuffer.toBeProcessedArray.value,[type,payload]];return;}this.errorHandler.leaveBreadcrumb(`New ${type} event`);state.metrics.triggered.value+=1;// `null` value indicates that previous group ID needs to be retained\nif(!isNull(payload.groupId)){this.userSessionManager?.setGroupId(payload.groupId);}this.userSessionManager?.setGroupTraits(payload.traits);this.eventManager?.addEvent({type,groupId:payload.groupId,traits:payload.traits,options:payload.options,callback:payload.callback});}reset(resetAnonymousId,isBufferedInvocation=false){const type='reset';if(!state.lifecycle.loaded.value){state.eventBuffer.toBeProcessedArray.value=[...state.eventBuffer.toBeProcessedArray.value,[type,resetAnonymousId]];return;}this.errorHandler.leaveBreadcrumb(`New ${type} invocation, resetAnonymousId: ${resetAnonymousId}`);this.userSessionManager?.reset(resetAnonymousId);}getAnonymousId(options){return this.userSessionManager?.getAnonymousId(options);}setAnonymousId(anonymousId,rudderAmpLinkerParam,isBufferedInvocation=false){const type='setAnonymousId';// Buffering is needed as setting the anonymous ID may require invoking the GoogleLinker plugin\nif(!state.lifecycle.loaded.value){state.eventBuffer.toBeProcessedArray.value=[...state.eventBuffer.toBeProcessedArray.value,[type,anonymousId,rudderAmpLinkerParam]];return;}this.errorHandler.leaveBreadcrumb(`New ${type} invocation`);this.userSessionManager?.setAnonymousId(anonymousId,rudderAmpLinkerParam);}// eslint-disable-next-line class-methods-use-this\ngetUserId(){return state.session.userId.value;}// eslint-disable-next-line class-methods-use-this\ngetUserTraits(){return state.session.userTraits.value;}// eslint-disable-next-line class-methods-use-this\ngetGroupId(){return state.session.groupId.value;}// eslint-disable-next-line class-methods-use-this\ngetGroupTraits(){return state.session.groupTraits.value;}startSession(sessionId,isBufferedInvocation=false){const type='startSession';if(!state.lifecycle.loaded.value){state.eventBuffer.toBeProcessedArray.value=[...state.eventBuffer.toBeProcessedArray.value,[type,sessionId]];return;}this.errorHandler.leaveBreadcrumb(`New ${type} invocation`);this.userSessionManager?.start(sessionId);}endSession(isBufferedInvocation=false){const type='endSession';if(!state.lifecycle.loaded.value){state.eventBuffer.toBeProcessedArray.value=[...state.eventBuffer.toBeProcessedArray.value,[type]];return;}this.errorHandler.leaveBreadcrumb(`New ${type} invocation`);this.userSessionManager?.end();}// eslint-disable-next-line class-methods-use-this\ngetSessionId(){const sessionId=this.userSessionManager?.getSessionId();return sessionId??null;}consent(options,isBufferedInvocation=false){const type='consent';if(!state.lifecycle.loaded.value){state.eventBuffer.toBeProcessedArray.value=[...state.eventBuffer.toBeProcessedArray.value,[type,options]];return;}this.errorHandler.leaveBreadcrumb(`New consent invocation`);r(()=>{state.consents.preConsent.value={...state.consents.preConsent.value,enabled:false};state.consents.postConsent.value=getValidPostConsentOptions(options);const{initialized,consentsData}=getConsentManagementData(state.consents.postConsent.value.consentManagement,this.logger);state.consents.initialized.value=initialized||state.consents.initialized.value;state.consents.data.value=consentsData;});// Update consents data in state\nif(state.consents.enabled.value&&!state.consents.initialized.value){this.pluginsManager?.invokeSingle(`consentManager.updateConsentsInfo`,state,this.storeManager,this.logger);}// Re-init store manager\nthis.storeManager?.initializeStorageState();// Re-init user session manager\nthis.userSessionManager?.syncStorageDataToState();// Resume event manager to process the events to destinations\nthis.eventManager?.resume();this.loadDestinations();this.sendTrackingEvents(isBufferedInvocation);}sendTrackingEvents(isBufferedInvocation){// If isBufferedInvocation is true, then the tracking events will be added to the end of the\n// events buffer array so that any other preload events (mainly from query string API) will be processed first.\nif(state.consents.postConsent.value.trackConsent){const trackOptions=trackArgumentsToCallOptions(CONSENT_TRACK_EVENT_NAME);if(isBufferedInvocation){state.eventBuffer.toBeProcessedArray.value=[...state.eventBuffer.toBeProcessedArray.value,['track',trackOptions]];}else {this.track(trackOptions);}}if(state.consents.postConsent.value.sendPageEvent){const pageOptions=pageArgumentsToCallOptions();if(isBufferedInvocation){state.eventBuffer.toBeProcessedArray.value=[...state.eventBuffer.toBeProcessedArray.value,['page',pageOptions]];}else {this.page(pageOptions);}}}setAuthToken(token){this.userSessionManager?.setAuthToken(token);}// End consumer exposed methods\n}\n\n/*\n * RudderAnalytics facade singleton that is exposed as global object and will:\n * expose overloaded methods\n * handle multiple Analytics instances\n * consume SDK preload event buffer\n */class RudderAnalytics{static globalSingleton=null;analyticsInstances={};defaultAnalyticsKey='';logger=defaultLogger;// Singleton with constructor bind methods\nconstructor(){if(RudderAnalytics.globalSingleton){// START-NO-SONAR-SCAN\n// eslint-disable-next-line no-constructor-return\nreturn RudderAnalytics.globalSingleton;// END-NO-SONAR-SCAN\n}defaultErrorHandler.attachErrorListeners();this.setDefaultInstanceKey=this.setDefaultInstanceKey.bind(this);this.getAnalyticsInstance=this.getAnalyticsInstance.bind(this);this.load=this.load.bind(this);this.ready=this.ready.bind(this);this.triggerBufferedLoadEvent=this.triggerBufferedLoadEvent.bind(this);this.page=this.page.bind(this);this.track=this.track.bind(this);this.identify=this.identify.bind(this);this.alias=this.alias.bind(this);this.group=this.group.bind(this);this.reset=this.reset.bind(this);this.getAnonymousId=this.getAnonymousId.bind(this);this.setAnonymousId=this.setAnonymousId.bind(this);this.getUserId=this.getUserId.bind(this);this.getUserTraits=this.getUserTraits.bind(this);this.getGroupId=this.getGroupId.bind(this);this.getGroupTraits=this.getGroupTraits.bind(this);this.startSession=this.startSession.bind(this);this.endSession=this.endSession.bind(this);this.getSessionId=this.getSessionId.bind(this);this.setAuthToken=this.setAuthToken.bind(this);this.consent=this.consent.bind(this);RudderAnalytics.globalSingleton=this;// start loading if a load event was buffered or wait for explicit load call\nthis.triggerBufferedLoadEvent();// Assign to global \"rudderanalytics\" object after processing the preload buffer (if any exists)\n// for CDN bundling IIFE exports covers this but for npm ESM and CJS bundling has to be done explicitly\nglobalThis.rudderanalytics=this;}/**\n   * Set instance to use if no specific writeKey is provided in methods\n   * automatically for the first created instance\n   * TODO: to support multiple analytics instances in the near future\n   */setDefaultInstanceKey(writeKey){if(writeKey){this.defaultAnalyticsKey=writeKey;}}/**\n   * Retrieve an existing analytics instance\n   */getAnalyticsInstance(writeKey){const instanceId=writeKey??this.defaultAnalyticsKey;const analyticsInstanceExists=Boolean(this.analyticsInstances[instanceId]);if(!analyticsInstanceExists){this.analyticsInstances[instanceId]=new Analytics();}return this.analyticsInstances[instanceId];}/**\n   * Create new analytics instance and trigger application lifecycle start\n   */load(writeKey,dataPlaneUrl,loadOptions){if(!isString(writeKey)){this.logger.error(WRITE_KEY_NOT_A_STRING_ERROR(RS_APP,writeKey));return;}if(this.analyticsInstances[writeKey]){return;}this.setDefaultInstanceKey(writeKey);this.analyticsInstances[writeKey]=new Analytics();this.getAnalyticsInstance(writeKey).load(writeKey,dataPlaneUrl,loadOptions);}/**\n   * Trigger load event in buffer queue if exists and stores the\n   * remaining preloaded events array in global object\n   */triggerBufferedLoadEvent(){const preloadedEventsArray=Array.isArray(globalThis.rudderanalytics)?globalThis.rudderanalytics:[];// The array will be mutated in the below method\npromotePreloadedConsentEventsToTop(preloadedEventsArray);// Get any load method call that is buffered if any\n// BTW, load method is also removed from the array\n// So, the Analytics object can directly consume the remaining events\nconst loadEvent=getPreloadedLoadEvent(preloadedEventsArray);// Set the final preloaded events array in global object\nsetExposedGlobal(GLOBAL_PRELOAD_BUFFER,clone(preloadedEventsArray));// Process load method if present in the buffered requests\nif(loadEvent.length>0){// Remove the event name from the Buffered Event array and keep only arguments\nloadEvent.shift();// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore\nthis.load.apply(null,loadEvent);}}/**\n   * Get ready callback arguments and forward to ready call\n   */ready(callback){this.getAnalyticsInstance().ready(callback);}/**\n   * Process page arguments and forward to page call\n   */page(category,name,properties,options,callback){this.getAnalyticsInstance().page(pageArgumentsToCallOptions(category,name,properties,options,callback));}/**\n   * Process track arguments and forward to page call\n   */track(event,properties,options,callback){this.getAnalyticsInstance().track(trackArgumentsToCallOptions(event,properties,options,callback));}/**\n   * Process identify arguments and forward to page call\n   */identify(userId,traits,options,callback){this.getAnalyticsInstance().identify(identifyArgumentsToCallOptions(userId,traits,options,callback));}/**\n   * Process alias arguments and forward to page call\n   */alias(to,from,options,callback){this.getAnalyticsInstance().alias(aliasArgumentsToCallOptions(to,from,options,callback));}/**\n   * Process group arguments and forward to page call\n   */group(groupId,traits,options,callback){if(arguments.length===0){this.logger.error(EMPTY_GROUP_CALL_ERROR(RS_APP));return;}this.getAnalyticsInstance().group(groupArgumentsToCallOptions(groupId,traits,options,callback));}reset(resetAnonymousId){this.getAnalyticsInstance().reset(resetAnonymousId);}getAnonymousId(options){return this.getAnalyticsInstance().getAnonymousId(options);}setAnonymousId(anonymousId,rudderAmpLinkerParam){this.getAnalyticsInstance().setAnonymousId(anonymousId,rudderAmpLinkerParam);}getUserId(){return this.getAnalyticsInstance().getUserId();}getUserTraits(){return this.getAnalyticsInstance().getUserTraits();}getGroupId(){return this.getAnalyticsInstance().getGroupId();}getGroupTraits(){return this.getAnalyticsInstance().getGroupTraits();}startSession(sessionId){return this.getAnalyticsInstance().startSession(sessionId);}endSession(){return this.getAnalyticsInstance().endSession();}getSessionId(){return this.getAnalyticsInstance().getSessionId();}setAuthToken(token){return this.getAnalyticsInstance().setAuthToken(token);}consent(options){return this.getAnalyticsInstance().consent(options);}}\n\nexport { RudderAnalytics };\n","export default function checkIfHtmxIsLoaded(count = 0) {\n  if (count > 5) {\n    return false;\n  }\n  setTimeout(() => {\n    if (window.htmx) {\n      return true;\n    } else {\n      checkIfHtmxIsLoaded(count + 1);\n    }\n  }, 500);\n}\n","/* eslint no-console:0 */\nimport { RudderAnalytics } from \"@rudderstack/analytics-js\";\nimport checkIfHtmxIsLoaded from \"./helpers/htmx\";\n\nfunction updateAnonymousIdField() {\n  const anonymousIdField = document.querySelector(\"[name=\\\"fields[anonymous_id]\\\"]\");\n  if (anonymousIdField !== null) {\n    anonymousIdField.value = rudderanalytics.getAnonymousId();\n    console.log(\"RudderStack Field Update complete - \", rudderanalytics.getAnonymousId());\n  } else {\n    console.log(\"anonymousIdField is null\");\n  }\n}\n\nfunction registerEvents() {\n  const anchorLinks = document.getElementsByTagName(\"a\");\n\n  // Internal Sites\n  [...anchorLinks].forEach((anchor) => {\n    anchor.addEventListener(\n      \"click\",\n      (event) => {\n        const element = event.currentTarget;\n        const params = {\n          eventElement: \"a\",\n          target: element.href,\n          title: element.innerText,\n          id_html: element.id,\n          className: element.className.split(\" \"),\n          ariaLabel: element.getAttribute(\"aria-label\"),\n        };\n        rudderanalytics.track(\"Clicked A Link\", params);\n      },\n      { once: true }\n    );\n\n    // If anchor doesn't have a href attribute - exit\n    if (!anchor.href || !anchor.hasAttribute(\"href\")) {\n      return false;\n    }\n\n    const currentUrl = new URL(anchor.href);\n    const updateExternalUrl =\n            currentUrl.origin !== location.origin && !currentUrl.searchParams.get(\"anonymous_id\");\n    if (updateExternalUrl) {\n      currentUrl.searchParams.append(\"anonymous_id\", rudderanalytics.getAnonymousId());\n      anchor.href = currentUrl;\n    }\n  });\n\n  const buttonLinks = document.getElementsByTagName(\"button\");\n  [...buttonLinks].forEach((button) => {\n    button.addEventListener(\n      \"click\",\n      (event) => {\n        const element = event.currentTarget;\n        const params = {\n          eventElement: \"button\",\n          title: element.innerText,\n          id_html: element.id,\n          className: element.className.split(\" \"),\n          ariaLabel: element.getAttribute(\"aria-label\"),\n        };\n        rudderanalytics.track(\"Pressed A Button\", params);\n      },\n      { once: true }\n    );\n  });\n}\n\nconst rudderanalytics = new RudderAnalytics();\n\nrudderanalytics.load(\"2Fivwkm2WzdbgiuTksdgWz729mz\", \"https://conversionwbv.dataplane.rudderstack.com\", {\n  storage: {\n    encryption: {\n      version: \"legacy\"\n    }\n  }\n});\nrudderanalytics.ready(() => {\n  // Register Custom Events\n  checkIfHtmxIsLoaded();\n  rudderanalytics.getAnonymousId();\n\n  // Decrypting AnnoymousId into form field.\n  window.addEventListener(\"onBeforeFormieSubmit\", () => {\n    updateAnonymousIdField();\n  });\n});\nrudderanalytics.page();\n","/* eslint no-console:0 */\nimport Cookies from \"js-cookie\";\n\nfunction socialShareForm() {\n  let socialShareForm = null;\n  let roleOption = null;\n\n  document.addEventListener(\"afterBlitzInjectAll\", function () {\n    socialShareForm = document.getElementById(\"socialShare\");\n    roleOption = document.getElementById(\"referrerSelectInput\");\n\n    // If the form has not been injected into the DOM, exit early.\n    if (!socialShareForm) {\n      return;\n    }\n\n    init();\n  });\n\n  function setCookie(name, value) {\n    const oneYearFromNow = new Date(new Date().getTime() + 365 * 24 * 60 * 60 * 1000);\n    Cookies.set(name, value, { expires: oneYearFromNow });\n  }\n\n  function init() {\n    // Copies job search input values, if they exist, and appends them to the current URL with the respective R value based on the social role selected\n    socialShareForm.addEventListener(\"submit\", function (event) {\n      event.preventDefault();\n\n      const form = document.querySelector(\"#jobSearch input\");\n      const inputs = form ? Array.from(form) : []; // spread into an array only if form is not null\n\n      // Strip current URL of all query parameters\n      const currentURLNoParams = `${window.location.origin}${window.location.pathname}`;\n      const shareURL = new URL(currentURLNoParams);\n\n      inputs\n        .filter(input => input.value !== \"\")\n        .forEach(input => shareURL.searchParams.append(input.name, input.value));\n\n      setCookie(\"social-role\", roleOption.value);\n      shareURL.searchParams.append(\"r\", roleOption.value);\n\n      navigator.clipboard.writeText(shareURL.href)\n        .then(() => {\n          // Create a new element to display the \"copied to clipboard\" message\n          const messageElement = document.createElement(\"div\");\n          messageElement.classList.add(\"clipboard\");\n          messageElement.textContent = \"Copied to clipboard\";\n          // Add the new element to the page\n          document.body.appendChild(messageElement);\n          // Remove the \"copied to clipboard\" message after a short delay\n          setTimeout(() => {\n            document.body.removeChild(messageElement);\n          }, 2000);\n        })\n        .catch(err => {\n          console.error(\"Failed to copy URL: \", err);\n        });\n    });\n  }\n}\n\nexport default socialShareForm();\n","function tracking() {\n  const TRACKING_ELEMENTS = document.querySelectorAll(\"[data-event-trigger]\");\n\n  // Query data attributes if the tracked button is clicked and invoke the respective function\n  function handleEvent(node) {\n    const GOOGLE_EVENT = node.dataset.googleEventCategory;\n    const FACEBOOK_EVENT = node.dataset.facebookEventTrack;\n\n    if (GOOGLE_EVENT && window.hasOwnProperty(\"dataLayer\")) {\n      pushGoogleEvent(GOOGLE_EVENT);\n    }\n\n    if (FACEBOOK_EVENT && window.hasOwnProperty(\"fbq\")) {\n      pushFacebookEvent(FACEBOOK_EVENT);\n    }\n  }\n\n  // Sends event to Google\n  function pushGoogleEvent(event) {\n    let gEvent = {\n      event: \"click\",\n      method: \"\",\n      transport_type: \"beacon\",\n      event_category: event,\n    };\n    window.dataLayer.push(gEvent);\n  }\n\n  // Sends event to Facebook\n  function pushFacebookEvent(event) {\n    window.fbq(\"track\", event);\n  }\n\n  // Adds an event listener to all tracked buttons\n  TRACKING_ELEMENTS.forEach(node => {\n    const EVENT_LISTENER_TYPE = node.dataset.eventTriggerType || \"click\";\n    node.addEventListener(EVENT_LISTENER_TYPE, () => handleEvent(node));\n  });\n}\n\nexport default tracking();\n// Path: src/assets/site/src/js/scripts/tracking.js","function virtualRecruiter() {\n  document.addEventListener(\"DOMContentLoaded\", function () {\n    const virtualRecruiterField = document.querySelector(\"[data-field-handle='virtualRecruiter']\");\n    const isVirtualRecruiterEnabled = virtualRecruiterField !== null;\n\n    if (isVirtualRecruiterEnabled) {\n      const form = document.querySelector(\".fui-form\");\n      const verifiedInput = virtualRecruiterField.querySelector(\"input[type='checkbox']\");\n      const redirectParamInput = form.querySelector(\"[data-field-handle='vrRedirect'] input\");\n\n      registerEventListeners();\n\n      function registerEventListeners() {\n        // Whenever the \"Verified\" field is conditionally hidden or shown, update the redirect input\n        virtualRecruiterField.addEventListener(\"onAfterFormieEvaluateConditions\", function (event) {\n          // Is the target field conditionally hidden? Then it's always not-checked. The \"Verified\" field\n          // could actually be checked, but hidden - we want it to evaluate as if they haven't opted-in.\n          if (event.target.conditionallyHidden) {\n            updateRedirectParam(false);\n          } else {\n            // Otherwise, best to check the state of the \"Verified\" field. Manually trigger the change event\n            verifiedInput.dispatchEvent(new Event(\"change\", { bubbles: true }));\n          }\n        });\n\n        // Whenever the \"Verified\" field is toggled on or off, update the redirect input\n        verifiedInput.addEventListener(\"change\", (event) => {\n          updateRedirectParam(event.target.checked);\n        });\n      }\n\n      function updateRedirectParam(checked) {\n        // Get whether the \"Verified\" input is checked, or conditionally hidden - or not\n        const value = checked ? \"thankyou\" : \"sorry\";\n        // Update the \"Redirect Param\" field\n        redirectParamInput.value = value;\n      }\n    }\n  }, false);\n}\n\nexport default virtualRecruiter();\n"],"file":"js/site.js"}